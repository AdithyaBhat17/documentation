<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">How Tos | Yellow Messenger</title><meta data-react-helmet="true" property="og:title" content="How Tos | Yellow Messenger"><meta data-react-helmet="true" name="description" content="Get answers to all your questions and learn some great tricks."><meta data-react-helmet="true" property="og:description" content="Get answers to all your questions and learn some great tricks."><meta data-react-helmet="true" property="og:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for How Tos | Yellow Messenger"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="twitter:card" content="summary"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.062154ba.css">
<link rel="preload" href="/styles.8262656a.js" as="script">
<link rel="preload" href="/runtime~main.cef8b47f.js" as="script">
<link rel="preload" href="/main.bce8000f.js" as="script">
<link rel="preload" href="/1.9be5ee1e.js" as="script">
<link rel="preload" href="/2.66435e07.js" as="script">
<link rel="preload" href="/141.d456e5b4.js" as="script">
<link rel="preload" href="/7e386127.664e5229.js" as="script">
<link rel="preload" href="/c2b4cf06.6ca826ef.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cookbooks">Cookbooks</a><a class="navbar__item navbar__link" href="/docs/documentation/overview">Documentation</a><a class="navbar__item navbar__link" href="/docs/developer/overview">Developer Guide</a><a class="navbar__item navbar__link" href="/docs/canary/introduction">Canary</a><a class="navbar__item navbar__link" href="/docs/bumblebee/introduction">Bumblebee</a><a class="navbar__item navbar__link" href="/videos">Videos</a></div><div class="navbar__items navbar__items--right"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Get started for free</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/cookbooks">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/documentation/overview">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/developer/overview">Developer Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/canary/introduction">Canary</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/bumblebee/introduction">Bumblebee</a></li><li class="menu__list-item"><a class="menu__link" href="/videos">Videos</a></li><li class="menu__list-item"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://cloud.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Get started for free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container"><div class="row"><div class="col"><article class="cookbookContainer_2HDW"><header class="header_29u0 margin-top--xl"><h1 class="cookbookTitle_w2-e">How Tos</h1><p class="cookbookDescription_2o7o">Get answers to all your questions and learn some great tricks.</p><p class="cookbookTimeToRead_23b9">21 min read</p></header><div class="container container--narrow container--bleed margin-vert--xl"><section class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="get-answers-to-all-your-questions-and-learn-some-great-tricks"></a>Get answers to all your questions and learn some great tricks.<a class="hash-link" href="#get-answers-to-all-your-questions-and-learn-some-great-tricks" title="Direct link to heading">#</a></h1><p>This page is for all the learners who LOVE to LEARN on the GO üèÉüèª‚Äç‚ôÇÔ∏è Time is precious and not everyone likes to take the long trail of step by step learning but get quick answers to tricky questions. This page is for the same kind of learners.   </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="basics---setup"></a>Basics - Setup<a class="hash-link" href="#basics---setup" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-create-a-bot"></a>How to create a bot?<a class="hash-link" href="#how-to-create-a-bot" title="Direct link to heading">#</a></h3><p>Please register yourself on <a href="https://app.yellowmessenger.com/" target="_blank" rel="noopener noreferrer">https://app.yellowmessenger.com/</a> and you can get a free bot access for 30Days. It won&#x27;t take 30 Days to learn the art of bot creation but we understand 30 Days trial should be sufficient to explore all the amazing features of the platform and create awesome AI based conversations. </p><p>Please contact <a href="mailto:sales@yellowmessenger.com" target="_blank" rel="noopener noreferrer">sales@yellowmessenger.com</a> for more information. </p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-sign-up-and-accept-bot-invite"></a>How to sign up and accept bot invite?<a class="hash-link" href="#how-to-sign-up-and-accept-bot-invite" title="Direct link to heading">#</a></h3><p>This answer will help understand how a new user can register herself/himself and accept the bot invite.
<strong>Keywords</strong> : invite</p><p><code>Step 1</code> : Go to <a href="https://app.yellowmessenger.com/" target="_blank" rel="noopener noreferrer">https://app.yellowmessenger.com/</a> and sign up with your email. Share the email with the YM team to send you the bot invite. </p><p><code>Step 2</code> : The bot will be visible under the ‚ÄòInvites‚Äô section, please accept the bot invite and then it will be visible either under Sandbox/ Staging/ Production.
<img alt="how to accept an invite" src="/assets/images/invite-b3ed114a728b998a1d6062cf773040b6.gif"></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-share-bot-access"></a>How to share Bot Access?<a class="hash-link" href="#how-to-share-bot-access" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : bot access, invite</p><p><code>Step 1</code> : Go to configurations page inside the bot, open Access control - <a href="https://app.yellowmessenger.com/a/Your" target="_blank" rel="noopener noreferrer">https://app.yellowmessenger.com/a/Your</a> BOT ID here/config/access</p><p><img alt="how to accept an invite" src="/assets/images/access-3520c247d0fd5958a947edc09223a0bb.png"></p><p><code>Step 2</code> : The bot will be visible under the ‚ÄòInvites‚Äô section, please accept the bot invite and then it will be visible either under Sandbox/ Staging/ Production.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-publish-a-bot"></a>How to publish a bot?<a class="hash-link" href="#how-to-publish-a-bot" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : bot publish, live</p><p><code>Step 1</code> : Check the following before pushing the bot either from sandbox to staging or staging to production. </p><ol><li>Bot Should be trained. </li><li>Compare the code in the developer section</li><li>Test the bot and especially the changes made recently. </li></ol><p><code>Step 2</code> : The bot will be visible under the ‚ÄòInvites‚Äô section, please accept the bot invite and then it will be visible either under Sandbox/ Staging/ Production.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-compare-code"></a>How to compare code?<a class="hash-link" href="#how-to-compare-code" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : compare</p><p>Note : </p><ol><li>This activity can be done only when the bot has been pushed and staging/ production bots exist. </li><li>Compare changes will appear only if there are changes. </li><li>The following combinations can be compare. Sandbox &gt; Staging and Staging &gt;  Production. </li></ol><p><code>Step 1</code> : Go to the developer section.</p><p><code>Step 2</code> : Under cloud functions, on the top left you will see the COMPARE button. </p><p><code>Step 3</code> : Click on the compare button to see new files created (C with green)/ deleted files (D with red) and modified files (M with blue) as compared to the next environment</p><p><img alt="how to accept an invite" src="/assets/images/compare-867218c0f095e3c81f2b9a98426e696c.png"></p><hr><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="learn---create--new"></a>Learn - Create / New<a class="hash-link" href="#learn---create--new" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-create-a-new-function"></a>How to create a new function?<a class="hash-link" href="#how-to-create-a-new-function" title="Direct link to heading">#</a></h3><p>Cloud Functions compose of all the user defined functions that defines and controls the flow of the bot. The whole structure of writing the code is modularised. Main is the default function which is executed for every message. In the builder section, we can link the cloud functions directly in validators or steps or init functions by selecting the corresponding cloud function created in Developer section.</p><p><img alt="how to add a new function" src="/assets/images/function-712147fb63eb2cc2ab65be795de167fd.png"></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-create-a-new-database-and-make-changes-to-it"></a>How to create a new database and make changes to it?<a class="hash-link" href="#how-to-create-a-new-database-and-make-changes-to-it" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> :  create , edit, upload, modify, delete, index, note on indexing issue and red symbol</p><p><code>Step 1 </code> : Adding a new table : You can add a new table by simply clicking on the ‚Äòcreate table‚Äô button. You can add fields here along with custom mapping of the fields if required. </p><p><img alt="how to add a new table" src="/assets/images/create-05f850e17457069c7c805cddf86f6f37.gif"></p><p><code>Step 2 </code> : Download the table and add/edit/remove any data from this table. Truncate the same table and reupload the new table. As shown in the following steps.
Edit the table as you want and save it in CSV format. Please make sure that the headers of the table are not changed. </p><p><img alt="how to download a table" src="/assets/images/download-5010f69757984aba5d55af64c80eace9.gif"></p><p><code>Step 3</code> : Truncate the table in the database and upload the new updated table. Please make sure you don‚Äôt Drop the table. Dropping the table will delete the table entirely. </p><p><img alt="how to download a table" src="/assets/images/truncate-a70a30ebac389a9af384b692c3170b49.gif"></p><p>Once changes are made, can upload the table in CSV format back on the same page using &#x27;Upload&#x27; button. </p><p><strong>Note</strong> : When willing to add single record without downloading and uploading, basically without making a fuss.<br>
Click on ‚ÄòAdd Record‚Äô and you can add one record at a time.
<img alt="how to make changes" src="/assets/images/edit-fa38a2232d61c5e50cc5f4845115fdae.gif"></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-validate-the-response-of-a-user"></a>How to Validate the response of a user?<a class="hash-link" href="#how-to-validate-the-response-of-a-user" title="Direct link to heading">#</a></h3><p>Validating any step is as simple as you can think, especially when the expected response from the user if name, email, mobile, location, quick replies or regex. Please regex can be defined here. </p><p>[image to be added for]</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-add-a-new-api"></a>How to add a new API?<a class="hash-link" href="#how-to-add-a-new-api" title="Direct link to heading">#</a></h3><ol><li>Click on Studio, go to API tab. On the API tab, click on <code>+ Create new API</code> button.</li></ol><p><img alt="Create new API" src="/assets/images/invoke_api_1-fffe99899414ed98ea4f7374a769d391.jpg"></p><ol start="2"><li>Enter an API name. API names are alpha-numeric names in Camel Case and we can not have multiple APIs with the same name. The <a href="https://official-joke-api.appspot.com/random_joke" target="_blank" rel="noopener noreferrer">joke API</a> used below returns a joke with a punchline in the GET request.</li></ol><p><img alt="Add joke API" src="/assets/images/invoke_api_2-8e51d961f9710b3ed680516fd00bf810.jpg"></p><ol start="3"><li>Once added, you can test the API by hitting <code>Send</code> button. If the API is correctly added and the endpoint works, you should be able to see a sample response as below. </li></ol><p><img alt="API Response" src="/assets/images/invoke_api_3-6b644c6d46c8dd4f4146e7838372d2dd.jpg"></p><ol start="4"><li>Don&#x27;t forget to click on save button on the bottom left corner, otherwise you won&#x27;t get a joke. Now you may laugh! üòÜ</li></ol><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-add-a-messages-to-localisation-rendermsg"></a>How to add a messages to localisation/ rendermsg?<a class="hash-link" href="#how-to-add-a-messages-to-localisation-rendermsg" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : localisation</p><p><code>Step 1</code> : To Get Started, Click on Localization Tab</p><p><code>Step 2</code> :Now add a unique code for this message, and type in a message English(default) .Then Click on ‚ÄúAdd Message‚Äù and then Click on ‚ÄúSave Settings‚Äù</p><p><code>Step 3</code> :Now, on the top right corner, select the language for which you want to configure the message in, an Example has been given below.</p><p><code>Step 4</code> :Lastly, corresponding to the code , add the message in the configured language field,then click the ‚ÄúSave Settings‚Äù button to save changes.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="syntax-"></a>SYNTAX:-<a class="hash-link" href="#syntax-" title="Direct link to heading">#</a></h4><p>Here is the syntax illustrated below:-
app.renderMessage(<code>code-goes-here</code>,{input parameters as object(Only if data is passes),‚Äùfallback-message‚Äù(optional, necessary if i18n:false})
USAGE:-
Here is an example illustrated for you:-</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.sendTextMessage(app.renderMessage(‚Äúnew-code‚Äù,{},‚Äùfall_back_message(if any)‚Äù)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">app.sendTextMessage(app.renderMessage(‚Äúnew-code‚Äù))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">app.sendTexMessage(app.renderMessage(&quot;ca-number&quot;),{ca : ca_number},&quot;Here are the details for your CA Number: {{ca_number}}&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="how to make changes" src="/assets/images/localisation-f40cb270c83151234a0ca8913f5aa1b8.gif"></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-setup-did-you-mean"></a>How to setup did you mean?<a class="hash-link" href="#how-to-setup-did-you-mean" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : didyoumean, suggestions</p><p>By default, when the bot is not able to understand any message, it displays a default message.
To combat this, we can generally provide custom text or quick replies.</p><p>But there is a catch, these responses are static in nature and at times is not what the user is looking for.
It is more intuitive to show some suggestions if they are very close to what the user requested or resemble something in the training of the bot.</p><p>For this, a default <em>didYouMean</em> function is being made available wherein, just by passing in the <em>app.prediction.intents</em>, it can provide you the alternative list of journeys that the bot thinks can be triggered.</p><blockquote><p>The overriding design goal for didYouMean is to make it as simple as possible to get meaningful suggestions.
The idea is that the developer shouldn‚Äôt need to re-invent the wheel and should be able to directly utilise this functionality so as to improve the user experience.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="where-to-call"></a>Where to call<a class="hash-link" href="#where-to-call" title="Direct link to heading">#</a></h4><p>The *didYouMean** function is being made available as the 2nd function in the list of functions in the Developer section of the platform.</p><p>So as not to conflict with existing functionality, it is not added as the Default Action for unidentified utterance. For this, <em>the developer has to go to Default Journey and add it as the response/action</em>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="function-syntax"></a>Function syntax<a class="hash-link" href="#function-syntax" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.getAlternateJourneyOptions(app.prediction.intents, 0.4, [], []).then((options) =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">})</span></div><div class="token-line" style="color:#393A34"><span class="token plain">// no catch required </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The didYouMean uses a util/helper function app.getAlternateJourneyOptions which provides the options back to the developer for further processing.</p><p>The function accepts 4 params as of now:</p><ul><li><p>app.prediction.intents -&gt; Mandatory. To get all the intents from the prediction.</p></li><li><p>confidence -&gt; Optional. Confidence threshold below which the journeys are filtered out from the result. By default, 0.0 to allow all journeys to pass through. The good value will be &gt;=0.4</p></li><li><p>journeySlugs -&gt; Optional. An array of journey slug names not to be included in the results.</p></li></ul><p>*categoryNames -&gt; Optional. An array of categories whose journeys will not be included in the results.</p><p>The function returns an array of objects called options that can be directly passed to app.sendQuickReplies as options.
If no journeys are present (or filtered out), then an empty array is returned.</p><p>The provision for handling both of these functions is present in the UI function.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="the-customization-that-can-be-done"></a>The customization that can be done<a class="hash-link" href="#the-customization-that-can-be-done" title="Direct link to heading">#</a></h4><p>In the UI, the following options can be customized:</p><ul><li><p>scripts -&gt; The text related to didYouMean can be customized according to the requirements and personality of the bot in question.</p></li><li><p>Agent Transfer -&gt; If Agent Transfer is present in the bot, you can include the journey explicitly. The provision is shown in the UI under the comments itself.</p></li><li><p>Caution - Please include the Agent Transfer journey where you pass journeySlugs so as to not show it as the option in between and most importantly to detect when didYouMean is failing.</p></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="faqs"></a>FAQs<a class="hash-link" href="#faqs" title="Direct link to heading">#</a></h4><p><em>What if I already have a didYouMean function implemented in my code?</em>
The didYouMean has been added in such a way that if you already have a function called didYouMean, then the function won‚Äôt be overwritten. Though we do advise to give our function a shot as additional features will be tied into the functionality.</p><p><em>What if I want to add more functionality to the function?</em>
You are always free to customize the UI function according to your needs.
If in some cases, you feel that some features should be made available by default from the Platform side, you can always drop a message to the below-given details.</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-receive-an-event-from-an-external-third-party"></a>How to receive an event from an external third party?<a class="hash-link" href="#how-to-receive-an-event-from-an-external-third-party" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : receive events</p><p>In order to receive events from outside of Yellow Messenger on the YM Platform on any bot we can use the following API :
[API to added here]</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-do-elastic-search-for-database"></a>How to do elastic search for database<a class="hash-link" href="#how-to-do-elastic-search-for-database" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="datastore"></a>DataStore<a class="hash-link" href="#datastore" title="Direct link to heading">#</a></h4><p>The datastore is the local database that is available with each bot instance. It is stored inside MongoDB and is indexed with ElasticSearch.</p><p>Each bot‚Äôs table gets it‚Äôs own index, by default. If needed, you can specify your own elasticsearch mapping to map the database as per your need.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="architecture"></a>Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">#</a></h4><p>Each table in the bot gets its own space in MongoDB and gets indexed into elasticsearch.</p><p>You can use the UI to create the table, but in order to query through your code, you will need to know how to write elasticsearch queries</p><p>A good place to start would be: <a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/getting-started.html" target="_blank" rel="noopener noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/6.7/getting-started.html</a></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="datastore-ui"></a>Datastore UI<a class="hash-link" href="#datastore-ui" title="Direct link to heading">#</a></h4><p>The datastore in the UI can be accessed through Developer -&gt; Database, herewith referred to as database section in this document</p><p>Datastore API
The datastore is available inside the app library and can be accessed with app.dataStore</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="datastore-methods"></a>Datastore methods<a class="hash-link" href="#datastore-methods" title="Direct link to heading">#</a></h4><ul><li>search</li><li>insert</li><li>update</li><li>delete</li><li>find</li><li>aggregate</li><li>updateMany</li><li>get</li><li>getForm</li><li>search
The datastore search can be used to search for the record in the table</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.datastore.search({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    table: tableName,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    body: esQuery</span></div><div class="token-line" style="color:#393A34"><span class="token plain">})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><em>tableName</em>: The table name that is present in the database section</p><p><em>esQuery</em>: The elastic search query that is to be used to search for the records</p><p>This function is promisified and hence can be chained for success and reject cases. The chain would go into the reject block in-case of any errors. It is vital to handle this part.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="insert"></a>insert<a class="hash-link" href="#insert" title="Direct link to heading">#</a></h4><p>The datastore insert function can be used to add records to your table</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.datastore.insert({</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        table: tableName,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        record: recordObject</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    })</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><em>tableName</em>: The table name that is present in the database section</p><p><em>recordObject</em>: The Object containing the key-value pairs of the record. The keys are the column names and the values are the values for the columns. The keys have to match the exact column name present in the table</p><hr><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="design---related-to-bot-ui"></a>Design - Related To BOT UI<a class="hash-link" href="#design---related-to-bot-ui" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="change-the-nametitle-sub-title-description-of-the-bot"></a>Change the name,title, sub-title, description of the bot?<a class="hash-link" href="#change-the-nametitle-sub-title-description-of-the-bot" title="Direct link to heading">#</a></h3><p>ü§ì Trick : If you want to see live preview of the changes you‚Äôre making then go to your bot journeys, click on ‚ÄòTest your bot&#x27; on top right. And click on Bot Direct Link as shown here -</p><p><img alt="how to make changes in UI" src="/assets/images/configurations-9ab9d9ebccfd8215dbee508d9e9ecaee.gif"></p><p>You can also upload a new bot icon here. </p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="change-the-color-schema-and-design-of-the-bot"></a>Change the color schema and design of the bot?<a class="hash-link" href="#change-the-color-schema-and-design-of-the-bot" title="Direct link to heading">#</a></h3><p>Creativity is intelligence having fun. Better color combinations and effective aesthetics can be a cherry on the cake, so we should make sure that these features, the color, font, etc can be matched with the clients websites and a standard template can be followed for all chatbots.  </p><p><code>Step 1</code> : Access Chat Widget here - Go to app.yellowmessenger.com -&gt; Login with YM credentials -&gt; Open a bot -&gt; Go to configurations tab on the left -&gt; Go to Channels at the top -&gt; Click on the first tile there i.e. Chat Widget as show here.</p><p><code>Step 2</code> : Under Chat-Widget, you will see the following sections inAppearances and Settings. </p><ol><li><p>Basic </p></li><li><p>Advance</p></li><li><p>General </p></li><li><p>Publish your bot : Use the code snippet provided there, add it to the bottom of the ‚Äòbody‚Äô tag. This should be shared with the client and can be added to their index.html page. </p></li></ol><p><img alt="how to make changes in UI" src="/assets/images/appearance-34e35c77c6f59994f438ad0be30d3481.png"></p><p><code>Step 3</code> : As highlighted here in the below image. We have default theme selected now, we can change the settings in the four tabs and save it as a theme.<br>
<img alt="how to make changes in UI" src="/assets/images/theme-f0260d37a4f0ffd05ba7a369b107886a.png"></p><p>Just one more thing, don‚Äôt forget to &#x27;Save your Settings&#x27; and your beautiful bot is good to go! üôÇ </p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-bulk-insert-journeys"></a>How to bulk insert journeys?<a class="hash-link" href="#how-to-bulk-insert-journeys" title="Direct link to heading">#</a></h3><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-change-the-font-of-a-bot"></a>How to change the font of a bot?<a class="hash-link" href="#how-to-change-the-font-of-a-bot" title="Direct link to heading">#</a></h3><p>Good fonts means 5 more marks for good handwriting! Haha! Let&#x27;s see how we can change the font of the bot.
This document will help in changing font for PWA/ Website Bots. </p><p><strong>Keywords</strong> : #fonts, #chatWidget #botUI
<strong>References</strong> : <a href="https://fonts.google.com/" target="_blank" rel="noopener noreferrer">https://fonts.google.com/</a></p><p><code>Step 1</code> : Browse through the <a href="https://fonts.google.com/" target="_blank" rel="noopener noreferrer">Google fonts </a>link and choose your favorite style.   </p><p><img alt="select" src="/assets/images/font-141dd4a11ffcb213adc1e6d7ecb6c1cd.png"></p><p><code>Step 2</code> : Select a style, get the URL. URL would look something like this - <a href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&amp;display=swap" target="_blank" rel="noopener noreferrer">https://fonts.googleapis.com/css2?family=Roboto:wght@300&amp;display=swap</a>   </p><p><code>Step 3</code> : Open this link in a different tab and get the <em>.woff2</em> link from there.
<img alt="select" src="/assets/images/font-woff2-f2a6e7ba12926229a0d82a877ab2319e.png"></p><p><code>Step 4</code> : Now add this link to the Channels &gt; Web &gt; Font &gt; Advanced &gt; Custom Font URL
<img alt="select" src="/assets/images/font-add-0dee15b52de9f1d5356e7d1162788783.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tricks---all-interesting-stuff-here"></a>Tricks - All interesting stuff here.<a class="hash-link" href="#tricks---all-interesting-stuff-here" title="Direct link to heading">#</a></h2><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-add-contextual-responses"></a>How to add Contextual Responses?<a class="hash-link" href="#how-to-add-contextual-responses" title="Direct link to heading">#</a></h3><p><strong>Keywords</strong> : contextual, why, what, how</p><p>Setting up contextual responses means adding more context to the response to a particular step. To simplify it further lets take an example<br>
<strong>Bot</strong> : Can you share your email with me?<br>
<del><strong>User</strong> : Sure, <a href="mailto:gooduser@email.com" target="_blank" rel="noopener noreferrer">gooduser@email.com</a></del><br>
<strong>Bot</strong> : Why do you need my email?  </p><p>What if instead of giving their email address during a conversation, customer asked <em>What is an email</em> Or <em>Why do you need my email</em>.
These type of contextual intents can be handled in the following ways :</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="first-way-of-adding-contextual-responses--adding-global-contextual-responses"></a>First Way of Adding Contextual Responses : Adding Global Contextual Responses<a class="hash-link" href="#first-way-of-adding-contextual-responses--adding-global-contextual-responses" title="Direct link to heading">#</a></h4><p>Setting up standard contextual responses for all steps in all journeys in the bot. Basically if the users ask Why/What/How/ etc at any step, the response will be the same. If you want the same, please follow the following steps : </p><p><code>Step 1</code> : On the Yellow Messenger Platform, under Studio &gt; Learn &gt; Context Management as shown below.
<img alt="contextual" src="/assets/images/contextual-28ebfdb625fd79fa48dc65d915964eef.png"></p><p><code>Step 2</code> : You can change or add the responses for the various predefined contextual intents like What/Why/How/When/Where/etc.
<img alt="contextual" src="/assets/images/contextual-edit-0dc2696b8e84dcfdb46e5e094e972d73.png"></p><p><code>Step 3</code> : You can Bulk Upload and Export these intents and responses as well.
<img alt="contextual" src="/assets/images/contextual-bulk-607eed767acf990e8887708958b26f88.png"></p><p><code>Step 4</code> : In order to add new intents click on <em> &#x27;+ Add Contextual Responses&#x27;</em>
<img alt="contextual" src="/assets/images/contextual-new-6657995b84c854e1162fbcc1931dd221.png"></p><p><code>Step 5</code> : Add as many training utterances as possible, prompts that the user can type for a particular context. </p><p>Now when the user will ask for these questions [Why/What/How/etc] at any step during the conversation. The bot will be able to send these contexual responses to the user. </p><p>Please note that the user is not moving ahead while user is asking contextual responses. The user will remain at the same step untill the correct response if given. </p><p><img alt="contextual" src="/assets/images/contextual-example-d1d0fba107e1b43613fd59d5422c2b14.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="second-way-of-adding-contextual-responses--adding-step-contextual-responses"></a>Second Way of Adding Contextual Responses : Adding Step Contextual Responses<a class="hash-link" href="#second-way-of-adding-contextual-responses--adding-step-contextual-responses" title="Direct link to heading">#</a></h4><p>In case you want a different contextual response at every step in the bot, please follow the given steps : </p><p><code>Step 1</code> : Could not find this in the new platform UI. </p><p><code>Step 2</code> : </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-setup-context-at-any-step"></a>How to setup context at any step?<a class="hash-link" href="#how-to-setup-context-at-any-step" title="Direct link to heading">#</a></h3><blockquote><p>We humans are always aware of context. Even chatbots also store the context to maintain the state of conversation.
Conversations always happen on a particular topic (like intent), and it is a chain of texts (steps) exchanged between the user and the bot. So, this context keeps the conversation flowing.</p></blockquote><p>This context is stored as a JSON which is constantly updated at each and every step of a conversation. It stores all the info required to identify the state of a conversation, like the <em>step information</em> (visited steps), <em>intent name</em> (current intent) any many more.
It is available at app.context</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.context object</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   &quot;complete&quot;: true,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">   &quot;steps&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;mobile_num&quot;: &quot;9999999999&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">       &quot;customer_id&quot;: &quot;-&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;otp&quot;: &quot;-&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    &quot;intent&quot;: &quot;login&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>At any point, you can access this object to do things like</p><ul><li>getting data of the steps</li><li>knowing the current status of the conversation ( Intent name &amp; the number of steps visited )</li><li>changing a step value</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="getting-data-of-the-steps"></a>Getting data of the steps<a class="hash-link" href="#getting-data-of-the-steps" title="Direct link to heading">#</a></h4><ul><li>app.context.steps is an object which contains key-value pairs of steps and the step values (user inputs) in the format step_name: step_value</li><li>A new step is added into app.context.steps only after the validation of that step.</li><li>When it hits an intent, this steps object is initially empty</li><li></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="getting-intent-name"></a>Getting Intent name<a class="hash-link" href="#getting-intent-name" title="Direct link to heading">#</a></h4><ul><li>app.context.intent contains the current intent name</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="other-data"></a>Other data<a class="hash-link" href="#other-data" title="Direct link to heading">#</a></h4><p>(Very limited use cases though)</p><ul><li>app.context.complete contains a boolean value. If it‚Äôs true then the intent is done with visiting all the steps</li><li>app.dataHistory contains an array of most recent incoming messages to the bot
In action function, you can make use of this app.context object to get all the required information to process the answer.</li></ul><p>A typical action function below</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // Getting the data from the steps</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    let otp = app.context.steps.otp</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    let mobile = app.context.steps[&#x27;mobile_number&#x27;] // another way of accessing data</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // API CALL which requires the above data</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    // api logic here</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span></div><div class="token-line" style="color:#393A34"><span class="token plain">    app.sendTextMessage(&#x27;You have been successfully logged in&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    resolve();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">});</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This object is always updated for every intent. When it hits another intent all the steps data will erased and the intent name will be changed.</p></section><a class="button button--outline button--primary margin-vert--lg" href="/cookbooks">Find more cookbooks</a></div></article></div><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basics---setup" class="table-of-contents__link">Basics - Setup</a><ul><li><a href="#how-to-create-a-bot" class="table-of-contents__link">How to create a bot?</a></li><li><a href="#how-to-sign-up-and-accept-bot-invite" class="table-of-contents__link">How to sign up and accept bot invite?</a></li><li><a href="#how-to-share-bot-access" class="table-of-contents__link">How to share Bot Access?</a></li><li><a href="#how-to-publish-a-bot" class="table-of-contents__link">How to publish a bot?</a></li><li><a href="#how-to-compare-code" class="table-of-contents__link">How to compare code?</a></li></ul></li><li><a href="#learn---create--new" class="table-of-contents__link">Learn - Create / New</a><ul><li><a href="#how-to-create-a-new-function" class="table-of-contents__link">How to create a new function?</a></li><li><a href="#how-to-create-a-new-database-and-make-changes-to-it" class="table-of-contents__link">How to create a new database and make changes to it?</a></li><li><a href="#how-to-validate-the-response-of-a-user" class="table-of-contents__link">How to Validate the response of a user?</a></li><li><a href="#how-to-add-a-new-api" class="table-of-contents__link">How to add a new API?</a></li><li><a href="#how-to-add-a-messages-to-localisation-rendermsg" class="table-of-contents__link">How to add a messages to localisation/ rendermsg?</a></li><li><a href="#how-to-setup-did-you-mean" class="table-of-contents__link">How to setup did you mean?</a></li><li><a href="#how-to-receive-an-event-from-an-external-third-party" class="table-of-contents__link">How to receive an event from an external third party?</a></li><li><a href="#how-to-do-elastic-search-for-database" class="table-of-contents__link">How to do elastic search for database</a></li></ul></li><li><a href="#design---related-to-bot-ui" class="table-of-contents__link">Design - Related To BOT UI</a><ul><li><a href="#change-the-nametitle-sub-title-description-of-the-bot" class="table-of-contents__link">Change the name,title, sub-title, description of the bot?</a></li><li><a href="#change-the-color-schema-and-design-of-the-bot" class="table-of-contents__link">Change the color schema and design of the bot?</a></li><li><a href="#how-to-bulk-insert-journeys" class="table-of-contents__link">How to bulk insert journeys?</a></li><li><a href="#how-to-change-the-font-of-a-bot" class="table-of-contents__link">How to change the font of a bot?</a></li></ul></li><li><a href="#tricks---all-interesting-stuff-here" class="table-of-contents__link">Tricks - All interesting stuff here.</a><ul><li><a href="#how-to-add-contextual-responses" class="table-of-contents__link">How to add Contextual Responses?</a></li><li><a href="#how-to-setup-context-at-any-step" class="table-of-contents__link">How to setup context at any step?</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Yellow Messenger</div></div></div></footer></div>
<script src="/styles.8262656a.js"></script>
<script src="/runtime~main.cef8b47f.js"></script>
<script src="/main.bce8000f.js"></script>
<script src="/1.9be5ee1e.js"></script>
<script src="/2.66435e07.js"></script>
<script src="/141.d456e5b4.js"></script>
<script src="/7e386127.664e5229.js"></script>
<script src="/c2b4cf06.6ca826ef.js"></script>
</body>
</html>