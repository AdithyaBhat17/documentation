(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{246:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return b})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(7),i=(a(0),a(403)),l=["components"],o={sidebar_label:"Creating groups of audience using CSV Import and Tags",title:"Creating groups of audience using CSV Import and Tags"},c={unversionedId:"platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",id:"platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",isDocsHomePage:!1,title:"Creating groups of audience using CSV Import and Tags",description:"Importing users from a CSV and grouping them using Tags",source:"@site/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv.md",slug:"/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",permalink:"/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",version:"current",sidebar_label:"Creating groups of audience using CSV Import and Tags",sidebar:"platform_concepts",previous:{title:"What is User ID and why you\u2019d want to use it?",permalink:"/docs/platform_concepts/engagement/cdp/enriching_user_profiles/user_id"},next:{title:"Sending User Data and Events using REST APIs",permalink:"/docs/platform_concepts/engagement/cdp/enriching_user_profiles/send_user_data_event_rest_api"}},b=[{value:"Importing users from a CSV and grouping them using Tags",id:"importing-users-from-a-csv-and-grouping-them-using-tags",children:[]},{value:"Pre-checks before uploading the CSV",id:"pre-checks-before-uploading-the-csv",children:[]},{value:"Using the userId column to identify users",id:"using-the-userid-column-to-identify-users",children:[]},{value:"Figuring out what went wrong with your CSV Import",id:"figuring-out-what-went-wrong-with-your-csv-import",children:[]}],s={toc:b};function p(e){var t=e.components,a=Object(r.a)(e,l);return Object(i.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"importing-users-from-a-csv-and-grouping-them-using-tags"},"Importing users from a CSV and grouping them using Tags"),Object(i.b)("p",null,"The first step to start importing users is to have the CSV. Make sure that the column headers match the name of the user property that you want to map that column with. These names are ",Object(i.b)("strong",{parentName:"p"},"case sensitive")," and the column header ",Object(i.b)("strong",{parentName:"p"},"should not include spaces")," before/after."),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://i.imgur.com/gEcRb2s.jpg",alt:null})),Object(i.b)("p",null,"To begin the CSV import, you may click on ",Object(i.b)("strong",{parentName:"p"},"+ Add user \u2192 Import users.")),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://i.imgur.com/ntdUjuO.jpg",alt:null})),Object(i.b)("p",null,"You can upload the CSV you want to import users from. An optional step is to add ",Object(i.b)("strong",{parentName:"p"},"tags.")," The tags that you add at this step will get added for every user in the CSV. This can be a great way to differentiate between users uploaded from multiple CSV files and to maintain multiple audiences."),Object(i.b)("p",null,"You can then ",Object(i.b)("a",{parentName:"p",href:"../user_data_segments/creating_managing_user_segment"},"create a segment")," using those tags to refer to the various set of audiences you have imported."),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://i.imgur.com/Asg1896.jpg",alt:null})),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"If the ",Object(i.b)("a",{parentName:"p",href:"../enriching_user_profiles/user_id"},"userId")," is not passed in the CSV, yellow.ai creates and assigns an internally generated userId to each user that is imported."))),Object(i.b)("h2",{id:"pre-checks-before-uploading-the-csv"},"Pre-checks before uploading the CSV"),Object(i.b)("p",null,"To ensure that your users are imported successfully, you can ensure the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Correct column headers \u2192 Make sure that the column headers match the name of the user property that you want to map that column with. These names are case sensitive and the column header should not include spaces before/after. ")),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"If any of these column headers do not match with any user property, the entire CSV import will fail."))),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Correct data type \u2192 Data type validation is run before importing each user record. User records where this validation fails, will be skipped. Each data type accepts the following values:")),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"Data Type"),Object(i.b)("th",{parentName:"tr",align:null},"Accepted Value"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"String"),Object(i.b)("td",{parentName:"tr",align:null},"Any string value")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"List"),Object(i.b)("td",{parentName:"tr",align:null},"semicolon ; separated values without spaces")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"email"),Object(i.b)("td",{parentName:"tr",align:null},"A valid email id format")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"Number"),Object(i.b)("td",{parentName:"tr",align:null},"Any integer or decimal number with max 15 digits")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"Phone"),Object(i.b)("td",{parentName:"tr",align:null},"A valid phone number with country code")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"url"),Object(i.b)("td",{parentName:"tr",align:null},"A valid url format")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"date"),Object(i.b)("td",{parentName:"tr",align:null},"YYYY-MM-DD format")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"dateTime"),Object(i.b)("td",{parentName:"tr",align:null},"YYYY-MM-DD hh:mm:ss format")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"time"),Object(i.b)("td",{parentName:"tr",align:null},"hh:mm:ss format")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"boolean"),Object(i.b)("td",{parentName:"tr",align:null},"true or false value, this is case insensitive")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"tags"),Object(i.b)("td",{parentName:"tr",align:null},"semicolon ; separated values without spaces")))),Object(i.b)("h2",{id:"using-the-userid-column-to-identify-users"},"Using the userId column to identify users"),Object(i.b)("p",null,"You can pass the userId for the users being imported by creating a ",Object(i.b)("strong",{parentName:"p"},"userId column")," in your CSV. However, keep in mind that no 2 user records can have the same userId. You may read more about userId and it\u2019s importance ",Object(i.b)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/user_id"},"here"),"."),Object(i.b)("p",null,"When the CSV includes a user record with a userId that already exists in the users table, a conflict arises between the old record and the new record. The new record is ",Object(i.b)("strong",{parentName:"p"},"merged")," into the old record in the following manner:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Properties provided for the new record, will be over-written on the older record."),Object(i.b)("li",{parentName:"ul"},"Properties not provided for the new record, will be retained for the older record.")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"For example:")),Object(i.b)("p",null,"Old record:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"userId"),Object(i.b)("th",{parentName:"tr",align:null},"firstName"),Object(i.b)("th",{parentName:"tr",align:null},"email"),Object(i.b)("th",{parentName:"tr",align:null},"phone"),Object(i.b)("th",{parentName:"tr",align:null},"tags"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"123"),Object(i.b)("td",{parentName:"tr",align:null},"Sarthak"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"mailto:sarthak@yellow.ai"},"sarthak@yellow.ai")),Object(i.b)("td",{parentName:"tr",align:null},"919999999999"),Object(i.b)("td",{parentName:"tr",align:null},"tag1,tag2")))),Object(i.b)("p",null,"New record:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"userId"),Object(i.b)("th",{parentName:"tr",align:null},"firstName"),Object(i.b)("th",{parentName:"tr",align:null},"email"),Object(i.b)("th",{parentName:"tr",align:null},"phone"),Object(i.b)("th",{parentName:"tr",align:null},"tags"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"123"),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null}),Object(i.b)("td",{parentName:"tr",align:null},"918888888888"),Object(i.b)("td",{parentName:"tr",align:null},"tag3,tag4")))),Object(i.b)("p",null,"Merged Record:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"userId"),Object(i.b)("th",{parentName:"tr",align:null},"firstName"),Object(i.b)("th",{parentName:"tr",align:null},"email"),Object(i.b)("th",{parentName:"tr",align:null},"phone"),Object(i.b)("th",{parentName:"tr",align:null},"tags"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"123"),Object(i.b)("td",{parentName:"tr",align:null},"Sarthak"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"mailto:sarthak@yellow.ai"},"sarthak@yellow.ai")),Object(i.b)("td",{parentName:"tr",align:null},"918888888888"),Object(i.b)("td",{parentName:"tr",align:null},"tag3,tag4")))),Object(i.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"Sometimes you might notice that the exact number of records you imported through CSV won't show up in the users table. This could be because some of the records being imported were merged with existing records."))),Object(i.b)("h2",{id:"figuring-out-what-went-wrong-with-your-csv-import"},"Figuring out what went wrong with your CSV Import"),Object(i.b)("p",null,"Sometimes you might notice that the number of users you tried importing from the CSV didn\u2019t show up in the users table. Here is might what have gone wrong:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"../enriching_user_profiles/create_audience_group_csv#pre-checks-before-uploading-the-csv"},"Wrong column headers")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"../enriching_user_profiles/create_audience_group_csv#pre-checks-before-uploading-the-csv"},"Data type mismatch")),Object(i.b)("li",{parentName:"ul"},"Some users being imported must\u2019ve ",Object(i.b)("a",{parentName:"li",href:"../enriching_user_profiles/create_audience_group_csv#using-the-userid-column-to-identify-users"},"merged")," into existing user records")),Object(i.b)("p",null,"You can figure out which of the above happened by heading to ",Object(i.b)("a",{parentName:"p",href:"../user_data_segments/manage_user_data#user-logs"},"User Logs"),". Click on User Logs \u2192  relevant ",Object(i.b)("strong",{parentName:"p"},"CSV Import activity \u2192 Download log")),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://i.imgur.com/5jj2BgM.jpg",alt:null})),Object(i.b)("p",null,Object(i.b)("img",{parentName:"p",src:"https://i.imgur.com/55QuPiA.jpg",alt:null})),Object(i.b)("p",null,"The downloaded log will include the following columns:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"BOT_ID")," \u2192 Bot Id for which the CSV was uploaded."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"REQUEST_PAYLOAD")," \u2192 The user record for which an import was attempted but FAILED"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"ERROR_PAYLOAD")," \u2192 The error details due to which above user import FAILED:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"invalidDataType"),": Properties for which the wrong data type was passed"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"invalidProperty"),": Properties that do not exist in the user table"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"LINE_NUMBER")," \u2192 The row number of the user record for which import FAILED")))}p.isMDXComponent=!0},403:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(0),r=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),s=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=s(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),p=s(a),m=n,d=p["".concat(l,".").concat(m)]||p[m]||u[m]||i;return a?r.a.createElement(d,o(o({ref:t},b),{},{components:a})):r.a.createElement(d,o({ref:t},b))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var b=2;b<i;b++)l[b]=a[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);