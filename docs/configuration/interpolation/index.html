<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Yellow Messenger Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Yellow Messenger Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Interpolation | Yellow Messenger</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellowmessenger.com/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Yellow Messenger"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Interpolation | Yellow Messenger"><meta data-react-helmet="true" name="description" content="Benthos allows you to dynamically set config fields with environment variables anywhere within a config file using the syntax ${} (or ${"><meta data-react-helmet="true" property="og:description" content="Benthos allows you to dynamically set config fields with environment variables anywhere within a config file using the syntax ${} (or ${"><meta data-react-helmet="true" property="og:url" content="https://docs.yellowmessenger.com/docs/configuration/interpolation"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.yellowmessenger.com/docs/configuration/interpolation"><link rel="stylesheet" href="/styles.5559d08e.css">
<link rel="preload" href="/styles.e4d5cb5b.js" as="script">
<link rel="preload" href="/runtime~main.e88295cd.js" as="script">
<link rel="preload" href="/main.c8e4b053.js" as="script">
<link rel="preload" href="/1.5924ca73.js" as="script">
<link rel="preload" href="/2.b09603a0.js" as="script">
<link rel="preload" href="/333.fa5c3434.js" as="script">
<link rel="preload" href="/332.1fbf5b90.js" as="script">
<link rel="preload" href="/935f2afb.ad0a51ea.js" as="script">
<link rel="preload" href="/17896441.ea7c0357.js" as="script">
<link rel="preload" href="/64e9e2d2.4c1a1b04.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/about">Docs</a><a class="navbar__item navbar__link" href="/cookbooks">Cookbooks</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/videos">Videos</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/community">Community</a><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Lab</a><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-download-link header-icon-link" aria-label="Download"></a><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link header-icon-link" aria-label="GitHub repository"></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="Yellow Messenger" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/cookbooks">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/videos">Videos</a></li><li class="menu__list-item"><a class="menu__link" href="/community">Community</a></li><li class="menu__list-item"><a href="https://lab.benthos.dev" target="_blank" rel="noopener noreferrer" class="menu__link">Lab</a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos/releases/latest" target="_blank" rel="noopener noreferrer" class="menu__link header-download-link header-icon-link" aria-label="Download"></a></li><li class="menu__list-item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link header-icon-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about">About</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/batching">Message Batching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/windowed_processing">Windowed Processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/metadata">Metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/error_handling">Error Handling</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/configuration/interpolation">Interpolation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/field_paths">Field Paths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/processing_pipelines">Processing Pipelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/unit_testing">Unit Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration/dynamic_inputs_and_outputs">Dynamic Inputs and Outputs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/http/about">HTTP</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Inputs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp_0_9">amqp_0_9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp_1">amqp_1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_kinesis">aws_kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/aws_sqs">aws_sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/azure_blob_storage">azure_blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/bloblang">bloblang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/broker">broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/csv">csv</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/dynamic">dynamic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/gcp_pubsub">gcp_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/hdfs">hdfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/http_client">http_client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/inproc">inproc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kafka">kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kinesis">kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/mqtt">mqtt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nanomsg">nanomsg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nats">nats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nats_stream">nats_stream</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/nsq">nsq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/read_until">read_until</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_list">redis_list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_pubsub">redis_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/redis_streams">redis_streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/s3">s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sequence">sequence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/socket">socket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/socket_server">socket_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sqs">sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/stdin">stdin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/websocket">websocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/zmq4">zmq4</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/sftp">sftp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/amqp">amqp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/files">files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kafka_balanced">kafka_balanced</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/kinesis_balanced">kinesis_balanced</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/tcp">tcp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/tcp_server">tcp_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/inputs/udp_server">udp_server</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Processors</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/archive">archive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/avro">avro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/awk">awk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/aws_lambda">aws_lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/bloblang">bloblang</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/bounds_check">bounds_check</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/branch">branch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/cache">cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/catch">catch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/compress">compress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/decompress">decompress</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/dedupe">dedupe</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/for_each">for_each</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/grok">grok</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/group_by">group_by</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/group_by_value">group_by_value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/http">http</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/insert_part">insert_part</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/jmespath">jmespath</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/jq">jq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/json_schema">json_schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/log">log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/metric">metric</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/noop">noop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/parallel">parallel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/parse_log">parse_log</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/protobuf">protobuf</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/rate_limit">rate_limit</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/redis">redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/select_parts">select_parts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sleep">sleep</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/split">split</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sql">sql</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/switch">switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sync_response">sync_response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/throttle">throttle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/try">try</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/unarchive">unarchive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/while">while</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/workflow">workflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/xml">xml</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/batch">batch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/conditional">conditional</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/decode">decode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/encode">encode</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/filter">filter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/filter_parts">filter_parts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/hash">hash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/hash_sample">hash_sample</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/json">json</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/lambda">lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/merge_json">merge_json</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/metadata">metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/number">number</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_batch">process_batch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_dag">process_dag</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_field">process_field</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/process_map">process_map</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/sample">sample</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/processors/text">text</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Outputs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp_0_9">amqp_0_9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp_1">amqp_1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_dynamodb">aws_dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_kinesis">aws_kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_kinesis_firehose">aws_kinesis_firehose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_sns">aws_sns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/aws_sqs">aws_sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_blob_storage">azure_blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_queue_storage">azure_queue_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/azure_table_storage">azure_table_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/broker">broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/cache">cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/cassandra">cassandra</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop">drop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop_on">drop_on</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/dynamic">dynamic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/elasticsearch">elasticsearch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/gcp_pubsub">gcp_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/hdfs">hdfs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/http_client">http_client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/inproc">inproc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kafka">kafka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/mqtt">mqtt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nanomsg">nanomsg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nats">nats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nats_stream">nats_stream</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/nsq">nsq</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_hash">redis_hash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_list">redis_list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_pubsub">redis_pubsub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/redis_streams">redis_streams</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/reject">reject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/resource">resource</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/retry">retry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/socket">socket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sql">sql</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/stdout">stdout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/subprocess">subprocess</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/switch">switch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sync_response">sync_response</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/try">try</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/websocket">websocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/zmq4">zmq4</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sftp">sftp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/amqp">amqp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/blob_storage">blob_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/drop_on_error">drop_on_error</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/dynamodb">dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/files">files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kinesis">kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/kinesis_firehose">kinesis_firehose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/s3">s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sns">sns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/sqs">sqs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/table_storage">table_storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/tcp">tcp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/outputs/udp">udp</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Caches</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/aws_dynamodb">aws_dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/aws_s3">aws_s3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/file">file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/memcached">memcached</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/memory">memory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/multilevel">multilevel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/redis">redis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/ristretto">ristretto</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/dynamodb">dynamodb</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/caches/s3">s3</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Rate Limits</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/rate_limits/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/rate_limits/local">local</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Buffers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/memory">memory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/buffers/none">none</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Metrics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/aws_cloudwatch">aws_cloudwatch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/http_server">http_server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/prometheus">prometheus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/statsd">statsd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/stdout">stdout</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Experimental</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/influxdb">influxdb</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Deprecated</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/blacklist">blacklist</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/cloudwatch">cloudwatch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/rename">rename</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/metrics/whitelist">whitelist</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tracers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/jaeger">jaeger</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/tracers/none">none</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/components/logger/about">Logger</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/getting_started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Bloblang</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/bloblang/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/bloblang/functions">Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/bloblang/methods">Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/bloblang/advanced">Advanced</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/monitoring">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/performance_tuning">Performance Tuning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/sync_responses">Synchronous Responses</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/aws">Amazon Web Services</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Serverless</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/serverless/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/serverless/lambda">Lambda</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Streams Mode</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/about">About</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/using_config_files">Streams Via Config Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/using_rest_api">Streams Via REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/streams_mode/streams_api">Streams API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Migration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/migration/v2">Migrating to Version 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/migration/v3">Migrating to Version 3</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Interpolation</h1></header><div class="markdown"><p>Benthos allows you to dynamically set config fields with environment variables anywhere within a config file using the syntax <code>${&lt;variable-name&gt;}</code> (or <code>${&lt;variable-name&gt;:&lt;default-value&gt;}</code> in order to specify a default value). This is useful for setting environment specific fields such as addresses:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">input</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kafka</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${BROKERS}&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">consumer_group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> benthos_bridge_consumer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">topics</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;haha_business&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sh codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">BROKERS=&quot;foo:9092,bar:9092&quot; benthos -c ./config.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If a literal string is required that matches this pattern (<code>${foo}</code>) you can escape it with double brackets. For example, the string <code>${{foo}}</code> is read as the literal <code>${foo}</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="bloblang-queries"></a>Bloblang Queries<a class="hash-link" href="#bloblang-queries" title="Direct link to heading">#</a></h2><p>Some Benthos fields also support <a href="/docs/guides/bloblang/about">Bloblang</a> function interpolations, which are much more powerful expressions that allow you to query the contents of messages and perform arithmetic. The syntax of a function interpolation is <code>${!&lt;bloblang expression&gt;}</code>, where the contents are a bloblang query (the right-hand-side of a bloblang map) including a range of <a href="/docs/guides/bloblang/about#functions">functions</a>. For example, with the following config:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">output</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kafka</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TODO:6379&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;dope-${! json(&quot;topic&quot;) }&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A message with the contents <code>{&quot;topic&quot;:&quot;foo&quot;,&quot;message&quot;:&quot;hello world&quot;}</code> would be routed to the Kafka topic <code>dope-foo</code>.</p><p>If a literal string is required that matches this pattern (<code>${!foo}</code>) then, similar to environment variables, you can escape it with double brackets. For example, the string <code>${{!foo}}</code> would be read as the literal <code>${!foo}</code>.</p><p>Bloblang supports arithmetic, boolean operators, coalesce and mapping expressions. For more in-depth details about the language <a href="/docs/guides/bloblang/about">check out the docs</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reference-metadata"></a>Reference Metadata<a class="hash-link" href="#reference-metadata" title="Direct link to heading">#</a></h3><p>A common usecase for interpolated functions is dynamic routing at the output level using metadata:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">output</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">kafka</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">addresses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> TODO </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">topic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">! meta(&quot;output_topic&quot;) </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">! meta(&quot;key&quot;) </span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="coalesce-and-mapping"></a>Coalesce and Mapping<a class="hash-link" href="#coalesce-and-mapping" title="Direct link to heading">#</a></h3><p>Bloblang supports coalesce and mapping, which makes it easy to extract values from slightly varying data structures:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">pipeline</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">processors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> foocache</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> set</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;${! json().message.(foo | bar).id }&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">value</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;${! content() }&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Here&#x27;s a map of inputs to resulting values:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;foo&quot;:{&quot;a&quot;:{&quot;baz&quot;:&quot;from_a&quot;},&quot;c&quot;:{&quot;baz&quot;:&quot;from_c&quot;}}} -&gt; from_a</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;foo&quot;:{&quot;b&quot;:{&quot;baz&quot;:&quot;from_b&quot;},&quot;c&quot;:{&quot;baz&quot;:&quot;from_c&quot;}}} -&gt; from_b</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;foo&quot;:{&quot;b&quot;:null,&quot;c&quot;:{&quot;baz&quot;:&quot;from_c&quot;}}}             -&gt; from_c</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="delayed-processing"></a>Delayed Processing<a class="hash-link" href="#delayed-processing" title="Direct link to heading">#</a></h3><p>We have a stream of JSON documents each with a unix timestamp field <code>doc.received_at</code> which is set when our platform receives it. We wish to only process messages an hour <em>after</em> they were received. We can achieve this by running the <code>sleep</code> processor using an interpolation function to calculate the seconds needed to wait for:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-yaml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">pipeline</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">processors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">sleep</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">duration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;${! 3600 - ( timestamp_unix() - json(&quot;doc.created_at&quot;) ) }s&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If the calculated result is less than or equal to zero the processor does not sleep at all. If the value of <code>doc.created_at</code> is a string Benthos will make a best attempt to parse it as a number.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Jeffail/benthos/edit/master/website/docs/configuration/interpolation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/configuration/error_handling"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Error Handling</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/configuration/field_paths"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Field Paths »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#bloblang-queries" class="table-of-contents__link">Bloblang Queries</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a><ul><li><a href="#reference-metadata" class="table-of-contents__link">Reference Metadata</a></li><li><a href="#coalesce-and-mapping" class="table-of-contents__link">Coalesce and Mapping</a></li><li><a href="#delayed-processing" class="table-of-contents__link">Delayed Processing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides/getting_started">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/videos">Videos</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Join the chat</a></li><li class="footer__item"><a href="https://github.com/Jeffail/benthos" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/community">Get in touch</a></li><li class="footer__item"><a class="footer__link-item" href="/blobfish">Mascot</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Yellow Messenger</div></div></div></footer></div>
<script src="/styles.e4d5cb5b.js"></script>
<script src="/runtime~main.e88295cd.js"></script>
<script src="/main.c8e4b053.js"></script>
<script src="/1.5924ca73.js"></script>
<script src="/2.b09603a0.js"></script>
<script src="/333.fa5c3434.js"></script>
<script src="/332.1fbf5b90.js"></script>
<script src="/935f2afb.ad0a51ea.js"></script>
<script src="/17896441.ea7c0357.js"></script>
<script src="/64e9e2d2.4c1a1b04.js"></script>
</body>
</html>