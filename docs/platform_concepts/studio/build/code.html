<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-platform_concepts/studio/build/code">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Function | yellow.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" property="og:url" content="https://docs.yellow.ai/docs/platform_concepts/studio/build/code"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Function | yellow.ai"><meta data-rh="true" name="description" content="In this article, you will learn:"><meta data-rh="true" property="og:description" content="In this article, you will learn:"><meta data-rh="true" name="keywords" content="code,function,math,calculations"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.yellow.ai/docs/platform_concepts/studio/build/code"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/studio/build/code" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/studio/build/code" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LWOORM11IH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159942894-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="yellow.ai" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap">
<script src="/js/FeedbackFooter.js"></script>
<script src="/js/bot.js"></script><link rel="stylesheet" href="/assets/css/styles.ead63636.css">
<link rel="preload" href="/assets/js/runtime~main.7d0a28ec.js" as="script">
<link rel="preload" href="/assets/js/main.6fd13dd0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/platform_concepts/getting-started">HELP DOCS</a><a class="navbar__item navbar__link" href="/docs/cookbooks/getting_started">USE CASE GUIDES</a><a class="navbar__item navbar__link" href="/docs/updates/overview">WHAT&#x27;S NEW</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/tutorials/basics">VIDEOS</a><a class="navbar__item navbar__link" href="/docs/glossary/advanced-virtual-assistants">GLOSSARY</a><a href="https://community.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">COMMUNITY</a><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FREE TRIAL</a><div class="searchBox_ZlJk"><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/platform_concepts/getting-started">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/platform_concepts/design/conversation-design">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/platform_concepts/studio/overview">Studio</a><button aria-label="Toggle the collapsible sidebar category &#x27;Studio&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/platform_concepts/studio/build/Flows/journeys">Build your bot</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/build/Flows/journeys">Flows</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/build/nodes">Nodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/platform_concepts/studio/build/code">Function (code)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/build/bot-variables">Bot Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/build/localization">Language translation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/train/intents">Training bot data </a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/api/add-api">API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/database">Database (tables)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/events/event-hub">Event</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/analyze/chat-logs">Analysis</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cookbooks/studio/regressiontest">Intents and Utterances automated testing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/platform_concepts/studio/test-and-publish-bot/debug-flow">Test and publish bot</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/tools">Tools &amp; settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/languages-supported">Multilingual Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/orchestrator">Orchestrator for bots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/platform_concepts/studio/studio-faqs">Studio FAQs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/inbox">Inbox</a><button aria-label="Toggle the collapsible sidebar category &#x27;Inbox&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/engagement/cdp/overview">User 360</a><button aria-label="Toggle the collapsible sidebar category &#x27;User 360&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/engagement/engage">Engage</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engage&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/growth/introductiontoinsights">Insights</a><button aria-label="Toggle the collapsible sidebar category &#x27;Insights&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/channelConfiguration/overview">Channels</a><button aria-label="Toggle the collapsible sidebar category &#x27;Channels&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/platform_concepts/appConfiguration/overview">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/platform_concepts/mobile/inbox/android">Mobile SDK</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/platform_concepts/studio/overview"><span itemprop="name">Studio</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Build your bot</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Function (code)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Function</h1></header><p>In this article, you will learn: </p><ol><li><a href="#1">How to add a new function?</a> <ul><li><a href="#11">Function format (syntax)</a></li><li><a href="#12">Args to access code</a></li><li><a href="#13">How to check for warnings and errors?</a></li></ul></li><li><a href="#ts">Tools and settings</a> </li><li><a href="#uf">Using function in a flow</a></li><li><a href="#sc">Sample codes</a></li><li><a href="#math">Math operations</a></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>To work around this section, you will require minimal coding skills.</p></div></div><p>The Function section is used to add function code. It is available in <strong>Studio</strong> -&gt; <strong>Build</strong> -&gt; <strong>Function</strong>.</p><p><img loading="lazy" src="https://i.imgur.com/kVZ7bQ9.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-1-function-creation"><a name="1"></a> 1. Function creation<a href="#-1-function-creation" class="hash-link" aria-label="Direct link to -1-function-creation" title="Direct link to -1-function-creation">​</a></h2><p>You can add a new function to write custom logic in the Function section by clicking <strong>+Add new function</strong>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p> To execute these functions in a flow, attach a <a href="https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes#24-function" target="_blank" rel="noopener noreferrer">function</a>- action node.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-11-format-of-cloud-functions"><a name="11"></a> 1.1 Format of cloud functions<a href="#-11-format-of-cloud-functions" class="hash-link" aria-label="Direct link to -11-format-of-cloud-functions" title="Direct link to -11-format-of-cloud-functions">​</a></h3><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Your logic goes here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-12-arguments--args"><a name="12"></a> 1.2 Arguments- Args<a href="#-12-arguments--args" class="hash-link" aria-label="Direct link to -12-arguments--args" title="Direct link to -12-arguments--args">​</a></h3><p>Useful args to access in code:</p><table><thead><tr><th>arg</th><th>Data type</th><th>Use</th></tr></thead><tbody><tr><td>data.variables.&lt;variable_name&gt;</td><td>Key : String, Value: any</td><td>To access any bot variable in function.</td></tr><tr><td>data.channel</td><td>String</td><td>To access channel names like whatsapp, yellowmessenger, facebook etc</td></tr><tr><td>data.profile</td><td>Object</td><td>Contains user profile values like name, number, email, city , country, language</td></tr><tr><td>data.sender</td><td>String</td><td>User ID</td></tr><tr><td>data.bot</td><td>String</td><td>Bot ID</td></tr><tr><td>data.message</td><td>String</td><td>To access Last/latest user message in the conversation</td></tr><tr><td>data.event.&lt;event_name&gt;</td><td>Object</td><td>To access events in function</td></tr><tr><td>ymLib.args.apiResponse</td><td>any</td><td>To access API response in API transformation function</td></tr><tr><td>ymLib.args.logger</td><td>Object</td><td>Can be used to add logs</td></tr><tr><td>context.history</td><td>Object</td><td>Contains history of nodes visited by user</td></tr><tr><td>prediction.intents</td><td></td><td>To get Intents predicted from user message</td></tr><tr><td>prediction.entities</td><td></td><td>To get entities predicted from user message</td></tr></tbody></table><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-13-check-warnings"><a name="13"></a> 1.3 Check Warnings<a href="#-13-check-warnings" class="hash-link" aria-label="Direct link to -13-check-warnings" title="Direct link to -13-check-warnings">​</a></h3><p>Click the warnings link at the bottom left of the screen and correct the displayed warnings/errors.</p><p><img loading="lazy" src="https://i.imgur.com/712jhMk.jpg" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-2-tools-and-settings"><a name="ts"></a> 2. Tools and Settings<a href="#-2-tools-and-settings" class="hash-link" aria-label="Direct link to -2-tools-and-settings" title="Direct link to -2-tools-and-settings">​</a></h2><ul><li><strong>Tools</strong> - This is a global testing and setting tab. Click <a href="https://docs.yellow.ai/docs/platform_concepts/studio/tools" target="_blank" rel="noopener noreferrer">here</a> to learn more.</li><li><strong>Logs</strong> - Helps in identifying events that occur during preview testing, and debugging.</li><li><strong>Compare</strong> - Compares the Production and Staging functions. </li><li><strong>Flows</strong> - Used to copy and paste the flow and step names from this page. </li><li><strong>Localization</strong> - Localization can be used to set up a bot response or messages in different languages by adding messages and it can be configured according to the preferred language. Click <a href="https://docs.yellow.ai/docs/platform_concepts/studio/build/localization#31-variable-in-localisation-message" target="_blank" rel="noopener noreferrer">here</a> to learn more.</li></ul><p><img loading="lazy" src="https://i.imgur.com/0jxDdIS.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-flows">2.1 Flows<a href="#21-flows" class="hash-link" aria-label="Direct link to 2.1 Flows" title="Direct link to 2.1 Flows">​</a></h3><p>Flows functionality is to quickly support copy and visit a flow with the use of their names.</p><ul><li>Select a flow-category.</li><li>Select a flow.<ul><li>You will have an option to copy the flow name. </li><li>By clicking the flow link, you will be redirected to the respective flow. You can check how the function works for that flow. </li><li>You can view the nodes used in each of the flows. </li></ul></li></ul><p><img loading="lazy" src="https://i.imgur.com/pmnxMAB.png" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-3-functions-in-flow"><a name="uf"></a> 3. Functions in Flow<a href="#-3-functions-in-flow" class="hash-link" aria-label="Direct link to -3-functions-in-flow" title="Direct link to -3-functions-in-flow">​</a></h2><p>Function can be used to parse data through an API. Function is also used to manipulate API responses.</p><p> To create a flow with a function node, follow the below steps: </p><blockquote><p><strong>Use-case</strong>: Function to parse Weather Data API and to show the different parameters in a carousel format. </p></blockquote><ol><li>Open <strong>Studio</strong> –&gt; <strong>Function</strong>. Click <strong>Add new function</strong>.
For example: transformationFunction (as shown below).</li></ol><p><img loading="lazy" src="https://i.imgur.com/VhtUaHr.png" class="img_ev3q"></p><ol start="2"><li>The API response is given in JSON object (as displayed below) for the temperature details.</li></ol><p><img loading="lazy" src="https://i.imgur.com/xiQ3wUM.png" class="img_ev3q"></p><ol start="3"><li>Fetch and parse the API response as a JSON object. </li></ol><p><img loading="lazy" src="https://i.imgur.com/ZE7whNf.png" class="img_ev3q"></p><p>In the above code, Weather Data is parsed and stored in the response body in a variable “main”.</p><ol start="4"><li>The API data is now ready to be used in your bot flow. </li><li>After the global variable is added, open the respective API node and store the response in that global variable.</li></ol><p><img loading="lazy" src="https://i.imgur.com/SI6adHZ.png" class="img_ev3q"></p><ol start="6"><li>Use any prompt to display this data. </li></ol><p>In our example, a carousel is used to display the Temperature and Wind details. You can also add an image of your choice (optional).</p><p><img loading="lazy" src="https://i.imgur.com/5ZynLHG.png" class="img_ev3q"></p><p>You can use the variable symbol and access the various parameters of the JSON object as shown in the above example.</p><p><img loading="lazy" src="https://i.imgur.com/gBjO3vm.png" class="img_ev3q"></p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-4-sample-code"><a name="sc"></a> 4. Sample code<a href="#-4-sample-code" class="hash-link" aria-label="Direct link to -4-sample-code" title="Direct link to -4-sample-code">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-autocomplete">4.1 Autocomplete<a href="#41-autocomplete" class="hash-link" aria-label="Direct link to 4.1 Autocomplete" title="Direct link to 4.1 Autocomplete">​</a></h3><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">resolve</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;inside autoSuggestion&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">variables</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">autoComponents</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> term </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> suggestions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">hit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">component</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">term</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toLowerCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            suggestions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">component</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">suggestions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-decode-base64">4.2 Decode BASE64<a href="#42-decode-base64" class="hash-link" aria-label="Direct link to 4.2 Decode BASE64" title="Direct link to 4.2 Decode BASE64">​</a></h3><p>The Base64 Alphabet contains 64 basic ASCII characters.
If we receive an encrypted string through API, then we need to decrypt it first then only we can get the actual object. Then upload to YM Server, at last, we can share the URL.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> call_api </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">executeApi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;api_name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">argument</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> _value</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> api_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">call_api</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#####API DATA&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> buffer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Buffer</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">api_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">obj_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;base64&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Decode the file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> file_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">uploadFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;File.pdf&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Upload the file to YM server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// await app.sendDocument(file_url, { caption:&quot;FILE&quot;, filename: &#x27;File.pdf&#x27;, mime: &#x27;application/pdf&#x27; });</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Share the File URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sendCards</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Kindly download the same as PDF&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">actions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;DOWNLOAD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> file_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information, <a href="https://developer.mozilla.org/en-US/docs/Glossary/Base64" target="_blank" rel="noopener noreferrer">click here</a>.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-5-math-operations"><a name="math"></a> 5. Math operations<a href="#-5-math-operations" class="hash-link" aria-label="Direct link to -5-math-operations" title="Direct link to -5-math-operations">​</a></h2><p>Our function section enables us to perform various types of mathematical operations in each session (that is, the conversation between the end user and the bot). </p><p><strong>Use-cases</strong></p><p>To understand the math operations, consider the following use-cases: </p><ol><li><a href="#m2s">Converting user input from minutes to seconds.</a></li><li><a href="#dyh">Calculating the date 45 days before the current date.</a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-51-minutes-to-seconds"><a name="m2s"></a> 5.1 Minutes to seconds<a href="#-51-minutes-to-seconds" class="hash-link" aria-label="Direct link to -51-minutes-to-seconds" title="Direct link to -51-minutes-to-seconds">​</a></h3><ol><li>Create a flow to take <strong>Number of minutes</strong> as an input and store it in a variable. </li></ol><p><img loading="lazy" src="https://i.imgur.com/6m4eA3L.png" class="img_ev3q"></p><ol start="2"><li>Take the input from the user for the number of minutes (stored in pizzaMin)</li></ol><p><img loading="lazy" src="https://i.imgur.com/uqfI60v.png" class="img_ev3q"></p><ol start="3"><li>Call the variable in the function using the format shared below<blockquote><p>let minutesTaken = data.variables.pizzaMin {{<strong>data.variables.variableName</strong>}}</p></blockquote></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let minutesTaken = data.variables.pizzaMin;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let secondsTaken = minutesTaken * 60;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let stringSeconds = secondsTaken.toString();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resolve(stringSeconds);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });                          </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Convert the string into an integer using parseInt().</li><li>Perform a regular mathematical operation.</li><li>number of seconds = number of minutes x 60.</li><li>Convert it back into a string using toString().</li></ol><p><img loading="lazy" src="https://i.imgur.com/Y68T3s3.png" class="img_ev3q"></p><ol start="8"><li>resolve() the value and assign a variable in the function node.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-52-to-calculate-45-days-before-the-present-date"><a name="dyh"></a> 5.2 To calculate 45 days before the present date<a href="#-52-to-calculate-45-days-before-the-present-date" class="hash-link" aria-label="Direct link to -52-to-calculate-45-days-before-the-present-date" title="Direct link to -52-to-calculate-45-days-before-the-present-date">​</a></h3><ol><li>Create a flow that uses the <code>{{date}}</code> object in the variables section which shares the present date, month, year and other details, using the Variables node.</li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Date object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;timestamp&quot;: &quot;Wed, 28 Jul 2022 05:04:18 GMT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;year&quot;: 2022,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;month&quot;: 7,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;date&quot;: 28,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;day&quot;: &quot;Thursday&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hour&quot;: 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;minute&quot;: 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://i.imgur.com/o4DSX2B.png" class="img_ev3q"></p><ol start="3"><li><p>Assign the timestamp as shown below and run a function to calculate 45 days before the present date.
<img loading="lazy" src="https://i.imgur.com/UUkUjEU.png" class="img_ev3q"></p></li><li><p>Use the variable <code>bookingDate</code> inside our scheduleBooking() function.</p></li></ol><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">return new Promise(resolve =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let bookingDate = data.variables.bookingDate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let dt = new Date(bookingDate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dt.setDate(dt.getDate() - 45);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&quot;Final Timestamp ---&gt; &quot;, dt.toLocaleString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let pdate = dt.toLocaleString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(pdate,&quot;PDATE IS ---&gt;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const myArraydate = pdate.split(&quot;,&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const myArray = myArraydate[0].split(&quot;/&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let newDate = myArray[1] + &quot;/&quot; + myArray[0] + &quot;/&quot; + myArray[2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data.variables.bookingDate = newDate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resolve(newDate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});    </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>resolve() the data back into the bookingDate variable in the function.</li></ol><p><img loading="lazy" src="https://i.imgur.com/KwMGBFu.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-output">5.3 Output<a href="#53-output" class="hash-link" aria-label="Direct link to 5.3 Output" title="Direct link to 5.3 Output">​</a></h3><p>The text node first prints the current timestamp and the second message is exactly 45 days from the present date.</p><p><img loading="lazy" src="https://i.imgur.com/iPAqfeC.png" class="img_ev3q"></p><hr><p><strong>What Next?</strong></p><ul><li>Create your own function and use it by adding an <a href="https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes#api" target="_blank" rel="noopener noreferrer">API node</a> in the flow.</li><li>You can visit our <a href="https://community.yellow.ai/" target="_blank" rel="noopener noreferrer">community</a> and share your ideas with other fellow bot builders.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/platform_concepts/studio/build/nodes/logic-nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Logic</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/platform_concepts/studio/build/bot-variables"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Bot Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-1-function-creation" class="table-of-contents__link toc-highlight"><a name="1"></a> 1. Function creation</a><ul><li><a href="#-11-format-of-cloud-functions" class="table-of-contents__link toc-highlight"><a name="11"></a> 1.1 Format of cloud functions</a></li><li><a href="#-12-arguments--args" class="table-of-contents__link toc-highlight"><a name="12"></a> 1.2 Arguments- Args</a></li><li><a href="#-13-check-warnings" class="table-of-contents__link toc-highlight"><a name="13"></a> 1.3 Check Warnings</a></li></ul></li><li><a href="#-2-tools-and-settings" class="table-of-contents__link toc-highlight"><a name="ts"></a> 2. Tools and Settings</a><ul><li><a href="#21-flows" class="table-of-contents__link toc-highlight">2.1 Flows</a></li></ul></li><li><a href="#-3-functions-in-flow" class="table-of-contents__link toc-highlight"><a name="uf"></a> 3. Functions in Flow</a></li><li><a href="#-4-sample-code" class="table-of-contents__link toc-highlight"><a name="sc"></a> 4. Sample code</a><ul><li><a href="#41-autocomplete" class="table-of-contents__link toc-highlight">4.1 Autocomplete</a></li><li><a href="#42-decode-base64" class="table-of-contents__link toc-highlight">4.2 Decode BASE64</a></li></ul></li><li><a href="#-5-math-operations" class="table-of-contents__link toc-highlight"><a name="math"></a> 5. Math operations</a><ul><li><a href="#-51-minutes-to-seconds" class="table-of-contents__link toc-highlight"><a name="m2s"></a> 5.1 Minutes to seconds</a></li><li><a href="#-52-to-calculate-45-days-before-the-present-date" class="table-of-contents__link toc-highlight"><a name="dyh"></a> 5.2 To calculate 45 days before the present date</a></li><li><a href="#53-output" class="table-of-contents__link toc-highlight">5.3 Output</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.7d0a28ec.js"></script>
<script src="/assets/js/main.6fd13dd0.js"></script>
</body>
</html>