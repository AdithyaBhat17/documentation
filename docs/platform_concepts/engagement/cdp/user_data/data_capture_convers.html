<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-platform_concepts/engagement/cdp/user_data/data_capture_convers">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">How user records are created through conversations &amp; unified in User 360 | yellow.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" property="og:url" content="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How user records are created through conversations &amp; unified in User 360 | yellow.ai"><meta data-rh="true" name="description" content="This article provides complete information on how user records are automatically created in User 360 and unified based on bot conversations."><meta data-rh="true" property="og:description" content="This article provides complete information on how user records are automatically created in User 360 and unified based on bot conversations."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LWOORM11IH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159942894-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="yellow.ai" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap">
<script src="/js/FeedbackFooter.js"></script>
<script src="/js/bot.js"></script><link rel="stylesheet" href="/assets/css/styles.78e92ccb.css">
<link rel="preload" href="/assets/js/runtime~main.de4d1add.js" as="script">
<link rel="preload" href="/assets/js/main.68dc192a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/platform_concepts/getting-started">Help Docs</a><a class="navbar__item navbar__link" href="/docs/cookbooks/getting_started">Use Case Guides</a><a class="navbar__item navbar__link" href="/docs/updates/overview">What&#x27;s New</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/tutorials/basics">Videos</a><a class="navbar__item navbar__link" href="/docs/glossary/advanced-virtual-assistants">Glossary</a><a href="https://community.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellow.ai/auth/signup?utm_source=SupportDocs&amp;utm_medium=doc_navbar&amp;utm_campaign=docs_april_23" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link free-signup">Signup for Free</a><div class="searchBox_ZlJk"><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How user records are created through conversations &amp; unified in User 360</h1></header><p>This article provides complete information on how user records are automatically created in User 360 and unified based on bot conversations.</p><p>Bot users are classified into the following categories:</p><ol><li>Unidentified user - A user whose user ID is not known or captured by the bot yet.</li><li>Identified user - A user whose user ID has been captured by the bot.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-are-unidentified-records-auto-created-from-bot-conversations">How are unidentified records auto-created from bot conversations?<a href="#how-are-unidentified-records-auto-created-from-bot-conversations" class="hash-link" aria-label="Direct link to How are unidentified records auto-created from bot conversations?" title="Direct link to How are unidentified records auto-created from bot conversations?">​</a></h2><p>When a user starts a conversation with the bot and starts capturing user properties, it automatically creates a new unidentified record in User 360. A record for which the user ID is unknown is considered as an unidentified record.</p><p>   <img loading="lazy" src="https://i.imgur.com/3nMWou9.png" class="img_ev3q"></p><p>Any user property captured during the session will be stored in that unidentified record, until the userId is captured. </p><p>For instance, if a user starts a conversation and provides his name, an unidentified record will be created with the given name.</p><center><img loading="lazy" src="https://i.imgur.com/afNlSpI.png" width="80%" class="img_ev3q"></center><p>As the user provides more user properties, the record will be updated accordingly.</p><center><img loading="lazy" src="https://i.imgur.com/qLFP8CG.png" width="70%" class="img_ev3q"></center><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-to-the-record-when-the-user-is-identified">What happens to the record when the user is identified?<a href="#what-happens-to-the-record-when-the-user-is-identified" class="hash-link" aria-label="Direct link to What happens to the record when the user is identified?" title="Direct link to What happens to the record when the user is identified?">​</a></h2><p>A user is identified through the user ID. A user ID is a unique indetifier such as mobile number, email address, or any other identifier such as driving livence number. </p><p>You can capture the user ID through Prompt or Variable nodes when creating bot flows. The following sections explain how the current record is affected based on the user ID provided.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-new-user-id-is-captured">When a new user ID is captured<a href="#when-a-new-user-id-is-captured" class="hash-link" aria-label="Direct link to When a new user ID is captured" title="Direct link to When a new user ID is captured">​</a></h3><p>If the provided user ID does not exist in User 360, the current record will be updated with the user ID without affecting the details captured during the session.</p><img loading="lazy" src="https://i.imgur.com/815BUjZ.png" width="80%" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-an-existing-user-id-is-captured">When an existing user ID is captured<a href="#when-an-existing-user-id-is-captured" class="hash-link" aria-label="Direct link to When an existing user ID is captured" title="Direct link to When an existing user ID is captured">​</a></h3><p>If the provided user ID already exists, it switches the mapping to the existing record and merges new details, without overriding the existing data. It then deletes the unidentified record.</p><p>These are the steps that take place:</p><ol><li><p>It <strong>Switches</strong> to the existing record.</p><p><img loading="lazy" src="https://i.imgur.com/paPd0mu.png" class="img_ev3q"></p></li></ol><ol start="2"><li><p>It then <strong>Merges</strong> the details that are not available in the existing record.</p><center><img loading="lazy" src="https://i.imgur.com/jUzFP3o.png" width="90%" class="img_ev3q"></center><ul><li><strong>Properties with single values</strong>:<br>
The user properties that are not present in the identified record will be obtained from the unidentified record. For example, refer to <code>emailOptin</code> in the above table. <br>The user properties that already exist in the identified record will be skipped without making any change. For example, refer to <code>firstName</code> in the above table.</li><li><strong>Properties with list values</strong>: The values will be unified. Example: <code>labels</code> in the above table.</li></ul></li><li><p>It deletes the unidentified record after merging.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scenarios-in-which-merging-of-user-properties-happen">Scenarios in which merging of user properties happen<a href="#scenarios-in-which-merging-of-user-properties-happen" class="hash-link" aria-label="Direct link to Scenarios in which merging of user properties happen" title="Direct link to Scenarios in which merging of user properties happen">​</a></h2><p>There are two scenarios in which merging of user properties can happen.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-1-when-an-unidentified-record-is-identified-as-an-existing-record">Scenario 1: When an unidentified record is identified as an existing record<a href="#scenario-1-when-an-unidentified-record-is-identified-as-an-existing-record" class="hash-link" aria-label="Direct link to Scenario 1: When an unidentified record is identified as an existing record" title="Direct link to Scenario 1: When an unidentified record is identified as an existing record">​</a></h4><p>This happens when an user ID provided for an unidentified record already exists in User 360.</p><p>In this, the mapping <strong>Switches</strong> to the existing record and the details that are not available in the existing record will be updated as explained in the following.</p><p>   <img loading="lazy" src="https://i.imgur.com/paPd0mu.png" class="img_ev3q"></p><p>   <img loading="lazy" src="https://i.imgur.com/jUzFP3o.png" class="img_ev3q"></p><p>See the <a href="#effect-of-merging-on-user-properties">Effect of merging on user properties</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-2-when-an-unidentified-record-is-identified-on-a-different-channel">Scenario 2: When an unidentified record is identified on a different channel<a href="#scenario-2-when-an-unidentified-record-is-identified-on-a-different-channel" class="hash-link" aria-label="Direct link to Scenario 2: When an unidentified record is identified on a different channel" title="Direct link to Scenario 2: When an unidentified record is identified on a different channel">​</a></h4><p>Consider a user who is on WhatsApp is identified on Web bot with the same user ID. Similar to the previous case, it switchs the current mapping to the existing record and then merges new details. For instance, consider a user already on WhatsApp, started a conversation on the web bot and provides the same user ID.</p><img loading="lazy" src="https://i.imgur.com/QC5Bf0v.png" width="90%" class="img_ev3q"><p>The existing property values will remain unchanged, and any missing property values will be added to the existing account.</p><p>Learn about the <a href="#effect-of-merging-on-user-properties">Effect of merging on user properties</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="effect-of-merging-on-user-properties">Effect of merging on user properties<a href="#effect-of-merging-on-user-properties" class="hash-link" aria-label="Direct link to Effect of merging on user properties" title="Direct link to Effect of merging on user properties">​</a></h3><p> The following are the effects of account merging:</p><p><img loading="lazy" src="https://i.imgur.com/hqybAgj.png" class="img_ev3q"></p><ul><li><strong>Properties with single values</strong>: <ul><li>The user properties that are not present in the identified record will be obtained from the unidentified record. For example, refer to <code>WhatsAppOptIn</code>.</li><li>User properties that already exist in the identified record will be ignored and no changes will be made to them. For example, <code>firstName</code> in the above table.</li></ul></li><li><strong>Properties with list values</strong>: These values will be unified. Example: <code>labels</code> in the above table.</li><li>The <strong>Unidentified record</strong> will be deleted post-merging.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-when-the-user-id-is-recaptured">What happens when the user ID is recaptured?<a href="#what-happens-when-the-user-id-is-recaptured" class="hash-link" aria-label="Direct link to What happens when the user ID is recaptured?" title="Direct link to What happens when the user ID is recaptured?">​</a></h2><p>There could be cases when a user ID is recaptured. For example, the user logs out and logs in again or when the user whats interacts with the bot with a different user ID.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-the-new-user-id-already-exists">When the new user Id already exists<a href="#when-the-new-user-id-already-exists" class="hash-link" aria-label="Direct link to When the new user Id already exists" title="Direct link to When the new user Id already exists">​</a></h3><p>When a user provides a new user ID that already exists in User 360, the chatbot will switch the current record mapping to the respective record that already exists. It uses information associated with that user ID to personalize conversations.</p><p>   <img loading="lazy" src="https://i.imgur.com/Ew2Efrb.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-the-new-user-id-does-not-exist">When the new user Id does not exist<a href="#when-the-new-user-id-does-not-exist" class="hash-link" aria-label="Direct link to When the new user Id does not exist" title="Direct link to When the new user Id does not exist">​</a></h3><p>The chatbot will create a new record with the provided user ID. This means that the chatbot will treat the user as a new user and will not have access to any previous information or conversation history associated with that user. However, the chatbot can still capture new information about the user&#x27;s preferences and behavior going forward, which can be used to personalize future interactions.</p><p>   <img loading="lazy" src="https://i.imgur.com/pPxBuhn.png" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-are-unidentified-records-auto-created-from-bot-conversations" class="table-of-contents__link toc-highlight">How are unidentified records auto-created from bot conversations?</a></li><li><a href="#what-happens-to-the-record-when-the-user-is-identified" class="table-of-contents__link toc-highlight">What happens to the record when the user is identified?</a><ul><li><a href="#when-a-new-user-id-is-captured" class="table-of-contents__link toc-highlight">When a new user ID is captured</a></li><li><a href="#when-an-existing-user-id-is-captured" class="table-of-contents__link toc-highlight">When an existing user ID is captured</a></li></ul></li><li><a href="#scenarios-in-which-merging-of-user-properties-happen" class="table-of-contents__link toc-highlight">Scenarios in which merging of user properties happen</a><ul><li><a href="#effect-of-merging-on-user-properties" class="table-of-contents__link toc-highlight">Effect of merging on user properties</a></li></ul></li><li><a href="#what-happens-when-the-user-id-is-recaptured" class="table-of-contents__link toc-highlight">What happens when the user ID is recaptured?</a><ul><li><a href="#when-the-new-user-id-already-exists" class="table-of-contents__link toc-highlight">When the new user Id already exists</a></li><li><a href="#when-the-new-user-id-does-not-exist" class="table-of-contents__link toc-highlight">When the new user Id does not exist</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.de4d1add.js"></script>
<script src="/assets/js/main.68dc192a.js"></script>
</body>
</html>