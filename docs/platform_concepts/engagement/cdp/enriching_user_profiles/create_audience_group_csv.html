<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Creating audience groups using CSV Import and Tags | yellow.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-rh="true" property="og:url" content="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating audience groups using CSV Import and Tags | yellow.ai"><meta data-rh="true" name="description" content="Importing users from a CSV and grouping them using Tags"><meta data-rh="true" property="og:description" content="Importing users from a CSV and grouping them using Tags"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LWOORM11IH-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159942894-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="yellow.ai" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap">
<script src="/js/FeedbackFooter.js"></script>
<script src="/js/bot.js"></script><link rel="stylesheet" href="/assets/css/styles.3ebd2c47.css">
<link rel="preload" href="/assets/js/runtime~main.1376bf48.js" as="script">
<link rel="preload" href="/assets/js/main.066420ea.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Yai-logo-yellow.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Yai-logo-yellow.svg" alt="yellow.ai" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/platform_concepts/getting-started">Help Docs</a><a class="navbar__item navbar__link" href="/docs/cookbooks/getting_started">Use Case Guides</a><a class="navbar__item navbar__link" href="/docs/updates/overview">What&#x27;s New</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/tutorials/basics">Videos</a><a class="navbar__item navbar__link" href="/docs/glossary/advanced-virtual-assistants">Glossary</a><a href="https://community.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellow.ai/auth/signup?utm_source=SupportDocs&amp;utm_medium=doc_navbar&amp;utm_campaign=docs_april_23" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link free-signup">Try for free</a><div class="searchBox_ZlJk"><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Creating audience groups using CSV Import and Tags</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-users-from-a-csv-and-grouping-them-using-tags">Importing users from a CSV and grouping them using Tags<a href="#importing-users-from-a-csv-and-grouping-them-using-tags" class="hash-link" aria-label="Direct link to Importing users from a CSV and grouping them using Tags" title="Direct link to Importing users from a CSV and grouping them using Tags">â€‹</a></h2><ol><li>Create a CSV file with user details. Make sure that the column headers match the name of the user property that you want to map with. </li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>These names are <strong>case sensitive</strong> and the column header <strong>should not include spaces</strong> before/after.</p></div></div><p>   <img loading="lazy" src="https://i.imgur.com/gEcRb2s.jpg" class="img_ev3q"></p><ol start="2"><li><p>Navigate to <strong>Engage</strong> &gt; <strong>User 360</strong>.</p></li><li><p>Click on <strong>Add user</strong> &gt; <strong>Import users</strong>.
<img loading="lazy" src="https://i.imgur.com/KkDLtC2.png" class="img_ev3q"></p></li><li><p>Upload the CSV file that you have created. </p></li><li><p>In <strong>Tags</strong>, add custom tags for the group. These tags are added to every user in the CSV. This helps you differentiate between users uploaded from multiple CSV files and to maintain multiple audiences.
<img loading="lazy" src="https://i.imgur.com/Asg1896.jpg" class="img_ev3q"></p></li><li><p><a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data_segments/creating_managing_user_segment" target="_blank" rel="noopener noreferrer">Create a segment</a> using those tags to refer to the various set of audiences you have imported.</p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the <a href="/docs/platform_concepts/engagement/cdp/user_data/user_properties#13-user-id-userid-as-a-property">userId</a> is not passed in the CSV, yellow.ai creates and assigns an internally generated userId to each user.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-checks-before-uploading-the-csv">Pre-checks before uploading the CSV<a href="#pre-checks-before-uploading-the-csv" class="hash-link" aria-label="Direct link to Pre-checks before uploading the CSV" title="Direct link to Pre-checks before uploading the CSV">â€‹</a></h2><p>To ensure that your users are imported successfully, ensure the following:</p><ul><li>Correct column headers â†’ Make sure that the column headers match the name of the user property that you want to map with. These names are case sensitive and the column header should not include spaces before/after. </li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>If any of these column headers do not match with any user property, the entire CSV import will fail.</p></div></div><ul><li>Use correct data type â†’ Data type validation is run before importing each user record. User records where this validation fails, will be skipped. Each data type accepts the following values:</li></ul><table><thead><tr><th>Data Type</th><th>Accepted Value</th></tr></thead><tbody><tr><td>String</td><td>Any string value</td></tr><tr><td>List</td><td>semicolon ; separated values without spaces</td></tr><tr><td>email</td><td>A valid email id format</td></tr><tr><td>Number</td><td>Any integer or decimal number with max 15 digits</td></tr><tr><td>Phone</td><td>A valid phone number with country code</td></tr><tr><td>url</td><td>A valid url format</td></tr><tr><td>date</td><td>YYYY-MM-DD format</td></tr><tr><td>dateTime</td><td>YYYY-MM-DD hh:mm:ss format</td></tr><tr><td>time</td><td>hh:mm:ss format</td></tr><tr><td>boolean</td><td>true or false value, this is case insensitive</td></tr><tr><td>tags</td><td>semicolon ; separated values without spaces</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-userid-column-to-identify-users">Using the userId column to identify users<a href="#using-the-userid-column-to-identify-users" class="hash-link" aria-label="Direct link to Using the userId column to identify users" title="Direct link to Using the userId column to identify users">â€‹</a></h2><p>You can pass the userId for the users being imported by creating a <strong>userId column</strong> in your CSV. However, keep in mind that no 2 user records can have the same userId. Know more about userId and itâ€™s importance <a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/user_properties#1-user-id" target="_blank" rel="noopener noreferrer">here</a>.</p><p>When the CSV file includes a user record with a userId that already exists in the users table, a conflict arises between the old record and the new record. The new record is merged into the old record in the following manner:</p><ul><li>Existing values of the user will be updated with the new record values.</li><li>Properties not provided for the new record, will be retained for the older record.</li></ul><p><strong>For example:</strong></p><p><strong>Old record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td>Sarthak</td><td><a href="mailto:sarthak@example.ai" target="_blank" rel="noopener noreferrer">sarthak@example.ai</a></td><td>919999999999</td><td>tag1,tag2</td></tr></tbody></table><p><strong>New record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td></td><td></td><td>918888888888</td><td>tag3,tag4</td></tr></tbody></table><p><strong>Merged Record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td>Sarthak</td><td><a href="mailto:sarthak@yellow.ai" target="_blank" rel="noopener noreferrer">sarthak@yellow.ai</a></td><td>918888888888</td><td>tag3,tag4</td></tr></tbody></table><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Sometimes you might notice that the exact number of records you imported through CSV won&#x27;t show up in the users table. This could be because some of the records being imported were merged with existing records.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="identifying-errors-in-the-csv-post-import">Identifying errors in the CSV post import<a href="#identifying-errors-in-the-csv-post-import" class="hash-link" aria-label="Direct link to Identifying errors in the CSV post import" title="Direct link to Identifying errors in the CSV post import">â€‹</a></h2><p>Once you import a CSV file, you can check what happend with the records. You can see the count of new entries added, entries merged, and failed entries. </p><p>New users might not be created with all entries you upload. The following are the possible reasons:</p><ul><li><a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#22-checklist-for-csv-import" target="_blank" rel="noopener noreferrer">Wrong column headers</a></li><li><a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#22-checklist-for-csv-import" target="_blank" rel="noopener noreferrer">Data type mismatch</a></li><li>Some users being imported mustâ€™ve <a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#23-use-the-userid-column-for-unique-identifiers" target="_blank" rel="noopener noreferrer">merged</a> into existing user records</li></ul><p>To identify errors in the import, see <a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#24-analyse-import-errors" target="_blank" rel="noopener noreferrer">user Logs</a>.
Click on <strong>User Logs</strong> &gt; Navigate to the relevant <strong>CSV Import activity</strong> &gt; Click <strong>Download log</strong>.</p><p><img loading="lazy" src="https://i.imgur.com/5jj2BgM.jpg" class="img_ev3q"></p><p>The downloaded log contains the following information:
<img loading="lazy" src="https://i.imgur.com/PVDp28M.png" class="img_ev3q"></p><ul><li><strong>Summary</strong>: Shows the count of user records that were newly added, failed to add, and were merged into the existing user details.  <ul><li>Records that were imported as new users</li><li>Records for which import failed (included below)</li><li>Records that were merged into existing users</li></ul></li><li><strong>BOT_ID</strong>: Bot Id for which the CSV was uploaded.</li><li><strong>REQUEST_PAYLOAD</strong>: The user record for which an import was attempted but FAILED</li><li><strong>ERROR_PAYLOAD</strong>: The error details due to which above user import FAILED:<ul><li><code>invalidDataType</code>: Properties for which the wrong <a href="/docs/platform_concepts/engagement/cdp/user_data/user_properties#11-system-user-properties">data type</a> was passed</li><li><code>invalidProperty</code>: Properties that do not exist in the user table</li></ul></li><li><strong>LINE_NUMBER</strong>: The row number of the user record for which import FAILED</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#importing-users-from-a-csv-and-grouping-them-using-tags" class="table-of-contents__link toc-highlight">Importing users from a CSV and grouping them using Tags</a></li><li><a href="#pre-checks-before-uploading-the-csv" class="table-of-contents__link toc-highlight">Pre-checks before uploading the CSV</a></li><li><a href="#using-the-userid-column-to-identify-users" class="table-of-contents__link toc-highlight">Using the userId column to identify users</a></li><li><a href="#identifying-errors-in-the-csv-post-import" class="table-of-contents__link toc-highlight">Identifying errors in the CSV post import</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/assets/js/runtime~main.1376bf48.js"></script>
<script src="/assets/js/main.066420ea.js"></script>
</body>
</html>