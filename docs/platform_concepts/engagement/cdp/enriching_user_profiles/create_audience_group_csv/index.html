<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="yellow.ai Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="yellow.ai Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-159942894-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="yellow.ai" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap">
<script src="/js/FeedbackFooter.js"></script>
<script src="/js/bot.js"></script><title data-react-helmet="true">Creating audience groups using CSV Import and Tags | yellow.ai</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for yellow.ai"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Creating audience groups using CSV Import and Tags | yellow.ai"><meta data-react-helmet="true" name="description" content="Importing users from a CSV and grouping them using Tags"><meta data-react-helmet="true" property="og:description" content="Importing users from a CSV and grouping them using Tags"><meta data-react-helmet="true" property="og:url" content="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://LWOORM11IH-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv"><link rel="stylesheet" href="/styles.dff9e85e.css">
<link rel="preload" href="/styles.e602a6bd.js" as="script">
<link rel="preload" href="/runtime~main.1a4ee25e.js" as="script">
<link rel="preload" href="/main.7a28629f.js" as="script">
<link rel="preload" href="/1.44e53d95.js" as="script">
<link rel="preload" href="/b1f81d43.e5be1864.js" as="script">
<link rel="preload" href="/379.8a09e257.js" as="script">
<link rel="preload" href="/935f2afb.79acef07.js" as="script">
<link rel="preload" href="/377.82bf0130.js" as="script">
<link rel="preload" href="/922e7362.1db3f45e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/platform_concepts/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/cookbooks/getting_started">Guides</a><a class="navbar__item navbar__link" href="/docs/tutorials/basics">Videos</a><a class="navbar__item navbar__link" href="/docs/updates/overview">What&#x27;s New</a><a class="navbar__item navbar__link" href="/docs/glossary/advanced-virtual-assistants">Glossary</a></div><div class="navbar__items navbar__items--right"><a href="https://community.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign up for free</a><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/platform_concepts/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cookbooks/getting_started">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/basics">Videos</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/updates/overview">What&#x27;s New</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/glossary/advanced-virtual-assistants">Glossary</a></li><li class="menu__list-item"><a href="https://community.yellow.ai" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="menu__link">Sign up for free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Creating audience groups using CSV Import and Tags</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="importing-users-from-a-csv-and-grouping-them-using-tags"></a>Importing users from a CSV and grouping them using Tags<a class="hash-link" href="#importing-users-from-a-csv-and-grouping-them-using-tags" title="Direct link to heading">#</a></h2><ol><li>Create a CSV file with user details. Make sure that the column headers match the name of the user property that you want to map with. </li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>These names are <strong>case sensitive</strong> and the column header <strong>should not include spaces</strong> before/after.</p></div></div><p>   <img src="https://i.imgur.com/gEcRb2s.jpg"></p><ol start="2"><li><p>Navigate to <strong>Engage</strong> &gt; <strong>User 360</strong>.</p></li><li><p>Click on <strong>Add user</strong> &gt; <strong>Import users</strong>.
<img src="https://i.imgur.com/KkDLtC2.png"></p></li><li><p>Upload the CSV file that you have created. </p></li><li><p>In <strong>Tags</strong>, add custom tags for the group. These tags are added to every user in the CSV. This helps you differentiate between users uploaded from multiple CSV files and to maintain multiple audiences.
<img src="https://i.imgur.com/Asg1896.jpg"></p></li><li><p><a href="/docs/platform_concepts/engagement/cdp/user_data_segments/creating_managing_user_segment">Create a segment</a> using those tags to refer to the various set of audiences you have imported.</p></li></ol><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If the <a href="/docs/platform_concepts/engagement/cdp/enriching_user_profiles/user_id">userId</a> is not passed in the CSV, yellow.ai creates and assigns an internally generated userId to each user.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pre-checks-before-uploading-the-csv"></a>Pre-checks before uploading the CSV<a class="hash-link" href="#pre-checks-before-uploading-the-csv" title="Direct link to heading">#</a></h2><p>To ensure that your users are imported successfully, ensure the following:</p><ul><li>Correct column headers → Make sure that the column headers match the name of the user property that you want to map with. These names are case sensitive and the column header should not include spaces before/after. </li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>If any of these column headers do not match with any user property, the entire CSV import will fail.</p></div></div><ul><li>Use correct data type → Data type validation is run before importing each user record. User records where this validation fails, will be skipped. Each data type accepts the following values:</li></ul><table><thead><tr><th>Data Type</th><th>Accepted Value</th></tr></thead><tbody><tr><td>String</td><td>Any string value</td></tr><tr><td>List</td><td>semicolon ; separated values without spaces</td></tr><tr><td>email</td><td>A valid email id format</td></tr><tr><td>Number</td><td>Any integer or decimal number with max 15 digits</td></tr><tr><td>Phone</td><td>A valid phone number with country code</td></tr><tr><td>url</td><td>A valid url format</td></tr><tr><td>date</td><td>YYYY-MM-DD format</td></tr><tr><td>dateTime</td><td>YYYY-MM-DD hh:mm:ss format</td></tr><tr><td>time</td><td>hh:mm:ss format</td></tr><tr><td>boolean</td><td>true or false value, this is case insensitive</td></tr><tr><td>tags</td><td>semicolon ; separated values without spaces</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="using-the-userid-column-to-identify-users"></a>Using the userId column to identify users<a class="hash-link" href="#using-the-userid-column-to-identify-users" title="Direct link to heading">#</a></h2><p>You can pass the userId for the users being imported by creating a <strong>userId column</strong> in your CSV. However, keep in mind that no 2 user records can have the same userId. Know more about userId and it’s importance <a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/enriching_user_profiles/user_id" target="_blank" rel="noopener noreferrer">here</a>.</p><p>When the CSV file includes a user record with a userId that already exists in the users table, a conflict arises between the old record and the new record. The new record is merged into the old record in the following manner:</p><ul><li>Existing values of the user will be updated with the new record values.</li><li>Properties not provided for the new record, will be retained for the older record.</li></ul><p><strong>For example:</strong></p><p><strong>Old record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td>Sarthak</td><td><a href="mailto:sarthak@example.ai" target="_blank" rel="noopener noreferrer">sarthak@example.ai</a></td><td>919999999999</td><td>tag1,tag2</td></tr></tbody></table><p><strong>New record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td></td><td></td><td>918888888888</td><td>tag3,tag4</td></tr></tbody></table><p><strong>Merged Record</strong>:</p><table><thead><tr><th>userId</th><th>firstName</th><th>email</th><th>phone</th><th>tags</th></tr></thead><tbody><tr><td>123</td><td>Sarthak</td><td><a href="mailto:sarthak@yellow.ai" target="_blank" rel="noopener noreferrer">sarthak@yellow.ai</a></td><td>918888888888</td><td>tag3,tag4</td></tr></tbody></table><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Sometimes you might notice that the exact number of records you imported through CSV won&#x27;t show up in the users table. This could be because some of the records being imported were merged with existing records.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="identifying-errors-in-the-csv-post-import"></a>Identifying errors in the CSV post import<a class="hash-link" href="#identifying-errors-in-the-csv-post-import" title="Direct link to heading">#</a></h2><p>Once you import a CSV file, you can check what happend with the records. You can see the count of new entries added, entries merged, and failed entries. </p><p>New users might not be created with all entries you upload. The following are the possible reasons:</p><ul><li><a href="/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv#pre-checks-before-uploading-the-csv">Wrong column headers</a></li><li><a href="/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv#pre-checks-before-uploading-the-csv">Data type mismatch</a></li><li>Some users being imported must’ve <a href="/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv#using-the-userid-column-to-identify-users">merged</a> into existing user records</li></ul><p>To identify errors in the import, see <a href="/docs/platform_concepts/engagement/cdp/user_data_segments/manage_user_data#user-logs">User Logs</a>.
Click on <strong>User Logs</strong> &gt; Navigate to the relevant <strong>CSV Import activity</strong> &gt; Click <strong>Download log</strong>.</p><p><img src="https://i.imgur.com/5jj2BgM.jpg"></p><p>The downloaded log contains the following information:
<img src="https://i.imgur.com/PVDp28M.png"></p><ul><li><strong>Summary</strong>: Shows the count of user records that were newly added, failed to add, and were merged into the existing user details.  <ul><li>Records that were imported as new users</li><li>Records for which import failed (included below)</li><li>Records that were merged into existing users</li></ul></li><li><strong>BOT_ID</strong>: Bot Id for which the CSV was uploaded.</li><li><strong>REQUEST_PAYLOAD</strong>: The user record for which an import was attempted but FAILED</li><li><strong>ERROR_PAYLOAD</strong>: The error details due to which above user import FAILED:<ul><li><code>invalidDataType</code>: Properties for which the wrong <a href="https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data_segments/cdp_data/#user-property-data-types" target="_blank" rel="noopener noreferrer">data type</a> was passed</li><li><code>invalidProperty</code>: Properties that do not exist in the user table</li></ul></li><li><strong>LINE_NUMBER</strong>: The row number of the user record for which import FAILED</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#importing-users-from-a-csv-and-grouping-them-using-tags" class="table-of-contents__link">Importing users from a CSV and grouping them using Tags</a></li><li><a href="#pre-checks-before-uploading-the-csv" class="table-of-contents__link">Pre-checks before uploading the CSV</a></li><li><a href="#using-the-userid-column-to-identify-users" class="table-of-contents__link">Using the userId column to identify users</a></li><li><a href="#identifying-errors-in-the-csv-post-import" class="table-of-contents__link">Identifying errors in the CSV post import</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.e602a6bd.js"></script>
<script src="/runtime~main.1a4ee25e.js"></script>
<script src="/main.7a28629f.js"></script>
<script src="/1.44e53d95.js"></script>
<script src="/b1f81d43.e5be1864.js"></script>
<script src="/379.8a09e257.js"></script>
<script src="/935f2afb.79acef07.js"></script>
<script src="/377.82bf0130.js"></script>
<script src="/922e7362.1db3f45e.js"></script>
</body>
</html>