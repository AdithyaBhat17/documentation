<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="yellow.ai Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="yellow.ai Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-135959729-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="yellow.ai" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&family=Source+Sans+Pro&display=swap"><title data-react-helmet="true">Document Cognition | yellow.ai</title><meta data-react-helmet="true" property="og:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yellow.ai/img/og_img.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for yellow.ai"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" property="og:title" content="Document Cognition | yellow.ai"><meta data-react-helmet="true" name="description" content="Answering queries from Documents."><meta data-react-helmet="true" property="og:description" content="Answering queries from Documents."><meta data-react-helmet="true" property="og:url" content="https://docs.yellow.ai/docs/cookbooks/document_cognition"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://docs.yellow.ai/docs/cookbooks/document_cognition"><link rel="stylesheet" href="/styles.38502b88.css">
<link rel="preload" href="/styles.43242640.js" as="script">
<link rel="preload" href="/runtime~main.546a1b9d.js" as="script">
<link rel="preload" href="/main.247e9f3f.js" as="script">
<link rel="preload" href="/1.9a3775b5.js" as="script">
<link rel="preload" href="/3ccf73b6.663aca2e.js" as="script">
<link rel="preload" href="/182.8e5f7a4c.js" as="script">
<link rel="preload" href="/935f2afb.55dc9c45.js" as="script">
<link rel="preload" href="/180.3cf18c82.js" as="script">
<link rel="preload" href="/c5a2cd35.96c4af13.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a><a class="navbar__item navbar__link" href="/docs/platform_concepts/getting-started">Platform Concepts</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/cookbooks/template-bots/model-bot">Cookbooks</a><a class="navbar__item navbar__link" href="/docs/tutorials/basics">Two-torials</a></div><div class="navbar__items navbar__items--right"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sign up for free</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/yellowMessenger.svg" alt="yellow.ai" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title"></strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/platform_concepts/getting-started">Platform Concepts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/cookbooks/template-bots/model-bot">Cookbooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorials/basics">Two-torials</a></li><li class="menu__list-item"><a href="https://community.yellowmessenger.com" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://cloud.yellow.ai" target="_blank" rel="noopener noreferrer" class="menu__link">Sign up for free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Document Cognition</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="when-to-use-document-cognition"></a>When to use document cognition?<a class="hash-link" href="#when-to-use-document-cognition" title="Direct link to heading">#</a></h2><p>Document Cognition is a way to process unstructured textual data. When you have a lot of documents (20 or more) containing mostly (~70%) text, it is humanly not possible to convert this data into a structured format so that you can feed it to a chatbot. In such cases, we can still leverage this knowledge by feeding it to the NLP model, so that the model can directly search for the most relevant responses from within these documents. In such cases, we can expect the model to take us to the right page/paragraph with ~75-85% accuracy (depending on the type and size of documents).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="when-to-not-use-document-cognition"></a>When to not use document cognition?<a class="hash-link" href="#when-to-not-use-document-cognition" title="Direct link to heading">#</a></h2><p>Please note that document cognition is not a replacement for intent classification (journeys). Since it takes unstructured data as input, accuracy will always be lower than the intent classification model, and wherever possible, it is recommended to prefer intent classification (journeys) over document cognition.</p><p>Following are some examples when intent classification is the right tool to use as opposed to document cognition -</p><ul><li><p>Most of the data is already in a structured format (tabular data, excel files, etc.) - the right way to handle this is by uploading to the bot database.</p></li><li><p>We already have data in a FAQ-like structure instead of a lot of paragraphs - the right way to handle this is by creating intents.</p></li><li><p>No. of documents are fewer and can be converted into structured data.</p></li><li><p>Documents are not clean and have a lot of images, scanned pages, complex charts, tables, and diagrams, etc.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="supported-formats"></a>Supported Formats<a class="hash-link" href="#supported-formats" title="Direct link to heading">#</a></h2><p>Currently, we support PDF, PPT, and .Docx formats. We do not support web scraping and HTML. However, you can export webpages as PDFs and feed them to the engine.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="usage"></a>Usage<a class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><p>We have recently launched a new version of document cognition which supports -</p><p>Option to perform a semantic-based search (the bot will look at the sentence structure and keywords, look at the sentence, and try to map it to the most relevant sections in the documents). It&#x27;s recommended to use a keyword search if the total no. of words in the input query is&gt;3.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.searchDocumentsNew({text:&#x27;query&#x27;}).then((resp)=&gt; {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    //Your logic goes here</span></div><div class="token-line" style="color:#393A34"><span class="token plain"> });</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Automatic creation of questions and answers with the ability to add them to journeys -</p><p><img src="https://cdn.yellowmessenger.com/HBXDGNGi4W2V1613543255114.png"></p><p>Option to perform an only keyword search (the bot will simply do an ES match query in all the documents for that keyword). It&#x27;s recommended to use keyword search if the total no. of words in input query is &lt;=3.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.searchDocumentsNew(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                text: app.data.message,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                keyWordQuery: true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            })</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Option to search for files based on metadata tags. Think of it as a Google Drive search where you can search for all files with a specific name. Note that this does not search inside documents -</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.searchDocumentsNew(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                text: fileName,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                metadataQuery: true</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            })</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Option to filter documents by metadata tags. Imagine if you have HR policies for U.S. and India based employees and for a U.S. based employees, you want to search in only specific documents, you can use this function to filter only U.S. based documents through a tag. A tag is just a key: value pair. Each document can have multiple tags which can be configured through the UI below.</p><p><img src="https://cdn.yellowmessenger.com/UuGk0fa581zw1613543990485.png"></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">app.searchDocumentsNew(</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                text: app.data.message,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                keyWordQuery: searchType,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                resultsPerDocument: 5,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                filterByMetadata: { &quot;country&quot;: &quot;India&quot; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">            })</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-does-document-cognition-work"></a>How does document cognition work?<a class="hash-link" href="#how-does-document-cognition-work" title="Direct link to heading">#</a></h2><p>Document Cognition Model parses the entire document, tokenizes into headings and paragraphs, and maps each paragraph to a page number. It skips tables, images, and scanned pages wherever it finds them. It then indexes the textual data into our proprietary model, where it tries to predict the kind of questions that someone might ask by looking at a specific document. It primarily relies on -</p><ol><li><p>TF-IDF score</p></li><li><p>Keyword frequency</p></li><li><p>entence structure</p></li></ol><p>When a new query is made, the model searches through the embeddings created during the above indexing process and suggests the most relevant paragraphs along with a score for each for ranking purposes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="frequently-asked-questions"></a>Frequently asked questions<a class="hash-link" href="#frequently-asked-questions" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-does-a-good-document-format-look-like"></a>What does a good document format look like?<a class="hash-link" href="#what-does-a-good-document-format-look-like" title="Direct link to heading">#</a></h4><p>The following are some of the characteristics of a document that’ll be processed well during document cognition. It&#x27;s recommended following these guidelines while pre-processing your document -</p><ol><li><p>It does not have scanned pages and images.</p></li><li><p>80% of the content is textual and well-formatted (e.g. Wikipedia articles)</p></li><li><p>Remove content and index pages, appendix pages, etc. (we will add the logic to skip these automatically in coming releases)</p></li><li><p>No bullet points before headings. Headings should have a larger font size and no spaces so that the parser can detect headings easily.</p></li><li><p>Always prefer the Word (.doc, .docx) version of the document if available, as some properties might get lost when converting it into PDF.</p></li><li><p>Tables will be skipped. if possible, try to upload documents with less tabular data or remove pages with tables altogether from the document.</p></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-am-i-not-getting-the-right-result-in-the-first-suggestion"></a>Why am I not getting the right result in the first suggestion?<a class="hash-link" href="#why-am-i-not-getting-the-right-result-in-the-first-suggestion" title="Direct link to heading">#</a></h4><p>Because document cognition is a probabilistic model that is “predicting” the relevance of a specific paragraph or page by looking at the input string. There is no guarantee that the first result will be the most relevant result.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-am-i-getting-the-other-documents-in-suggestions-which-actually-dont-have-the-answer"></a>Why am I getting the other documents in suggestions which actually don&#x27;t have the answer?<a class="hash-link" href="#why-am-i-getting-the-other-documents-in-suggestions-which-actually-dont-have-the-answer" title="Direct link to heading">#</a></h4><p>Same answer as above. The model has no way of “knowing” which document is correct, it can, however, assign a score to all the results based on its assessment of the documents.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-am-i-getting-multiple-occurrences-of-the-same-document-in-the-results"></a>Why am I getting multiple occurrences of the same document in the results?<a class="hash-link" href="#why-am-i-getting-multiple-occurrences-of-the-same-document-in-the-results" title="Direct link to heading">#</a></h4><p>Because there might be multiple pages/occurrences of relevant content in the same document. In such cases, we rank them, based on the score and return only two occurrences in each document by default. If you want to see more or fewer occurrences within the same document, you can control by passing the value of <code>results_per_document</code> in your search query.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="can-the-model-convert-tabular-data-into-faqs"></a>Can the model convert tabular data into FAQs?<a class="hash-link" href="#can-the-model-convert-tabular-data-into-faqs" title="Direct link to heading">#</a></h4><p>No, Tables will be skipped. if possible, try to upload documents with less tabular data or remove pages with tables altogether from the document. These tables can be uploaded/recreated in our bot database, where we can write business logic on top of them.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-am-i-not-able-to-access-a-document-link-from-a-conversation-i-had-yesterday"></a>Why am I not able to access a document link, from a conversation I had yesterday?<a class="hash-link" href="#why-am-i-not-able-to-access-a-document-link-from-a-conversation-i-had-yesterday" title="Direct link to heading">#</a></h4><p>Currently, we have restricted the life of each SAS link to an hour for security reasons. This can be removed/updated as per client request. You can generate a new link by asking the same query again in the bot.</p><p><img src="https://cdn.yellowmessenger.com/RL35X3mCozP81613544469236.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-do-i-ensure-that-the-bot-shows-only-relevant-documents"></a>How do I ensure that the bot shows only relevant documents?<a class="hash-link" href="#how-do-i-ensure-that-the-bot-shows-only-relevant-documents" title="Direct link to heading">#</a></h4><p>There is no specific logic added to detect irrelevance right now. However, we do provide a relevance score with each search result that the bot developer can use. The model returns all documents which contain even a few keywords in the query in decreasing order of relevance. The bot developer can choose to show only Top N (e.g. Top 5) or Top 25% of the results based on relevance score.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-to-use-document-cognition" class="table-of-contents__link">When to use document cognition?</a></li><li><a href="#when-to-not-use-document-cognition" class="table-of-contents__link">When to not use document cognition?</a></li><li><a href="#supported-formats" class="table-of-contents__link">Supported Formats</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a></li><li><a href="#how-does-document-cognition-work" class="table-of-contents__link">How does document cognition work?</a><ul><li><a href="#frequently-asked-questions" class="table-of-contents__link">Frequently asked questions</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.43242640.js"></script>
<script src="/runtime~main.546a1b9d.js"></script>
<script src="/main.247e9f3f.js"></script>
<script src="/1.9a3775b5.js"></script>
<script src="/3ccf73b6.663aca2e.js"></script>
<script src="/182.8e5f7a4c.js"></script>
<script src="/935f2afb.55dc9c45.js"></script>
<script src="/180.3cf18c82.js"></script>
<script src="/c5a2cd35.96c4af13.js"></script>
</body>
</html>