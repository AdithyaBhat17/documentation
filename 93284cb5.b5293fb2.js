(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{193:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return o})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return d}));var n=a(3),r=a(7),l=(a(0),a(288)),b=["components"],i={title:"Variables",sidebar_label:"Variables"},o={unversionedId:"platform_concepts/studio/bot-variables",id:"platform_concepts/studio/bot-variables",isDocsHomePage:!1,title:"Variables",description:"What is a variable",source:"@site/docs/platform_concepts/studio/bot-variables.md",slug:"/platform_concepts/studio/bot-variables",permalink:"/docs/platform_concepts/studio/bot-variables",version:"current",sidebar_label:"Variables",sidebar:"platform_concepts",previous:{title:"Understand different settings and options in Tools",permalink:"/docs/platform_concepts/studio/tools"},next:{title:"Code",permalink:"/docs/platform_concepts/studio/cloud-function"}},c=[{value:"What is a variable",id:"what-is-a-variable",children:[]},{value:"Variable Data Type",id:"variable-data-type",children:[]},{value:"System Variables",id:"system-variables",children:[]},{value:"Custom Variables",id:"custom-variables",children:[]},{value:"Create a Variable",id:"create-a-variable",children:[]},{value:"Use Variables in a Node",id:"use-variables-in-a-node",children:[{value:"Prompt",id:"prompt",children:[]},{value:"Actions",id:"actions",children:[]}]},{value:"Storing in a variable",id:"storing-in-a-variable",children:[]},{value:"Access a variable",id:"access-a-variable",children:[]},{value:"Advanced example",id:"advanced-example",children:[]}],s={toc:c};function d(e){var t=e.components,a=Object(r.a)(e,b);return Object(l.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"what-is-a-variable"},"What is a variable"),Object(l.b)("p",null,"Variables are nothing but a way to store data that can vary/is not fixed."),Object(l.b)("p",null,"These are the types of variables that can be used in the bot flow:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"System variables"),Object(l.b)("li",{parentName:"ul"},"Custom variables",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"Journey variables"),Object(l.b)("li",{parentName:"ul"},"Global variables")))),Object(l.b)("h2",{id:"variable-data-type"},"Variable Data Type"),Object(l.b)("p",null,"When variables are defined they need to be assigned a data type. The datatypes are :``"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Number"),": To store numbers including floating-point numbers"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"String"),": To store alphanumeric texts"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Object"),": This datatype is particularly useful to store database and API responses as well as results from date prompt"),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Array"),": This can be used to store a list of multiple values of different datatypes.")),Object(l.b)("p",null,"Let\u2019s dive deeper into these variables."),Object(l.b)("h2",{id:"system-variables"},"System Variables"),Object(l.b)("p",null,"This is a fixed set of variables. The variable names can not be altered and new variables can not be added to this category.\nFollowing system variables have been exposed on the platform for quick use: -\n{{{variables.var_name}}} notation is used to access system variables."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Variable"),Object(l.b)("th",{parentName:"tr",align:null},"Data type"),Object(l.b)("th",{parentName:"tr",align:null},"Use"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"source"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the channel from which the message was sent.")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"sender"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the sender ID. eg: mobile number for WhatsApp.")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"profile"),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the user\u2019s profile as an object")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"pageUrl"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the page\u2019s URL")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"sentiment"),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the sentiment of the user message- positive, negative or neutral")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"sessionMessageLogUrl"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Returns a URL to the chat\u2019s transcript")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"date"),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Returns the current date and time")))),Object(l.b)("h2",{id:"custom-variables"},"Custom Variables"),Object(l.b)("p",null,"These are variables defined by bot builders. Custom variables are further subdivided into journey and global variables."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Journey Variable"),": It is accessible only within the journey it was created."),Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"Global Variable"),": It is accessible across journeys and in API.")),Object(l.b)("div",{className:"admonition admonition-info alert alert--info"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"These variables store value only within a session."))),Object(l.b)("h2",{id:"create-a-variable"},"Create a Variable"),Object(l.b)("p",null,"Coming soon"),Object(l.b)("h2",{id:"use-variables-in-a-node"},"Use Variables in a Node"),Object(l.b)("h3",{id:"prompt"},"Prompt"),Object(l.b)("p",null,"Different prompts return a response in different formats and datatype. You can refer to the table below to understand which variable datatype should be used with which prompt."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Prompt"),Object(l.b)("th",{parentName:"tr",align:null},"Variable Datatype"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Name"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Email"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Phone"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Location"),Object(l.b)("td",{parentName:"tr",align:null},"object")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Carousel"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Quick Replies"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Date"),Object(l.b)("td",{parentName:"tr",align:null},"object")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Question"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Feedback"),Object(l.b)("td",{parentName:"tr",align:null},"object")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Whatsapp List"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Multi Select"),Object(l.b)("td",{parentName:"tr",align:null},"string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Image/file"),Object(l.b)("td",{parentName:"tr",align:null},"string")))),Object(l.b)("h3",{id:"actions"},"Actions"),Object(l.b)("p",null,"Action nodes provides response in various datatype. You can refer to the table below to understand which variable datatype should be used with which action node."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Action Node"),Object(l.b)("th",{parentName:"tr",align:null},"Variable Datatype"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"API"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Database (search)"),Object(l.b)("td",{parentName:"tr",align:null},"array")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Function"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Outbound Notification"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Notification Status"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Raise ticket"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"Modifier"),Object(l.b)("td",{parentName:"tr",align:null},"object, array, number, string")))),Object(l.b)("h2",{id:"storing-in-a-variable"},"Storing in a variable"),Object(l.b)("p",null,"For storing something in a variable, you get an option in each prompt and in action nodes where needed to store.\nAdditionally, you can also use variables action node for this purpose."),Object(l.b)("h2",{id:"access-a-variable"},"Access a variable"),Object(l.b)("p",null,"You can access a bor variable inside any node using this notation ",Object(l.b)("inlineCode",{parentName:"p"},"{{variables.variable_name}}")," or clicking on variables icon.\nSo for the variable you just created above, you can access using {{variables.category}}"),Object(l.b)("h2",{id:"advanced-example"},"Advanced example"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Accessing variable fields and index in JSON object, array type stored in a variable.")),Object(l.b)("p",null,"Above was very simple, but often, in this example in ",Object(l.b)("a",{parentName:"p",href:"../studio/steps/action-nodes-and-logic#api"},"API action node"),", the response you store is not a simple string or value."),Object(l.b)("p",null,"Consider following response from a weather API"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n  "coord": {\n    "lon": 77.2167,\n    "lat": 28.6667\n  },\n  "weather": [\n    {\n      "id": 761,\n      "main": "Dust",\n      "description": "dust",\n      "icon": "50d"\n    }\n  ],\n  "base": "stations",\n  "main": {\n    "temp": 32.54,\n    "feels_like": 30.55,\n    "temp_min": 32,\n    "temp_max": 33,\n    "pressure": 1002,\n    "humidity": 21\n  },\n  "visibility": 3500,\n  "wind": {\n    "speed": 3.09,\n    "deg": 260,\n    "gust": 8.23\n  },\n  "clouds": {\n    "all": 0\n  },\n  "dt": 1617278187,\n  "sys": {\n    "type": 1,\n    "id": 9161,\n    "country": "IN",\n    "sunrise": 1617237667,\n    "sunset": 1617282517\n  },\n  "timezone": 19800,\n  "id": 1273294,\n  "name": "Delhi",\n  "cod": 200\n}\n')),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"To access any fields of this you can simply do {{variables.variable_name.field_name}} and this can go upto fields of fields."))),Object(l.b)("p",null,"For example: to access temp in above, {{variables.API_var.main.temp}} can be used. "),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("strong",{parentName:"li"},"You can also access array values using keys."),"\nTo access weather description in above, you can see it's inside an array ","[ ]"," and is the first ","[0th index]"," value of array.\n{{variables.API_var.weather.0.description}} will be used.")))}d.isMDXComponent=!0},288:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,b=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=s(a),u=n,m=d["".concat(b,".").concat(u)]||d[u]||p[u]||l;return a?r.a.createElement(m,i(i({ref:t},c),{},{components:a})):r.a.createElement(m,i({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,b=new Array(l);b[0]=u;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:n,b[1]=i;for(var c=2;c<l;c++)b[c]=a[c];return r.a.createElement.apply(null,b)}return r.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);