/*! For license information please see e9751a53.77b019ba.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{375:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return u}));var o=n(3),r=n(7),a=(n(0),n(411)),i=n(422),s={title:"Conditions",sidebar_label:"About"},c={unversionedId:"components/conditions/about",id:"components/conditions/about",isDocsHomePage:!1,title:"Conditions",description:"Conditions are boolean queries that can be executed based on the contents of a message, some processors such as switch use conditions for expressing their logic. There are many options but the most powerful type is the bloblang condition.",source:"@site/docs/components/conditions/about.md",slug:"/components/conditions/about",permalink:"/docs/components/conditions/about",editUrl:"https://github.com/Jeffail/benthos/edit/master/website/docs/components/conditions/about.md",version:"current",sidebar_label:"About"},p=[{value:"Batching and Multipart Messages",id:"batching-and-multipart-messages",children:[]},{value:"Reusing Conditions",id:"reusing-conditions",children:[]}],l={toc:p};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Conditions are boolean queries that can be executed based on the contents of a message, some ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/processors/about"}),"processors")," such as ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/processors/switch"}),Object(a.b)("inlineCode",{parentName:"a"},"switch"))," use conditions for expressing their logic. There are many options but the most powerful type is the ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/conditions/bloblang"}),Object(a.b)("inlineCode",{parentName:"a"},"bloblang")," condition"),"."),Object(a.b)("p",null,"Conditions themselves can modify (",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/conditions/not"}),Object(a.b)("inlineCode",{parentName:"a"},"not")),") and combine (",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/conditions/and"}),Object(a.b)("inlineCode",{parentName:"a"},"and")),", ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/conditions/or"}),Object(a.b)("inlineCode",{parentName:"a"},"or")),") other conditions, and can therefore be used to create complex boolean expressions."),Object(a.b)("p",null,"The format of a condition is similar to other Benthos types:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-yml"}),'condition:\n  bloblang: meta("kafka_topic") == "foo"\n')),Object(a.b)("p",null,"And is usually found as the child of a processor:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-yaml"}),'pipeline:\n  processors:\n    - switch:\n      - condition:\n          bloblang: meta("kafka_topic") == "foo"\n        processors:\n          - resource: foo\n      - processors:\n          - resource: bar\n')),Object(a.b)("h3",{id:"batching-and-multipart-messages"},"Batching and Multipart Messages"),Object(a.b)("p",null,"All conditions can be applied to a multipart message, which is synonymous with a batch. Some conditions target a specific part of a message batch, and require you specify the target index with the field ",Object(a.b)("inlineCode",{parentName:"p"},"part"),"."),Object(a.b)("p",null,"Part indexes can be negative, and if so the part will be selected from the end counting backwards starting from -1. E.g. if part = -1 then the selected part will be the last part of the message, if part = -2 then the part before the last element with be selected, and so on."),Object(a.b)("h3",{id:"reusing-conditions"},"Reusing Conditions"),Object(a.b)("p",null,"Sometimes large chunks of logic are reused across processors, or nested multiple times as branches of a larger condition. It is possible to avoid writing duplicate condition configs by using the ",Object(a.b)("a",Object(o.a)({parentName:"p"},{href:"/docs/components/conditions/resource"}),"resource condition"),"."),Object(a.b)(i.a,{type:"conditions",mdxType:"ComponentSelect"}))}u.isMDXComponent=!0},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),l=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=l(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(n),d=o,m=u["".concat(i,".").concat(d)]||u[d]||b[d]||a;return n?r.a.createElement(m,s(s({ref:t},p),{},{components:n})):r.a.createElement(m,s({ref:t},p))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},417:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var i=r.apply(null,o);i&&e.push(i)}else if("object"===a)for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},422:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(22),i=n(417),s=n.n(i),c=n(57),p=n.n(c);t.a=function(e){var t=e.type,n=e.singular,o=Object(a.default)().siteConfig.customFields.components[t];return"string"!=typeof n&&/s$/.test(n=t)&&(n=t.slice(0,-1)),r.a.createElement("div",{className:"dropdown dropdown--hoverable"},r.a.createElement("button",{className:"button button--outline button--primary"},"Jump to ",n),r.a.createElement("ul",{className:s()(p.a.componentList,"dropdown__menu")},o.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("a",{className:"dropdown__link",href:"/docs/components/"+t+"/"+e.name},e.name))}))))}}}]);