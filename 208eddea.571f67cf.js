(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{265:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),b=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=b(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=b(n),m=a,d=p["".concat(i,".").concat(m)]||p[m]||u[m]||r;return n?o.a.createElement(d,s(s({ref:t},l),{},{components:n})):o.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},96:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(3),o=n(7),r=(n(0),n(265)),i={title:"Prompts and Messages",sidebar_label:"Prompts and Message"},s={unversionedId:"platform_concepts/studio/steps/prompts-and-messages",id:"platform_concepts/studio/steps/prompts-and-messages",isDocsHomePage:!1,title:"Prompts and Messages",description:"In this section we will talk about Interactive steps, viz,",source:"@site/docs/platform_concepts/studio/steps/prompts-and-messages.md",slug:"/platform_concepts/studio/steps/prompts-and-messages",permalink:"/docs/platform_concepts/studio/steps/prompts-and-messages",version:"current",sidebar_label:"Prompts and Message",sidebar:"platform_concepts",previous:{title:"Inside Journeys - Steps",permalink:"/docs/platform_concepts/studio/steps/steps"},next:{title:"Operational/Logical steps - Action and Logic",permalink:"/docs/platform_concepts/studio/steps/action-nodes-and-logic"}},c=[{value:"Messages",id:"messages",children:[{value:"Text",id:"text",children:[]},{value:"Files, Images, Videos",id:"files-images-videos",children:[]}]},{value:"Prompts",id:"prompts",children:[{value:"Use case based",id:"use-case-based",children:[]},{value:"General - Question",id:"general---question",children:[]},{value:"Quick Replies",id:"quick-replies",children:[]},{value:"Carousal",id:"carousal",children:[]},{value:"Prompt settings",id:"prompt-settings",children:[]}]}],l={toc:c};function b(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"In this section we will talk about Interactive steps, viz, "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Messages"),Object(r.b)("li",{parentName:"ul"},"Prompts")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/N5367FZ.png",alt:null}))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Messages")," are one-way communication steps. Message steps do not wait for any user input.\n",Object(r.b)("strong",{parentName:"p"},"Prompts")," on the other hands are questions bot asks user. Prompts expected a response from users. "),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"\ud83d\udccc ",Object(r.b)("strong",{parentName:"p"},"Note"),":  You can personalise prompts and messages based on language and channels\u2755 "),Object(r.b)("p",{parentName:"div"},Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/r9Z4P0C.gif",alt:null}))))),Object(r.b)("h2",{id:"messages"},"Messages"),Object(r.b)("h3",{id:"text"},"Text"),Object(r.b)("p",null,"Text can be used when you wish to send a simple message to your user, without expecting any input from their end.\nFor example, an Acknowledgement message."),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/QnQG7ck.png",alt:null}))),Object(r.b)("h3",{id:"files-images-videos"},"Files, Images, Videos"),Object(r.b)("p",null,"Apart from Text, you can also send above three by simply attaching the respective file you need to send. "),Object(r.b)("h2",{id:"prompts"},"Prompts"),Object(r.b)("p",null,'Prompts are steps that take some user input. All prompts have a "',Object(r.b)("strong",{parentName:"p"},"store response in"),'" option to store input user gives in a ',Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"./tools"}),"bot variable.")),Object(r.b)("h3",{id:"use-case-based"},"Use case based"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Name")),", ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Email"))," , ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Phone"))," : Name, Email, Phone prompts are used for asking for respective details. They already have a Name/Email/Phone validator attached to them for validating user input and a 'validation failure message' shown when user input is not validated. "),Object(r.b)("p",{parentName:"li"},"  ",Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/oQ1IV5r.png",alt:null}))))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"Location Prompt"))," : Location prompt can be used to ask for and validate locations.")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Image to be added")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"Feedback Prompt")),": ")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"To be added")),Object(r.b)("hr",null),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"\u2753 ",Object(r.b)("strong",{parentName:"p"},"What happens when user constantly keeps entering the wrong input?")," "),Object(r.b)("p",{parentName:"div"},"\ud83d\uddd2\ufe0f ",Object(r.b)("strong",{parentName:"p"},"Enable Limit for Retries")," in ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"./tools#step-validation-settings"}),"step-validation settings"),"\n"))),Object(r.b)("h3",{id:"general---question"},"General - Question"),Object(r.b)("p",null,"Apart from these use case based questions, you can directly ask any custom question using ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Question"))," prompt and store response in variable if needed ahead."),Object(r.b)("h3",{id:"quick-replies"},"Quick Replies"),Object(r.b)("p",null,"Quick replies can be used to give end-user 'quick' options. ",Object(r.b)("strong",{parentName:"p"},"Users can  either select from options or type out option."),"  "),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/TMsahjb.png",alt:null}))),Object(r.b)("p",null,"You can drag and extend each quick reply to attach with further flow you want ahead of it.\nThere is also an option to configure ",Object(r.b)("em",{parentName:"p"},"fallback")," which will work when none of the quick replies are validated from user input (Nor any other intent detected)"),Object(r.b)("h4",{id:"quick-reply-settings"},"Quick reply settings"),Object(r.b)("p",null,"If you click on a quick reply button - you can find a few additional options (advanced settings) to configure. "),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Button value  : If configured, this is the actual value of this button - that will go to any Database insert or be stored in variable. "),Object(r.b)("li",{parentName:"ul"},"Text aliases : You can also configure different variations of quick reply word which has to be accepted for that button value/label."),Object(r.b)("li",{parentName:"ul"},"Link and Postback : You can also have a quick reply redirecting to a particular URL. "),Object(r.b)("li",{parentName:"ul"},"Text Color and Background color can also be configured. ")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\u2139\ufe0f ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"./tools#step-validation-settings"}),"How Quick replies look on Whatsapp?"))),Object(r.b)("h4",{id:"dynamic-quick-replies"},"Dynamic Quick replies"),Object(r.b)("p",null,"In above way to add quick replies if you see, you had to add each button yourself. You knew the number and text of buttons beforehand to create quick replies.\nBut what about some options you want to generate from maybe an API response or Database query where you either don't know what will be the option or number of options can change from where you want to fetch it from. "),Object(r.b)("p",null,"In this case, you need to dynamically generate quick replies. "),Object(r.b)("p",null,"\ud83d\udca1 To do this, we have a ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Fetch from"))," option in quick reply prompt.\nHere, instead of adding quick replies manually, you can select a variable containing a quick reply object.\n",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Format of quick reply object"))),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),' {\n    title: "My QR Title",\n    options: [\n            {title: "Project0", text: "Project0"},\n            {title: "Project1", text: "Project1"}\n            ]\n}\n')),Object(r.b)("p",null,"To dynamically generate quick replies, you can apply any logic in code (functions) around quick replies and store value of final object in intented variable. For example, you can apply for loop around options to dynamically add to them while parsing through some API response etc.\nYou will learn more about function nodes in next section. "),Object(r.b)("h3",{id:"carousal"},"Carousal"),Object(r.b)("p",null,"You can also add a Carousals to your bot. Carousal can be used in places like displaying a list of products."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Carousal response contains option to add image, title and description. "),Object(r.b)("li",{parentName:"ul"},"You can also add multiple buttons in carousal and control what these buttons do. ")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\ud83d\udccc Note: Carousals without buttons will act as ",Object(r.b)("inlineCode",{parentName:"p"},"Messages")," instead of ",Object(r.b)("inlineCode",{parentName:"p"},"Prompts"),".")),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/qAea1te.png",alt:null}))),Object(r.b)("h4",{id:"dynamic-carousals"},"Dynamic Carousals"),Object(r.b)("p",null,"Similar to quick replies, Carousals can also be dynamically created using ",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Fetch from"))," option. Carousal object is an array of each card (JSoN objects).\n",Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Sample Carousal object"))," "),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'[ \n                    {\n                        "title" : "Title1",\n                        "description" : "Description",\n                        "actions" : [ \n                            {\n                                "title" : "Button #1",\n                                "buttonDefault" : "text",\n                                "text" : "btn1"\n                            }, \n                            {\n                                "title" : "Btn2",\n                                "buttonDefault" : "text",\n                                "text" : "Btn2"\n                            }\n                        ],\n                        "image" : "https://cdn.yellowmessenger.com/P1EbYON6d3GK1623249355856.png",\n                        "video" : "",\n                        "text" : "Desc1"\n                    }, \n                    {\n                        "title" : "Title2",\n                        "description" : "Description",\n                        "actions" : [ \n                            {\n                                "title" : "Btn2.1",\n                                "buttonDefault" : "text",\n                                "text" : "btn2.1"\n                            }\n                        ],\n                        "image" : "",\n                        "video" : "",\n                        "text" : "Desc2"\n                    }\n                ]\n\n')),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Actions")," above describe the card button, you can add multiple actions to a single card in carousal. "),Object(r.b)("p",null,"To add a URL type action, for example, format becomes"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'    {\n        "title": "Explore more",\n        "buttonDefault": "url",\n        "url": "https://sampleurl.com",\n    }\n                    \n')),Object(r.b)("p",null,"Since we looked at objects, let's also look at one sample function to add carousals to understand this. You can call this function from function node we will learn about and store the returning value in a variable."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},Object(r.b)("inlineCode",{parentName:"strong"},"Sample code"))),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{}),'return new Promise(resolve => {\n    // Your logic goes here\n    let cars = data.variables.cars_h; //this bot variable contains an API response\n    let cars_cards = []; \n\n    for (let i = 0; i < cars.length; i++) {\n        \n            cars_cards.push({\n                "title": cars[i].model,\n\n                "actions": [\n                    {\n                        "title": "Explore more",\n                        "buttonDefault": "text",\n                        "text": cars[i].model,\n\n                    }\n                ],\n                "image": cars[i].main_img,\n                // "video" : "",\n                // "text" : "Desc1",\n\n            });\n\n    }\n\n    return resolve(cars_cards);\n});\n')),Object(r.b)("hr",null),Object(r.b)("h3",{id:"prompt-settings"},"Prompt settings"),Object(r.b)("p",null,"There is also some additional options in prompt settings that you can use. "),Object(r.b)("p",null,Object(r.b)("img",Object(a.a)({parentName:"p"},{src:"https://i.imgur.com/Zylyvin.png",alt:null}))),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You can choose ",Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"entity type/variable"))," to autoskip a prompt step if value of that entity or variable is available. (You will learn more about entities and variables later)"),Object(r.b)("li",{parentName:"ul"},"You can also mask this info from appearing in conversation logs. ")),Object(r.b)("hr",null))}b.isMDXComponent=!0}}]);