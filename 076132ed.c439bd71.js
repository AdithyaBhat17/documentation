/*! For license information please see 076132ed.c439bd71.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{411:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),l=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=l(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},f=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=l(n),f=r,d=p["".concat(i,".").concat(f)]||p[f]||m[f]||a;return n?o.a.createElement(d,s(s({ref:t},c),{},{components:n})):o.a.createElement(d,s({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=f;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"},412:function(e,t,n){"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}t.a=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},413:function(e,t,n){"use strict";var r=n(0),o=n(414);t.a=function(){var e=Object(r.useContext)(o.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},414:function(e,t,n){"use strict";var r=n(0),o=Object(r.createContext)(void 0);t.a=o},415:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(413),i=n(412),s=n(56),u=n.n(s),c=37,l=39;t.a=function(e){var t=e.lazy,n=e.block,s=e.defaultValue,p=e.values,m=e.groupId,f=e.className,d=Object(a.a)(),b=d.tabGroupChoices,h=d.setTabGroupChoices,g=Object(r.useState)(s),v=g[0],O=g[1],y=r.Children.toArray(e.children);if(null!=m){var w=b[m];null!=w&&w!==v&&p.some((function(e){return e.value===w}))&&O(w)}var j=function(e){O(e),null!=m&&h(m,e)},k=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":n},f)},p.map((function(e){var t=e.value,n=e.label;return o.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":v===t,className:Object(i.a)("tabs__item",u.a.tabItem,{"tabs__item--active":v===t}),key:t,ref:function(e){return k.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case l:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case c:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(k,e.target,e)},onFocus:function(){return j(t)},onClick:function(){j(t)}},n)}))),t?Object(r.cloneElement)(y.filter((function(e){return e.props.value===v}))[0],{className:"margin-vert--md"}):o.a.createElement("div",{className:"margin-vert--md"},y.map((function(e,t){return Object(r.cloneElement)(e,{key:t,hidden:e.props.value!==v})}))))}},416:function(e,t,n){"use strict";var r=n(3),o=n(0),a=n.n(o);t.a=function(e){var t=e.children,n=e.hidden,o=e.className;return a.a.createElement("div",Object(r.a)({role:"tabpanel"},{hidden:n,className:o}),t)}},417:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},418:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(11),i=n(420),s=n(8),u=Object(r.createContext)({collectLink:function(){}}),c=n(421),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};t.a=function(e){var t,n,p,m=e.isNavLink,f=e.to,d=e.href,b=e.activeClassName,h=e.isActive,g=e["data-noBrokenLinkCheck"],v=e.autoAddBaseUrl,O=void 0===v||v,y=l(e,["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"]),w=Object(c.b)().withBaseUrl,j=Object(r.useContext)(u),k=f||d,x=Object(i.a)(k),N=null==k?void 0:k.replace("pathname://",""),C=void 0!==N?(n=N,O&&function(e){return e.startsWith("/")}(n)?w(n):n):void 0,E=Object(r.useRef)(!1),P=m?a.e:a.c,_=s.a.canUseIntersectionObserver;Object(r.useEffect)((function(){return!_&&x&&window.docusaurus.prefetch(C),function(){_&&p&&p.disconnect()}}),[C,_,x]);var A=null!==(t=null==C?void 0:C.startsWith("#"))&&void 0!==t&&t,I=!C||!x||A;return C&&x&&!A&&!g&&j.collectLink(C),I?o.a.createElement("a",Object.assign({href:C},k&&!x&&{target:"_blank",rel:"noopener noreferrer"},y)):o.a.createElement(P,Object.assign({},y,{onMouseEnter:function(){E.current||(window.docusaurus.preload(C),E.current=!0)},innerRef:function(e){var t,n;_&&e&&x&&(t=e,n=function(){window.docusaurus.prefetch(C)},(p=new window.IntersectionObserver((function(e){e.forEach((function(e){t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(p.unobserve(t),p.disconnect(),n())}))}))).observe(t))},to:C||""},m&&{isActive:h,activeClassName:b}))}},420:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function o(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},421:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(22),o=n(420);function a(){var e=Object(r.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,a=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var a=void 0===r?{}:r,i=a.forcePrependBaseUrl,s=void 0!==i&&i,u=a.absolute,c=void 0!==u&&u;if(!n)return n;if(n.startsWith("#"))return n;if(Object(o.b)(n))return n;if(s)return t+n;var l=n.startsWith(t)?n:t+n.replace(/^\//,"");return c?e+l:l}(a,n,e,t)}}}function i(e,t){return void 0===t&&(t={}),(0,a().withBaseUrl)(e,t)}},422:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(22),i=n(417),s=n.n(i),u=n(57),c=n.n(u);t.a=function(e){var t=e.type,n=e.singular,r=Object(a.default)().siteConfig.customFields.components[t];return"string"!=typeof n&&/s$/.test(n=t)&&(n=t.slice(0,-1)),o.a.createElement("div",{className:"dropdown dropdown--hoverable"},o.a.createElement("button",{className:"button button--outline button--primary"},"Jump to ",n),o.a.createElement("ul",{className:s()(c.a.componentList,"dropdown__menu")},r.map((function(e){return o.a.createElement("li",{key:e.name},o.a.createElement("a",{className:"dropdown__link",href:"/docs/components/"+t+"/"+e.name},e.name))}))))}},426:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(22),i=n(415),s=n(416),u=n(418),c=(n(417),n(58)),l=n.n(c);var p=function(e){var t=e.type,n=e.component;return o.a.createElement(u.a,{to:"/docs/components/"+t+"/"+n.name,className:l.a.componentCard},o.a.createElement("strong",null,n.name))},m={inputs:[{name:"Services",description:"Inputs that consume from storage or message streaming services."},{name:"Network",description:"Inputs that consume directly from low level network protocols."},{name:"AWS",description:"Inputs that consume from Amazon Web Services products."},{name:"GCP",description:"Inputs that consume from Google Cloud Platform services."},{name:"Local",description:"Inputs that consume from the local machine/filesystem."},{name:"Utility",description:"Inputs that provide utility by generating data or combining/wrapping other inputs."}],processors:[{name:"Mapping",description:"Processors that specialize in restructuring messages."},{name:"Integration",description:"Processors that interact with external services."},{name:"Parsing",description:"Processors that specialize in translating messages from one format to another."},{name:"Composition",description:"Higher level processors that compose other processors and modify their behavior."},{name:"Utility",description:"Processors that provide general utility or do not fit in another category."}],outputs:[{name:"Services",description:"Outputs that write to storage or message streaming services."},{name:"Network",description:"Outputs that write directly to low level network protocols."},{name:"AWS",description:"Outputs that write to Amazon Web Services products."},{name:"GCP",description:"Outputs that write to Google Cloud Platform services."},{name:"Azure",description:"Outputs that write to Microsoft Azure services."},{name:"Local",description:"Outputs that write to the local machine/filesystem."},{name:"Utility",description:"Outputs that provide utility by combining/wrapping other outputs."}]};t.a=function(e){for(var t=e.type,n=Object(a.default)().siteConfig.customFields.components[t],r=m[t]||[],u={},c=[],l=0;l<r.length;l++)c.push(r[l].name),u[r[l].name]={summary:r[l].description,items:[]};for(var f=0;f<n.length;f++){var d=n[f].categories;if(Array.isArray(d))for(var b=0;b<d.length;b++)void 0===u[d[b]]?(c.push(d[b]),u[d[b]]={summary:"",items:[n[f]]}):u[d[b]].items.push(n[f])}return o.a.createElement(i.a,{defaultValue:c[0].toLowerCase(),values:c.map((function(e){return{label:e,value:e.toLowerCase()}}))},c.map((function(e){return o.a.createElement(s.a,{value:e.toLowerCase()},o.a.createElement("p",null,u[e].summary),u[e].items.map((function(e){return o.a.createElement(p,{type:t,component:e})})))})))}},86:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return m}));var r=n(3),o=n(7),a=(n(0),n(411)),i=n(426),s=n(422),u={title:"Outputs",sidebar_label:"About"},c={unversionedId:"components/outputs/about",id:"components/outputs/about",isDocsHomePage:!1,title:"Outputs",description:"An output is a sink where we wish to send our consumed data after applying an optional array of processors. Only one output is configured at the root of a Benthos config. However, the output can be a broker which combines multiple outputs under a chosen brokering pattern, or a switch which is used to multiplex against different outputs.",source:"@site/docs/components/outputs/about.md",slug:"/components/outputs/about",permalink:"/docs/components/outputs/about",editUrl:"https://github.com/Jeffail/benthos/edit/master/website/docs/components/outputs/about.md",version:"current",sidebar_label:"About",sidebar:"docs",previous:{title:"text",permalink:"/docs/components/processors/text"},next:{title:"amqp_0_9",permalink:"/docs/components/outputs/amqp_0_9"}},l=[{value:"Back Pressure",id:"back-pressure",children:[]},{value:"Retries",id:"retries",children:[]},{value:"Dead Letter Queues",id:"dead-letter-queues",children:[]},{value:"Multiplexing Outputs",id:"multiplexing-outputs",children:[{value:"Interpolation Multiplexing",id:"interpolation-multiplexing",children:[]},{value:"Switch Multiplexing",id:"switch-multiplexing",children:[]}]},{value:"Categories",id:"categories",children:[]}],p={toc:l};function m(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"An output is a sink where we wish to send our consumed data after applying an optional array of ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/processors/about"}),"processors"),". Only one output is configured at the root of a Benthos config. However, the output can be a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/broker"}),"broker")," which combines multiple outputs under a chosen brokering pattern, or a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/switch"}),"switch")," which is used to multiplex against different outputs."),Object(a.b)("p",null,"An output config section looks like this:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),'output:\n  s3:\n    bucket: TODO\n    path: \'${! meta("kafka_topic") }/${! json("message.id") }.json\'\n\n  # Optional list of processing steps\n  processors:\n   - bloblang: \'{"message":this,"meta":{"link_count":this.links.length()}}\'\n')),Object(a.b)("h2",{id:"back-pressure"},"Back Pressure"),Object(a.b)("p",null,"Benthos outputs apply back pressure to components upstream. This means if your output target starts blocking traffic Benthos will gracefully stop consuming until the issue is resolved."),Object(a.b)("h2",{id:"retries"},"Retries"),Object(a.b)("p",null,"When a Benthos output fails to send a message the error is propagated back up to the input, where depending on the protocol it will either be pushed back to the source as a Noack (e.g. AMQP) or will be reattempted indefinitely with the commit withheld until success (e.g. Kafka)."),Object(a.b)("p",null,"It's possible to instead have Benthos indefinitely retry an output until success with a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/retry"}),Object(a.b)("inlineCode",{parentName:"a"},"retry"))," output. Some other outputs, such as the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/broker"}),Object(a.b)("inlineCode",{parentName:"a"},"broker")),", might also retry indefinitely depending on their configuration."),Object(a.b)("h2",{id:"dead-letter-queues"},"Dead Letter Queues"),Object(a.b)("p",null,"It's possible to create fallback outputs for when an output target fails using a ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/try"}),Object(a.b)("inlineCode",{parentName:"a"},"try"))," output:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),"output:\n  try:\n    - sqs:\n        url: https://sqs.us-west-2.amazonaws.com/TODO/TODO\n        max_in_flight: 20\n\n    - http_client:\n        url: http://backup:1234/dlq\n        verb: POST\n")),Object(a.b)("h2",{id:"multiplexing-outputs"},"Multiplexing Outputs"),Object(a.b)("p",null,"There are a few different ways of multiplexing in Benthos, here's a quick run through:"),Object(a.b)("h3",{id:"interpolation-multiplexing"},"Interpolation Multiplexing"),Object(a.b)("p",null,"Some output fields support ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/configuration/interpolation"}),"field interpolation"),", which is a super easy way to multiplex messages based on their contents in situations where you are multiplexing to the same service."),Object(a.b)("p",null,"For example, multiplexing against Kafka topics is a common pattern:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),'output:\n  kafka:\n    addresses: [ TODO:6379 ]\n    topic: ${! meta("target_topic") }\n')),Object(a.b)("p",null,"Refer to the field documentation for a given output to see if it support interpolation."),Object(a.b)("h3",{id:"switch-multiplexing"},"Switch Multiplexing"),Object(a.b)("p",null,"A more advanced form of multiplexing is to route messages to different output configurations based on a query. This is easy with the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/components/outputs/switch"}),Object(a.b)("inlineCode",{parentName:"a"},"switch")," output"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-yaml"}),'output:\n  switch:\n    cases:\n      - check: this.type == "foo"\n        output:\n          amqp_1:\n            url: amqps://guest:guest@localhost:5672/\n            target_address: queue:/the_foos\n\n      - check: this.type == "bar"\n        output:\n          gcp_pubsub:\n            project: dealing_with_mike\n            topic: mikes_bars\n\n      - output:\n          redis_streams:\n            url: tcp://localhost:6379\n            stream: everything_else\n          processors:\n            - bloblang: |\n                root = this\n                root.type = this.type.not_null() | "unknown"\n')),Object(a.b)("h2",{id:"categories"},"Categories"),Object(a.b)(i.a,{type:"outputs",mdxType:"ComponentsByCategory"}),Object(a.b)(s.a,{type:"outputs",mdxType:"ComponentSelect"}))}m.isMDXComponent=!0}}]);