(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{211:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return s})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return p}));var n=a(3),i=a(7),r=(a(0),a(457)),o=["components"],c={title:"Sticky agent chat assignment",sidebar_label:"Sticky agent"},s={unversionedId:"platform_concepts/inbox/inbox-settings/automation/stickyagent",id:"platform_concepts/inbox/inbox-settings/automation/stickyagent",isDocsHomePage:!1,title:"Sticky agent chat assignment",description:"In this article, you will learn:",source:"@site/docs/platform_concepts/inbox/inbox-settings/automation/stickyagent.md",slug:"/platform_concepts/inbox/inbox-settings/automation/stickyagent",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/stickyagent",version:"current",sidebar_label:"Sticky agent",sidebar:"platform_concepts",previous:{title:"Auto assignment of tickets to agents",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/tickets-assignment-logic"},next:{title:"Generate Google Translate API key and enable auto-translate",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/chat_auto_translate"}},l=[{value:'<a name="usecase"></a> 1. Use cases',id:"1-use-cases",children:[]},{value:'<a name="setup"></a> 2. Setup &amp; implementation',id:"2-setup--implementation",children:[]},{value:"FAQs",id:"faqs",children:[]}],b={toc:l};function p(e){var t=e.components,a=Object(i.a)(e,o);return Object(r.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"In this article, you will learn: "),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",{parentName:"li",href:"#usecase"},"Use cases where the sticky agent can be used.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",{parentName:"li",href:"#setup"},"How to set up sticky agent?"))),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"This feature is applicable only for live chats."))),Object(r.b)("p",null,"The sticky agent is a type of ticket assignment where the customers can connect to an agent, of their choice (agents they are familiar with/ have conversed with before). This helps to provide a consistent and better experience, reduce conflicts and achieve faster resolution. It is used in Industries where the customer and agent relationship is crucial and it is expected that customers are to be mapped to their specific point of contact (agent/counselor/representative).\nFor example - Real estate, Concierge services, Travel consultancy, Financial Services, Education, Healthcare, etc."),Object(r.b)("h2",{id:"1-use-cases"},Object(r.b)("a",{name:"usecase"})," 1. Use cases"),Object(r.b)("p",null,"The sticky agent can solve the following use cases:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"When a customer creates a live chat, assign it to their respective agent. If that particular agent is not eligible to take any new chats, capture the customer information and throw an error message  (don't assign that chat to other agents who might not have context of the customer). This sort of strict mapping behaviour is sometimes followed in industries like BFSI & other Concierge services etc., depending upon their business workflow. "),Object(r.b)("li",{parentName:"ol"},"[Recommended approach]"," When a customer creates a live chat, assign that to their respective agent. If that particular agent is not eligible to take any new chats, assign them to the next available agent in the same group.\nWe believe that customers should not be left empty handed and should at least be connected with a regular support agent if not with their preferred one.")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},Object(r.b)("strong",{parentName:"p"},"Important Terminologies")," "),Object(r.b)("ol",{parentName:"div"},Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Preferred agent"),": The exact agent to whom you want the incoming customer to be assigned."),Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"Fallback"),": When the preferred agent is not eligible to take up chat at that moment (when they are busy/away/offline or they are at their max concurrency), the Fallback determines what should happen to that chat ticket. In this case, ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"The ticket can go into missed without being assigned to anyone else."),Object(r.b)("li",{parentName:"ul"},"The ticket can be assigned to the next available agent in their group (recommended).")))))),Object(r.b)("h2",{id:"2-setup--implementation"},Object(r.b)("a",{name:"setup"})," 2. Setup & implementation"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Create groups according to the business requirements. ")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Click ",Object(r.b)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/inbox/inbox-settings/team/groups"},"here")," to know how.  ")),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"Do not create groups for each available agent, instead,  place multiple agents in one group according to the business requirements.\nInvite and add agents to their respective groups\nFor example: "),Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},"Group A  ","[Product A]",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Agent 1"),Object(r.b)("li",{parentName:"ul"},"Agent 2"))),Object(r.b)("li",{parentName:"ul"},"Group B ","[Product B]",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Agent X"),Object(r.b)("li",{parentName:"ul"},"Agent Y  ")))))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"Sticky agent assignment can only be implemented using API.  To initialise the API, open ",Object(r.b)("strong",{parentName:"li"},"Studio")," > ",Object(r.b)("strong",{parentName:"li"},"API"),".")),Object(r.b)("p",null,Object(r.b)("img",{parentName:"p",src:"https://i.imgur.com/Q2UEhQa.png",alt:null})),Object(r.b)("p",null,"The sticky agent mapping logic between agents and your customers can be maintained internally in Yellow.ai's Database or externally through an API."),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},"The following parameters must be passed in the API for the sticky agent assignment to function:",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"Category")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"AssignedTo")," - agentId has to be passed. agent ID is the agent's login email address without any special characters. Example:  ",Object(r.b)("a",{parentName:"li",href:"mailto:sandy.r@yellow.ai"},"sandy.r@yellow.ai")," > sandyryellowai"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"PreferredAgent")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"PreferredAgentFallback"))))),Object(r.b)("ol",{start:4},Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"To assign tickets to agents without any fallback")," (use case #1) use the following API.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"preferredAgent is ",Object(r.b)("strong",{parentName:"li"},"true")," & preferredAgentFallback is ",Object(r.b)("strong",{parentName:"li"},"false"),". "),Object(r.b)("li",{parentName:"ul"},"When the preferred agent being passed is not eligible, the chat ticket will directly go into missed chats.")))),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},'curl --location -g --request POST \'https://cloud.yellow.ai/api/agents/tickets/create-ticket?bot={{botId}}\' \\\n--header \'x-api-key: {{x-api-key}}\' \\\n--data-raw \'{\n    "ticketData": {\n        "botId": "{{botId}}",\n        "uid": "{{uuid}}",\n        "source": "yellowmessenger",\n        "issue": "call with agent",\n        "priority": "MEDIUM",\n        "contact": {\n            "phone": "0939482821938",\n            "name": "Anik Das",\n            "email": "s@y.com"\n        },\n        "voiceCall": false,\n        "sipCall": false,\n        "customFields": {},\n        "category": "test",\n        "assignedTo": "karishnuyellowai",\n        "preferredAgent": true,\n        "preferredAgentFallback": false\n    }\n}\'\n')),Object(r.b)("ol",{start:5},Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},"To assign tickets to agents with fallback")," (use-case #2) use the following API.",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"preferredAgent & preferredAgentFallback are ",Object(r.b)("strong",{parentName:"li"},"true"),". "),Object(r.b)("li",{parentName:"ul"},"When the preferred agent being passed is not eligible, the chat ticket will try to get assigned to the next eligible agent."),Object(r.b)("li",{parentName:"ul"},"If no agent (in the group) is eligible to assign chats, it will go into missed chat.")))),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},'curl --location -g --request POST \'https://cloud.yellow.ai/api/agents/tickets/create-ticket?bot={{botId}}\' \\\n--header \'x-api-key: {{x-api-key}}\' \\\n--data-raw \'{\n    "ticketData": {\n        "botId": "{{botId}}",\n        "uid": "{{uuid}}",\n        "source": "yellowmessenger",\n        "issue": "call with agent",\n        "priority": "MEDIUM",\n        "contact": {\n            "phone": "0939482821938",\n            "name": "Anik Das",\n            "email": "s@y.com"\n        },\n        "voiceCall": false,\n        "sipCall": false,\n        "customFields": {},\n        "category": "test",\n        "assignedTo": "karishnuyellowai",\n        "preferredAgent": true,\n        "preferredAgentFallback": true\n    }\n}\'\n')),Object(r.b)("h2",{id:"faqs"},"FAQs"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("strong",{parentName:"li"},'What do you mean by "agents not eligible to take chats"?'),Object(r.b)("br",{parentName:"li"}),"Agents are considered to be not eligible for assignment when:   ",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"The agent status is currently offline/busy/away."),Object(r.b)("li",{parentName:"ul"},"The agent has no vacant concurrency to assign chats.")))),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Will a sticky ticket go into the queue if it is raised when all my agents are occupied?")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Sticky tickets will not go into the queue even if the group queue is turned ON."),Object(r.b)("li",{parentName:"ul"},"When an agent is at maximum concurrency OR busy/away/offline they are considered to be not eligible and will be skipped in consideration."),Object(r.b)("li",{parentName:"ul"},"It is recommended to a higher number than the set chat concurrency.")))))}p.isMDXComponent=!0},457:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return d}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=i.a.createContext({}),b=function(e){var t=i.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},p=function(e){var t=b(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=b(a),u=n,d=p["".concat(o,".").concat(u)]||p[u]||m[u]||r;return a?i.a.createElement(d,c(c({ref:t},l),{},{components:a})):i.a.createElement(d,c({ref:t},l))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,o[1]=c;for(var l=2;l<r;l++)o[l]=a[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"}}]);