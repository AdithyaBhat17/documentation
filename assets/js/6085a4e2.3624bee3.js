"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[5289],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),g=r,h=u["".concat(l,".").concat(g)]||u[g]||m[g]||i;return n?a.createElement(h,o(o({ref:t},p),{},{components:n})):a.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},74917:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],s={title:"Sticky agent chat assignment",sidebar_label:"Sticky agent"},l=void 0,c={unversionedId:"platform_concepts/inbox/inbox-settings/automation/stickyagent",id:"platform_concepts/inbox/inbox-settings/automation/stickyagent",title:"Sticky agent chat assignment",description:"In this article, you will learn:",source:"@site/docs/platform_concepts/inbox/inbox-settings/automation/stickyagent.md",sourceDirName:"platform_concepts/inbox/inbox-settings/automation",slug:"/platform_concepts/inbox/inbox-settings/automation/stickyagent",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/stickyagent",draft:!1,tags:[],version:"current",frontMatter:{title:"Sticky agent chat assignment",sidebar_label:"Sticky agent"},sidebar:"platform_concepts",previous:{title:"Auto assignment logic",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/tickets-assignment-logic"},next:{title:"Auto translate (Google API key generation)",permalink:"/docs/platform_concepts/inbox/inbox-settings/automation/chat_auto_translate"}},p={},u=[{value:'<a name="usecase"></a> 1. Use cases',id:"-1-use-cases",level:2},{value:'<a name="setup"></a> 2. Setup &amp; implementation',id:"-2-setup--implementation",level:2}],m={toc:u};function g(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In this article, you will learn: "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#usecase"},"Use cases where the sticky agent can be used.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#setup"},"How to set up sticky agent?"))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This feature is applicable only for live chats.")),(0,i.kt)("p",null,"The sticky agent is a type of ticket assignment where the customers can connect to an agent, of their choice (agents they are familiar with/ have conversed with before). This helps to provide a consistent and better experience, reduce conflicts and achieve faster resolution. It is used in Industries where the customer and agent relationship is crucial and it is expected that customers are to be mapped to their specific point of contact (agent/counselor/representative).\nFor example - Real estate, Concierge services, Travel consultancy, Financial Services, Education, Healthcare, etc."),(0,i.kt)("h2",{id:"-1-use-cases"},(0,i.kt)("a",{name:"usecase"})," 1. Use cases"),(0,i.kt)("p",null,"The sticky agent can solve the following use cases:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"When a customer creates a live chat, assign it to their respective agent. If that particular agent is not eligible to take any new chats, capture the customer information and throw an error message  (don't assign that chat to other agents who might not have context of the customer). This sort of strict mapping behaviour is sometimes followed in industries like BFSI & other Concierge services etc., depending upon their business workflow. "),(0,i.kt)("li",{parentName:"ol"},"[Recommended approach]"," When a customer creates a live chat, assign that to their respective agent. If that particular agent is not eligible to take any new chats, assign them to the next available agent in the same group.\nWe believe that customers should not be left empty handed and should at least be connected with a regular support agent if not with their preferred one.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Important Terminologies")," "),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Preferred agent"),": The exact agent to whom you want the incoming customer to be assigned."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Fallback"),": When the preferred agent is not eligible to take up chat at that moment (when they are busy/away/offline or they are at their max concurrency), the Fallback determines what should happen to that chat ticket. In this case, ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The ticket can go into missed without being assigned to anyone else."),(0,i.kt)("li",{parentName:"ul"},"The ticket can be assigned to the next available agent in their group (recommended)."))))),(0,i.kt)("h2",{id:"-2-setup--implementation"},(0,i.kt)("a",{name:"setup"})," 2. Setup & implementation"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Create groups according to the business requirements. ")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Click ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/inbox/inbox-settings/team/groups"},"here")," to know how.  ")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Do not create groups for each available agent, instead,  place multiple agents in one group according to the business requirements.\nInvite and add agents to their respective groups\nFor example: "),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Group A  ","[Product A]",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Agent 1"),(0,i.kt)("li",{parentName:"ul"},"Agent 2"))),(0,i.kt)("li",{parentName:"ul"},"Group B ","[Product B]",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Agent X"),(0,i.kt)("li",{parentName:"ul"},"Agent Y  "))))),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Sticky agent assignment can only be implemented using API.  To initialise the API, open ",(0,i.kt)("strong",{parentName:"li"},"Studio")," > ",(0,i.kt)("strong",{parentName:"li"},"API"),".")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/Q2UEhQa.png",alt:null})),(0,i.kt)("p",null,"The sticky agent mapping logic between agents and your customers can be maintained internally in Yellow.ai's Database or externally through an API."),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"The following parameters must be passed in the API for the sticky agent assignment to function:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Category")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"AssignedTo")," - agentId has to be passed. agent ID is the agent's login email address without any special characters. Example:  ",(0,i.kt)("a",{parentName:"li",href:"mailto:sandy.r@yellow.ai"},"sandy.r@yellow.ai")," > sandyryellowai"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"PreferredAgent")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"PreferredAgentFallback"))))),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"To assign tickets to agents without any fallback")," (use case #1) use the following API.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"preferredAgent is ",(0,i.kt)("strong",{parentName:"li"},"true")," & preferredAgentFallback is ",(0,i.kt)("strong",{parentName:"li"},"false"),". "),(0,i.kt)("li",{parentName:"ul"},"When the preferred agent being passed is not eligible, the chat ticket will directly go into missed chats.")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'curl --location -g --request POST \'https://cloud.yellow.ai/api/agents/tickets/create-ticket?bot={{botId}}\' \\\n--header \'x-api-key: {{x-api-key}}\' \\\n--data-raw \'{\n    "ticketData": {\n        "botId": "{{botId}}",\n        "uid": "{{uuid}}",\n        "source": "yellowmessenger",\n        "issue": "call with agent",\n        "priority": "MEDIUM",\n        "contact": {\n            "phone": "0939482821938",\n            "name": "Anik Das",\n            "email": "s@y.com"\n        },\n        "voiceCall": false,\n        "sipCall": false,\n        "customFields": {},\n        "category": "test",\n        "assignedTo": "karishnuyellowai",\n        "preferredAgent": true,\n        "preferredAgentFallback": false\n    }\n}\'\n')),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"To assign tickets to agents with fallback")," (use-case #2) use the following API.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"preferredAgent & preferredAgentFallback are ",(0,i.kt)("strong",{parentName:"li"},"true"),". "),(0,i.kt)("li",{parentName:"ul"},"When the preferred agent being passed is not eligible, the chat ticket will try to get assigned to the next eligible agent."),(0,i.kt)("li",{parentName:"ul"},"If no agent (in the group) is eligible to assign chats, it will go into missed chat.")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'curl --location -g --request POST \'https://cloud.yellow.ai/api/agents/tickets/create-ticket?bot={{botId}}\' \\\n--header \'x-api-key: {{x-api-key}}\' \\\n--data-raw \'{\n    "ticketData": {\n        "botId": "{{botId}}",\n        "uid": "{{uuid}}",\n        "source": "yellowmessenger",\n        "issue": "call with agent",\n        "priority": "MEDIUM",\n        "contact": {\n            "phone": "0939482821938",\n            "name": "Anik Das",\n            "email": "s@y.com"\n        },\n        "voiceCall": false,\n        "sipCall": false,\n        "customFields": {},\n        "category": "test",\n        "assignedTo": "karishnuyellowai",\n        "preferredAgent": true,\n        "preferredAgentFallback": true\n    }\n}\'\n')))}g.isMDXComponent=!0}}]);