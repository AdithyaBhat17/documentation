"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[7424],{3905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return k}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),s=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,p=t.parentName,m=i(t,["components","mdxType","originalType","parentName"]),u=s(n),c=r,k=u["".concat(p,".").concat(c)]||u[c]||d[c]||l;return n?a.createElement(k,o(o({ref:e},m),{},{components:n})):a.createElement(k,o({ref:e},m))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,o=new Array(l);o[0]=c;var i={};for(var p in e)hasOwnProperty.call(e,p)&&(i[p]=e[p]);i.originalType=t,i[u]="string"==typeof t?t:r,o[1]=i;for(var s=2;s<l;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},79035:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return u}});var a=n(87462),r=n(63366),l=(n(67294),n(3905)),o=["components"],i={title:"Razorpay",sidebar_label:"Razorpay"},p=void 0,s={unversionedId:"platform_concepts/appConfiguration/razorpay",id:"platform_concepts/appConfiguration/razorpay",title:"Razorpay",description:"You can integrate the Yellow.ai platform with your Razorpay account to receive payments from your end users. Along with receiving payments, you can also perform the following actions:",source:"@site/docs/platform_concepts/appConfiguration/razorpay.md",sourceDirName:"platform_concepts/appConfiguration",slug:"/platform_concepts/appConfiguration/razorpay",permalink:"/docs/platform_concepts/appConfiguration/razorpay",draft:!1,tags:[],version:"current",frontMatter:{title:"Razorpay",sidebar_label:"Razorpay"},sidebar:"platform_concepts",previous:{title:"PayU Business",permalink:"/docs/platform_concepts/appConfiguration/payuBiz"},next:{title:"Salesforce Service Cloud",permalink:"/docs/platform_concepts/appConfiguration/salesforce-service-cloud"}},m={},u=[{value:"1. Connect Razorpay with Yellow.ai",id:"1-connect-razorpay-with-yellowai",level:2},{value:"1.1 Generate API keys on Razorpay dashboard",id:"11-generate-api-keys-on-razorpay-dashboard",level:3},{value:"1.2 Enable the Integration in Yellow.ai&#39;s Integrations Module.",id:"12-enable-the-integration-in-yellowais-integrations-module",level:3},{value:"1.3 Configure webhook URL in Razorpay Dashboard",id:"13-configure-webhook-url-in-razorpay-dashboard",level:3},{value:"1.4 Set up webhooks on RazorPay dashboard",id:"14-set-up-webhooks-on-razorpay-dashboard",level:3},{value:"1.4 Receive events in Yellow.ai",id:"14-receive-events-in-yellowai",level:3},{value:"2. Use-cases",id:"2-use-cases",level:2},{value:"2.1 Generate Payment Link",id:"21-generate-payment-link",level:3},{value:"2.2 Generate Payment Link for Partial Payments",id:"22-generate-payment-link-for-partial-payments",level:3},{value:"2.3 Intiate refund",id:"23-intiate-refund",level:3}],d={toc:u};function c(t){var e=t.components,n=(0,r.Z)(t,o);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"You can integrate the Yellow.ai platform with your ",(0,l.kt)("a",{parentName:"p",href:"https://razorpay.com/"},"Razorpay "),"account to receive payments from your end users. Along with receiving payments, you can also perform the following actions:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Generate a payment link and receive the status (success/failure) of the payment."),(0,l.kt)("li",{parentName:"ul"},"Generate a payment link to receive partial payments and receive the status (success/failure) of the payments."),(0,l.kt)("li",{parentName:"ul"},"Initiate refund process."),(0,l.kt)("li",{parentName:"ul"},"Check refund status. ")),(0,l.kt)("h2",{id:"1-connect-razorpay-with-yellowai"},"1. Connect Razorpay with Yellow.ai"),(0,l.kt)("p",null,"Connect your Yellow.ai platform with your Razorpay account by following the below-mentioned steps."),(0,l.kt)("h3",{id:"11-generate-api-keys-on-razorpay-dashboard"},"1.1 Generate API keys on Razorpay dashboard"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Log into your ",(0,l.kt)("strong",{parentName:"li"},"Razorpay")," account and select the mode (Test/Live) for which you want to generate the API key.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/74zbT2o.png",alt:null})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Test Mode:")," The test mode is a simulation mode in which you can test your integration flow. Your customers cannot make payments in this mode. Check out this ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=Xwiv6zSVVCM"},"video")," to know more."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Live Mode:")," When your integration is complete, switch to ",(0,l.kt)("strong",{parentName:"li"},"Live")," mode and generate live mode API keys. Replace test mode keys with live mode keys in the integration to accept payments from customers.Check out this ",(0,l.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=30REpNtYSak"},"video")," to know more.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"To generate API keys for a  mode"),","),(0,l.kt)("p",null," Navigate to ",(0,l.kt)("strong",{parentName:"p"},"Settings")," > ",(0,l.kt)("strong",{parentName:"p"},"API Keys")," > ",(0,l.kt)("strong",{parentName:"p"},"Generate Key")," to generate key for the selected mode. "),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/vFHopPF.png",alt:null})),(0,l.kt)("p",null,"The ",(0,l.kt)("strong",{parentName:"p"},"Key Id")," and ",(0,l.kt)("strong",{parentName:"p"},"Key Secret")," will appear on the following page. Downalod them to use in your Yellow.ai platform."),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/7RPBlMe.png",alt:null})),(0,l.kt)("h3",{id:"12-enable-the-integration-in-yellowais-integrations-module"},"1.2 Enable the Integration in Yellow.ai's Integrations Module."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Login to ",(0,l.kt)("a",{parentName:"li",href:"https://cloud.yellow.ai/auth/login"},"cloud.yellow.ai"),", go to the ",(0,l.kt)("strong",{parentName:"li"},"Overview Switcher")," and click ",(0,l.kt)("strong",{parentName:"li"},"Integrations"),".")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/x4dJgOZ.png",alt:null})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Look for ",(0,l.kt)("strong",{parentName:"li"},"Razorpay")," in the search box or click the ",(0,l.kt)("strong",{parentName:"li"},"Payment")," category on the left navigation bar and then click ",(0,l.kt)("strong",{parentName:"li"},"Razorpay"),".")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/TMzGetO.png",alt:null})),(0,l.kt)("ol",{start:5},(0,l.kt)("li",{parentName:"ol"},"Fill in the fields and click ",(0,l.kt)("strong",{parentName:"li"},"Connect"),".")),(0,l.kt)("h3",{id:"13-configure-webhook-url-in-razorpay-dashboard"},"1.3 Configure webhook URL in Razorpay Dashboard"),(0,l.kt)("p",null,"To receive events, you need to configure the webhook URL in the ",(0,l.kt)("strong",{parentName:"p"},"Razorpay Dashboard"),"."),(0,l.kt)("p",null,"Copy the webhook url and the api key mentioned in the ",(0,l.kt)("strong",{parentName:"p"},"Instructions")," section of the Razorpay Integration Card. Append the region of your bot to the domain of the webhook url. r1/r2/r3/r4/r5 are the regions of your bot, you can refer the following list for the same."),(0,l.kt)("p",null,"r1 = MEA\nr2 = Jakarta\nr4= USA\nr5 = Europe\nr3 = Singapore"),(0,l.kt)("p",null,"For example, if the domain is ",(0,l.kt)("a",{parentName:"p",href:"https://cloud.yellow.ai"},"https://cloud.yellow.ai"),", you need to change it to ",(0,l.kt)("a",{parentName:"p",href:"https://r1.cloud.yellow.ai"},"https://r1.cloud.yellow.ai")," if the region of the bot is MEA. If the bot belongs to India, you can use origin domain itself."),(0,l.kt)("h3",{id:"14-set-up-webhooks-on-razorpay-dashboard"},"1.4 Set up webhooks on RazorPay dashboard"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Log into the ",(0,l.kt)("a",{parentName:"li",href:"https://dashboard.razorpay.com/#/access/signin"},"Razorpay Dashboard")," and navigate to ",(0,l.kt)("strong",{parentName:"li"},"Settings")," \u2192 ",(0,l.kt)("strong",{parentName:"li"},"Webhooks"),"."),(0,l.kt)("li",{parentName:"ol"},"Click ",(0,l.kt)("strong",{parentName:"li"},"+ Add New Webhook")," on the right corner.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/aE5zgwH.png",alt:null})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"In the ",(0,l.kt)("strong",{parentName:"li"},"Webhook Setup")," pop-up, enter the URL in which you'd like to receive the webhook payload when an event is triggered. We recommend using a ",(0,l.kt)("strong",{parentName:"li"},"HTTPS URL"),".")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/uDShz45.png",alt:null})),(0,l.kt)("p",null,"::: Tip"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"You can set upto 10 URLs to receive Webhook notifications. Webhooks can only be delivered to public URLs. If you attempt to save a localhost endpoint as part of a webhook setup, you will encounter an error.\n:::")),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"Enter a ",(0,l.kt)("strong",{parentName:"li"},"Secret")," for the webhook endpoint. This secret will be used to validate whether the webhook is from ",(0,l.kt)("strong",{parentName:"li"},"RazorPay"),". Do not expose this secret publicly. Click ",(0,l.kt)("a",{parentName:"li",href:"https://razorpay.com/docs/webhooks/validate-test/"},"here")," to know more validating webhooks. "),(0,l.kt)("li",{parentName:"ol"},"In the ",(0,l.kt)("strong",{parentName:"li"},"Alert Email")," field, enter the email address to which the notifications should be sent in case there's a webhook failure."),(0,l.kt)("li",{parentName:"ol"},"Select the required events from the list of ",(0,l.kt)("strong",{parentName:"li"},"Active Events"),"."),(0,l.kt)("li",{parentName:"ol"},"Click ",(0,l.kt)("strong",{parentName:"li"},"Create Webhook"),". After you set a webhook, it appears on the list of webhooks.")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"To modify the webhook further, you can select the webhook and click ",(0,l.kt)("strong",{parentName:"p"},"Edit"),". You can refer this ",(0,l.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=qojkh8Vbnek"},"video")," as well.")),(0,l.kt)("h3",{id:"14-receive-events-in-yellowai"},"1.4 Receive events in Yellow.ai"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Login to cloud.yellow.ai and click ",(0,l.kt)("strong",{parentName:"li"},"Studio"),". "),(0,l.kt)("li",{parentName:"ol"},"Click ",(0,l.kt)("strong",{parentName:"li"},"Event")," from the left navigation bar and then choose ",(0,l.kt)("strong",{parentName:"li"},"Integrations"),"."),(0,l.kt)("li",{parentName:"ol"},"Activate the event ",(0,l.kt)("strong",{parentName:"li"},"Razorpay Payment Status")," by clicking the three dots next to it.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/fK1Eoii.png",alt:null})),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"A journey with its trigger point as this event should be created in ",(0,l.kt)("strong",{parentName:"li"},"Studio"),". Based on the received event data, an appropriate message will be displayed to the end user.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/Bs6iIH8.png",alt:null})),(0,l.kt)("h2",{id:"2-use-cases"},"2. Use-cases"),(0,l.kt)("p",null,"The following are the use-cases that are supported in this integration."),(0,l.kt)("h3",{id:"21-generate-payment-link"},"2.1 Generate Payment Link"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"In the Studio flow builder, select the ",(0,l.kt)("strong",{parentName:"li"},"Integrations")," node and click ",(0,l.kt)("strong",{parentName:"li"},"Razorpay")," from the list of integrations that have been enabled for that bot.\n",(0,l.kt)("img",{parentName:"li",src:"https://i.imgur.com/iBzozGD.png",alt:null}))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"After clicking ",(0,l.kt)("strong",{parentName:"li"},"Razorpay"),",an ",(0,l.kt)("strong",{parentName:"li"},"Integration Action Node")," will be added to the flow builder. When you click that node, you will see all use-cases of this integration in a drop-down. Choose ",(0,l.kt)("strong",{parentName:"li"},"Generate Payment Link")," from them.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/wYYsSxX.png",alt:null})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Fill in all the mandatory fields. The below-mentioned table consists of the sample value,data type and description for all these fields.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample value"),(0,l.kt)("th",{parentName:"tr",align:null},"Data type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Amount"),(0,l.kt)("td",{parentName:"tr",align:null},"100"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount that should be the payment link. This must be in the smallest unit of the currency. For example, if you want to receive a payment of \u20b9299.95, you must enter the value 29995.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Currency"),(0,l.kt)("td",{parentName:"tr",align:null},"INR"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Default is ",(0,l.kt)("strong",{parentName:"td"},"INR"),", we also accept payments in ",(0,l.kt)("a",{parentName:"td",href:"https://razorpay.com/docs/payments/payments/international-payments/#supported-currencies"},"international currencies"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Description"),(0,l.kt)("td",{parentName:"tr",align:null},"Test"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"A brief description of the payment link.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IsUPILinkedEnabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicates if the payment link is a UPI payment link.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"true:")," A UPI payment link has been created.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"false:")," It is a standard payment link and not a UPI payment link. ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CustomerObject"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "contact": "+919999999999", "email": "',(0,l.kt)("a",{parentName:"td",href:"mailto:gaurav.kumar@example.com"},"gaurav.kumar@example.com"),'", "name": "Gaurav Kumar" },'),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Customer details")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Notes"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "policy_name": "Jeevan Bima" }'),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of key-value pairs that can be used to store additional information. You can enter a maximum of 15 key-value pairs, with each value having a maximum limit of 256 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"NotifyOptions"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "email": true, "sms": true }'),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Defines who handles the payment link notifications.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CallbackUrl"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://example-callback-url.com/"},"https://example-callback-url.com/")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"if specified it adds a redirect URL to the payment link. Once a customer completes the payment, they will be redirected to the specified URL.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CallbackMethod"),(0,l.kt)("td",{parentName:"tr",align:null},"get"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"If callback_url parameter is passed, callback_method must be passed with the value get.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"EnableRemindertrue"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"This is used to send reminders for the payment link. Possible values:",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"true:")," To send reminders.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"false:")," To disable reminders.",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CustomOptions"),(0,l.kt)("td",{parentName:"tr",align:null},"Reference details"),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Custom options")))),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"The ",(0,l.kt)("strong",{parentName:"li"},"Generate Payment Link Integration Action")," Node has two outcomes, success or failure. Based on the success/failure of the execution of the ",(0,l.kt)("strong",{parentName:"li"},"Integration Action Node"),", the flow will proceed to ",(0,l.kt)("strong",{parentName:"li"},"success")," or ",(0,l.kt)("strong",{parentName:"li"},"fallback")," branches respectively.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sample response in case of success:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n  "accept_partial": false,\n  "amount": 1000,\n  "amount_paid": 0,\n  "callback_method": "get",\n  "callback_url": "https://example-callback-url.com/",\n  "cancelled_at": 0,\n  "created_at": 1591097057,\n  "currency": "INR",\n  "customer": {\n    "contact": "+919999999999",\n    "email": "gaurav.kumar@example.com",\n    "name": "Gaurav Kumar"\n  },\n  "description": "Payment for policy no #23456",\n  "expire_by": 1691097057,\n  "expired_at": 0,\n  "first_min_partial_amount": 100,\n  "id": "plink_ExjpAUN3gVHrPJ",\n  "notes": {\n    "policy_name": "Jeevan Bima"\n  },\n  "notify": {\n    "email": true,\n    "sms": true\n  },\n  "payments": null,\n  "reference_id": "TS1989",\n  "reminder_enable": true,\n  "reminders": [],\n  "short_url": "https://rzp.io/i/nxrHnLJ",\n  "status": "created",\n  "updated_at": 1591097057,\n  "user_id": ""\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sample response in case of fallback:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n  "error": {\n    "code": "BAD_REQUEST_ERROR",\n    "description": "The api key provided is invalid",\n    "source": "NA",\n    "step": "NA",\n    "reason": "NA",\n    "metadata": {}\n  }\n}\n')),(0,l.kt)("p",null,"To use this ",(0,l.kt)("strong",{parentName:"p"},"Integration Action Node")," in an app.yellow.ai bot, refer the following example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link - Partial Payments\u201d,\n   "dynamicParams": {\n       "amount": "500",\n       "currency": "INR",\n       "description": "test",\n       "isUPILinkEnabled": true,\n       "customerObject": { "name": "GaurarKumar", "contact": "+919999999999", "email": "gaurav.kumar@example.com" },\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       },\n       "notifyOptions": {\n           "sms": true,\n           "email": true\n       },\n       "callbackUrl": "https://example-callback-url.com/",\n       "callbackMethod": "get",\n       "enableReminder": "true",\n       "customOptions": {\n           "test":"testing"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n')),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("h3",{parentName:"admonition",id:"payment-status-event-payload"},"Payment status event payload"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre"},'{\n          "id": "rfnd_FS8TWyPrCsa0OB",\n          "entity": "payment",\n          "amount": 50000,\n          "currency": "INR",\n          "payment_id": "pay_FPoJKWQQ8lK13n",\n          "notes": {\n            "comment": "Customer Notes for Webhooks."\n          },\n          "receipt": null,\n          "acquirer_data": {\n            "arn": null\n          },\n          "created_at": 1597734071,\n          "batch_id": null,\n          "status": "processed",\n          "speed_processed": "normal",\n          "speed_requested": "optimum"\n        }\n\n'))),(0,l.kt)("h3",{id:"22-generate-payment-link-for-partial-payments"},"2.2 Generate Payment Link for Partial Payments"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"In the Studio flow builder, select the ",(0,l.kt)("strong",{parentName:"li"},"Integrations")," node and click ",(0,l.kt)("strong",{parentName:"li"},"Razorpay")," from the list of integrations that have been enabled for that bot.\n",(0,l.kt)("img",{parentName:"li",src:"https://i.imgur.com/ysUIxfa.png",alt:null}))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"After clicking ",(0,l.kt)("strong",{parentName:"li"},"Razorpay"),",an ",(0,l.kt)("strong",{parentName:"li"},"Integration Action Node")," will be added to the flow builder. When you click that node, you will see all use-cases of this integration in a drop-down. Choose ",(0,l.kt)("strong",{parentName:"li"},"Generate Payment Link")," from them.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/tMcsRTb.png",alt:null})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Fill in all the mandatory fields. The below-mentioned table consists of the sample value,data type and description for all these fields.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample value"),(0,l.kt)("th",{parentName:"tr",align:null},"Data type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null},"Text"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Amount"),(0,l.kt)("td",{parentName:"tr",align:null},"100"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount that should be the payment link. This must be in the smallest unit of the currency. For example, if you want to receive a payment of \u20b9299.95, you must enter the value 29995.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Currency"),(0,l.kt)("td",{parentName:"tr",align:null},"INR"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Default is ",(0,l.kt)("strong",{parentName:"td"},"INR"),", we also accept payments in ",(0,l.kt)("a",{parentName:"td",href:"https://razorpay.com/docs/payments/payments/international-payments/#supported-currencies"},"international currencies"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Description"),(0,l.kt)("td",{parentName:"tr",align:null},"Test"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"A brief description of the payment link.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"IsUPILinkedEnabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicates if the payment link is a UPI payment link.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"true:")," A UPI payment link has been created.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"false:")," It is a standard payment link and not a UPI payment link. ",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CustomerObject"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "contact": "+919999999999", "email": "',(0,l.kt)("a",{parentName:"td",href:"mailto:gaurav.kumar@example.com"},"gaurav.kumar@example.com"),'", "name": "Gaurav Kumar" },'),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Customer details")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Notes"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "policy_name": "Jeevan Bima" }'),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of key-value pairs that can be used to store additional information. You can enter a maximum of 15 key-value pairs, with each value having a maximum limit of 256 characters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"NotifyOptions"),(0,l.kt)("td",{parentName:"tr",align:null},'{ "email": true, "sms": true }'),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Defines who handles the payment link notifications.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CallbackUrl"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://example-callback-url.com/"},"https://example-callback-url.com/")),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"if specified it adds a redirect URL to the payment link. Once a customer completes the payment, they will be redirected to the specified URL.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CallbackMethod"),(0,l.kt)("td",{parentName:"tr",align:null},"get"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"If callback_url parameter is passed, callback_method must be passed with the value get.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"EnableRemindertrue"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"This is used to send reminders for the payment link. Possible values:",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"true:")," To send reminders.",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"false:")," To disable reminders.",(0,l.kt)("br",null))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"CustomOptions"),(0,l.kt)("td",{parentName:"tr",align:null},"Reference details"),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"Custom options")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"isPartialPaymentAccepted"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicates whether customers can make partial payments using the payment link. ",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"Possible values:")," ",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"true:")," Customer can make partial payments.",(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"false (default):")," Customer cannot make partial payments.",(0,l.kt)("br",null))))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sample response in case of success:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'\n{\n  "accept_partial": false,\n  "amount": 1000,\n  "amount_paid": 0,\n  "callback_method": "get",\n  "callback_url": "https://example-callback-url.com/",\n  "cancelled_at": 0,\n  "created_at": 1591097057,\n  "currency": "INR",\n  "customer": {\n    "contact": "+919999999999",\n    "email": "gaurav.kumar@example.com",\n    "name": "Gaurav Kumar"\n  },\n  "description": "Payment for policy no #23456",\n  "expire_by": 1691097057,\n  "expired_at": 0,\n  "first_min_partial_amount": 100,\n  "id": "plink_ExjpAUN3gVHrPJ",\n  "notes": {\n    "policy_name": "Jeevan Bima"\n  },\n  "notify": {\n    "email": true,\n    "sms": true\n  },\n  "payments": null,\n  "reference_id": "TS1989",\n  "reminder_enable": true,\n  "reminders": [],\n  "short_url": "https://rzp.io/i/nxrHnLJ",\n  "status": "created",\n  "updated_at": 1591097057,\n  "user_id": ""\n}\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Sample response in case of fallback:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n  "error": {\n    "code": "BAD_REQUEST_ERROR",\n    "description": "The api key provided is invalid",\n    "source": "NA",\n    "step": "NA",\n    "reason": "NA",\n    "metadata": {}\n  }\n}\n')),(0,l.kt)("p",null,"To use this ",(0,l.kt)("strong",{parentName:"p"},"Integration Action Node")," in an app.yellow.ai bot, refer the following example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link",\n   "dynamicParams": {\n       "amount": "500",\n       "isPartialPaymentAccepted":true,\n       "currency": "INR",\n       "description": "test",\n       "isUPILinkEnabled": true,\n       "customerObject": { "name": "GaurarKumar", "contact": "+919999999999", "email": "gaurav.kumar@example.com" },\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       },\n       "notifyOptions": {\n           "sms": true,\n           "email": true\n       },\n       "callbackUrl": "https://example-callback-url.com/",\n       "callbackMethod": "get",\n       "enableReminder": "true",\n       "customOptions": {\n           "test":"testing"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n\n')),(0,l.kt)("h3",{id:"23-intiate-refund"},"2.3 Intiate refund"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"In the Studio flow builder, select the ",(0,l.kt)("strong",{parentName:"li"},"Integrations")," node and click ",(0,l.kt)("strong",{parentName:"li"},"Razorpay")," from the list of integrations that have been enabled for that bot.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/NTGBdtv.png",alt:null})),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"After clicking ",(0,l.kt)("strong",{parentName:"li"},"Razorpay"),",an ",(0,l.kt)("strong",{parentName:"li"},"Integration Action Node")," will be added to the flow builder. When you click that node, you will see all use-cases of this integration in a drop-down. Choose ",(0,l.kt)("strong",{parentName:"li"},"Generate Payment Link")," from them.")),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/WxXY6fZ.png",alt:null})),(0,l.kt)("ol",{start:3},(0,l.kt)("li",{parentName:"ol"},"Fill in all the mandatory fields. The below-mentioned table consists of the sample value,data type and description for all these fields.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample value"),(0,l.kt)("th",{parentName:"tr",align:null},"Data type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Amount"),(0,l.kt)("td",{parentName:"tr",align:null},"100"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount to be refunded (in the smallest unit of currency).  For example, refund in INR, a value of 100 means 100 paise (equivalent to \u20b91).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"paymentId"),(0,l.kt)("td",{parentName:"tr",align:null},"pay_FgR9UMzgmKDJRi"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The unique identifier of the payment for which a refund is initiated")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"refundType"),(0,l.kt)("td",{parentName:"tr",align:null},"normal"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Speed at which the refund should be processed. ",(0,l.kt)("br",null)," ",(0,l.kt)("strong",{parentName:"td"},"Possible values:"),(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"normal:")," Indicates that the refund will be processed at a normal speed i.e. within 5-7 working days.",(0,l.kt)("br",null),(0,l.kt)("strong",{parentName:"td"},"optimum:")," Indicates that the refund will be processed at an optimal speed based on Razorpay's internal fund transfer logic.",(0,l.kt)("br",null)," If the refund has to be processed instantly, ",(0,l.kt)("strong",{parentName:"td"},"Razorpay")," will do so irrespective of the payment method.",(0,l.kt)("br",null)," If an instant refund is not possible, Razorpay will initiate a refund  at the normal speed. For example, in case of payments made using debit cards, netbanking or unsupported credit cards.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"notes"),(0,l.kt)("td",{parentName:"tr",align:null},"{}"),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Key-value store for storing your reference data. A maximum of 15 key-value pairs can be included.")))),(0,l.kt)("ol",{start:4},(0,l.kt)("li",{parentName:"ol"},"The ",(0,l.kt)("strong",{parentName:"li"},"Generate Payment Link Integration Action")," Node has two outcomes, success or failure. Based on the success/failure of the execution of the ",(0,l.kt)("strong",{parentName:"li"},"Integration Action Node"),", the flow will proceed to ",(0,l.kt)("strong",{parentName:"li"},"success")," or ",(0,l.kt)("strong",{parentName:"li"},"fallback")," branches respectively.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Success Response:")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'\n{\n  "id": "rfnd_FgRAHdNOM4ZVbO",\n  "entity": "refund",\n  "amount": 10000,\n  "currency": "INR",\n  "payment_id": "pay_FgR9UMzgmKDJRi",\n  "notes": {\n    "notes_key_1": "Beam me up Scotty.",\n    "notes_key_2": "Engage"\n  },\n  "receipt": null,\n  "acquirer_data": {\n    "arn": "10000000000000"\n  },\n  "created_at": 1600856650,\n  "batch_id": null,\n  "status": "processed",\n  "speed_processed": "normal",\n  "speed_requested": "normal"\n}\n')),(0,l.kt)("p",null,"To use this ",(0,l.kt)("strong",{parentName:"p"},"Integration Action Node")," in an app.yellow.ai bot, refer the following example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link",\n   "dynamicParams": {\n       "amount": "500",\n       "refundType":"normal",\n       "paymentId":"pay_FgR9UMzgmKDJRi",\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n \n')))}c.isMDXComponent=!0}}]);