"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[3677],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return g}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=p(a),c=n,g=m["".concat(s,".").concat(c)]||m[c]||d[c]||l;return a?r.createElement(g,i(i({ref:t},u),{},{components:a})):r.createElement(g,i({ref:t},u))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[m]="string"==typeof e?e:n,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2520:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return m}});var r=a(87462),n=a(63366),l=(a(67294),a(3905)),i=["components"],o={sidebar_label:"Creating audience groups using CSV Import and Tags",title:"Creating audience groups using CSV Import and Tags"},s=void 0,p={unversionedId:"platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",id:"platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",title:"Creating audience groups using CSV Import and Tags",description:"Importing users from a CSV and grouping them using Tags",source:"@site/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv.md",sourceDirName:"platform_concepts/engagement/cdp/enriching_user_profiles",slug:"/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",permalink:"/docs/platform_concepts/engagement/cdp/enriching_user_profiles/create_audience_group_csv",draft:!1,tags:[],version:"current",frontMatter:{sidebar_label:"Creating audience groups using CSV Import and Tags",title:"Creating audience groups using CSV Import and Tags"}},u={},m=[{value:"Importing users from a CSV and grouping them using Tags",id:"importing-users-from-a-csv-and-grouping-them-using-tags",level:2},{value:"Pre-checks before uploading the CSV",id:"pre-checks-before-uploading-the-csv",level:2},{value:"Using the userId column to identify users",id:"using-the-userid-column-to-identify-users",level:2},{value:"Identifying errors in the CSV post import",id:"identifying-errors-in-the-csv-post-import",level:2}],d={toc:m};function c(e){var t=e.components,a=(0,n.Z)(e,i);return(0,l.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"importing-users-from-a-csv-and-grouping-them-using-tags"},"Importing users from a CSV and grouping them using Tags"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Create a CSV file with user details. Make sure that the column headers match the name of the user property that you want to map with. ")),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"These names are ",(0,l.kt)("strong",{parentName:"p"},"case sensitive")," and the column header ",(0,l.kt)("strong",{parentName:"p"},"should not include spaces")," before/after.")),(0,l.kt)("p",null,"   ",(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/gEcRb2s.jpg",alt:null})),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Navigate to ",(0,l.kt)("strong",{parentName:"p"},"Engage")," > ",(0,l.kt)("strong",{parentName:"p"},"User 360"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Click on ",(0,l.kt)("strong",{parentName:"p"},"Add user")," > ",(0,l.kt)("strong",{parentName:"p"},"Import users"),".\n",(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/KkDLtC2.png",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Upload the CSV file that you have created. ")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"In ",(0,l.kt)("strong",{parentName:"p"},"Tags"),", add custom tags for the group. These tags are added to every user in the CSV. This helps you differentiate between users uploaded from multiple CSV files and to maintain multiple audiences.\n",(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/Asg1896.jpg",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data_segments/creating_managing_user_segment"},"Create a segment")," using those tags to refer to the various set of audiences you have imported."))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"If the ",(0,l.kt)("a",{parentName:"p",href:"/docs/platform_concepts/engagement/cdp/user_data/user_properties#13-user-id-userid-as-a-property"},"userId")," is not passed in the CSV, yellow.ai creates and assigns an internally generated userId to each user.")),(0,l.kt)("h2",{id:"pre-checks-before-uploading-the-csv"},"Pre-checks before uploading the CSV"),(0,l.kt)("p",null,"To ensure that your users are imported successfully, ensure the following:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Correct column headers \u2192 Make sure that the column headers match the name of the user property that you want to map with. These names are case sensitive and the column header should not include spaces before/after. ")),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"If any of these column headers do not match with any user property, the entire CSV import will fail.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use correct data type \u2192 Data type validation is run before importing each user record. User records where this validation fails, will be skipped. Each data type accepts the following values:")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Data Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Accepted Value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"Any string value")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"List"),(0,l.kt)("td",{parentName:"tr",align:null},"semicolon ; separated values without spaces")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"email"),(0,l.kt)("td",{parentName:"tr",align:null},"A valid email id format")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Number"),(0,l.kt)("td",{parentName:"tr",align:null},"Any integer or decimal number with max 15 digits")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Phone"),(0,l.kt)("td",{parentName:"tr",align:null},"A valid phone number with country code")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"url"),(0,l.kt)("td",{parentName:"tr",align:null},"A valid url format")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"date"),(0,l.kt)("td",{parentName:"tr",align:null},"YYYY-MM-DD format")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"dateTime"),(0,l.kt)("td",{parentName:"tr",align:null},"YYYY-MM-DD hh:mm:ss format")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"time"),(0,l.kt)("td",{parentName:"tr",align:null},"hh:mm:ss format")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"true or false value, this is case insensitive")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"tags"),(0,l.kt)("td",{parentName:"tr",align:null},"semicolon ; separated values without spaces")))),(0,l.kt)("h2",{id:"using-the-userid-column-to-identify-users"},"Using the userId column to identify users"),(0,l.kt)("p",null,"You can pass the userId for the users being imported by creating a ",(0,l.kt)("strong",{parentName:"p"},"userId column")," in your CSV. However, keep in mind that no 2 user records can have the same userId. Know more about userId and it\u2019s importance ",(0,l.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/user_properties#1-user-id"},"here"),"."),(0,l.kt)("p",null,"When the CSV file includes a user record with a userId that already exists in the users table, a conflict arises between the old record and the new record. The new record is merged into the old record in the following manner:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Existing values of the user will be updated with the new record values."),(0,l.kt)("li",{parentName:"ul"},"Properties not provided for the new record, will be retained for the older record.")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"For example:")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Old record"),":"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"userId"),(0,l.kt)("th",{parentName:"tr",align:null},"firstName"),(0,l.kt)("th",{parentName:"tr",align:null},"email"),(0,l.kt)("th",{parentName:"tr",align:null},"phone"),(0,l.kt)("th",{parentName:"tr",align:null},"tags"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"123"),(0,l.kt)("td",{parentName:"tr",align:null},"Sarthak"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"mailto:sarthak@example.ai"},"sarthak@example.ai")),(0,l.kt)("td",{parentName:"tr",align:null},"919999999999"),(0,l.kt)("td",{parentName:"tr",align:null},"tag1,tag2")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"New record"),":"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"userId"),(0,l.kt)("th",{parentName:"tr",align:null},"firstName"),(0,l.kt)("th",{parentName:"tr",align:null},"email"),(0,l.kt)("th",{parentName:"tr",align:null},"phone"),(0,l.kt)("th",{parentName:"tr",align:null},"tags"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"123"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"918888888888"),(0,l.kt)("td",{parentName:"tr",align:null},"tag3,tag4")))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Merged Record"),":"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"userId"),(0,l.kt)("th",{parentName:"tr",align:null},"firstName"),(0,l.kt)("th",{parentName:"tr",align:null},"email"),(0,l.kt)("th",{parentName:"tr",align:null},"phone"),(0,l.kt)("th",{parentName:"tr",align:null},"tags"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"123"),(0,l.kt)("td",{parentName:"tr",align:null},"Sarthak"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"mailto:sarthak@yellow.ai"},"sarthak@yellow.ai")),(0,l.kt)("td",{parentName:"tr",align:null},"918888888888"),(0,l.kt)("td",{parentName:"tr",align:null},"tag3,tag4")))),(0,l.kt)("admonition",{type:"warning"},(0,l.kt)("p",{parentName:"admonition"},"Sometimes you might notice that the exact number of records you imported through CSV won't show up in the users table. This could be because some of the records being imported were merged with existing records.")),(0,l.kt)("h2",{id:"identifying-errors-in-the-csv-post-import"},"Identifying errors in the CSV post import"),(0,l.kt)("p",null,"Once you import a CSV file, you can check what happend with the records. You can see the count of new entries added, entries merged, and failed entries. "),(0,l.kt)("p",null,"New users might not be created with all entries you upload. The following are the possible reasons:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#22-checklist-for-csv-import"},"Wrong column headers")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#22-checklist-for-csv-import"},"Data type mismatch")),(0,l.kt)("li",{parentName:"ul"},"Some users being imported must\u2019ve ",(0,l.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#23-use-the-userid-column-for-unique-identifiers"},"merged")," into existing user records")),(0,l.kt)("p",null,"To identify errors in the import, see ",(0,l.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/add_users#24-analyse-import-errors"},"user Logs"),".\nClick on ",(0,l.kt)("strong",{parentName:"p"},"User Logs")," > Navigate to the relevant ",(0,l.kt)("strong",{parentName:"p"},"CSV Import activity")," > Click ",(0,l.kt)("strong",{parentName:"p"},"Download log"),"."),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/5jj2BgM.jpg",alt:null})),(0,l.kt)("p",null,"The downloaded log contains the following information:\n",(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/PVDp28M.png",alt:null})),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Summary"),": Shows the count of user records that were newly added, failed to add, and were merged into the existing user details.  ",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Records that were imported as new users"),(0,l.kt)("li",{parentName:"ul"},"Records for which import failed (included below)"),(0,l.kt)("li",{parentName:"ul"},"Records that were merged into existing users"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"BOT_ID"),": Bot Id for which the CSV was uploaded."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"REQUEST_PAYLOAD"),": The user record for which an import was attempted but FAILED"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"ERROR_PAYLOAD"),": The error details due to which above user import FAILED:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"invalidDataType"),": Properties for which the wrong ",(0,l.kt)("a",{parentName:"li",href:"/docs/platform_concepts/engagement/cdp/user_data/user_properties#11-system-user-properties"},"data type")," was passed"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"invalidProperty"),": Properties that do not exist in the user table"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"LINE_NUMBER"),": The row number of the user record for which import FAILED")))}c.isMDXComponent=!0}}]);