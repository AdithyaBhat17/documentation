"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[5444],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return k}});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,o=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=p(a),d=l,k=u["".concat(s,".").concat(d)]||u[d]||c[d]||o;return a?n.createElement(k,r(r({ref:t},m),{},{components:a})):n.createElement(k,r({ref:t},m))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=a.length,r=new Array(o);r[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:l,r[1]=i;for(var p=2;p<o;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},5256:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var n=a(87462),l=a(63366),o=(a(67294),a(3905)),r=["components"],i={title:"Manage database tables & data",sidebar_label:"Database (tables)"},s=void 0,p={unversionedId:"platform_concepts/studio/database",id:"platform_concepts/studio/database",title:"Manage database tables & data",description:"Databases can be used to store information in the form of  tables.",source:"@site/docs/platform_concepts/studio/database.md",sourceDirName:"platform_concepts/studio",slug:"/platform_concepts/studio/database",permalink:"/docs/platform_concepts/studio/database",draft:!1,tags:[],version:"current",frontMatter:{title:"Manage database tables & data",sidebar_label:"Database (tables)"},sidebar:"platform_concepts",previous:{title:"Download API logs",permalink:"/docs/cookbooks/studio/downloadapilogs"},next:{title:"Event",permalink:"/docs/platform_concepts/studio/events/event-hub"}},m={},u=[{value:'<a name="create"></a> 1. Create table',id:"-1-create-table",level:2},{value:'<a name="fetch"></a> 2. Fetch table data',id:"-2-fetch-table-data",level:2},{value:'<a name="import"></a> 3. Import data into table',id:"-3-import-data-into-table",level:2},{value:'<a name="edit"></a> 4. Edit table',id:"-4-edit-table",level:2},{value:'<a name="insert"></a> 5. Insert/update field values from bot flow',id:"-5-insertupdate-field-values-from-bot-flow",level:2},{value:"5.1 Insert field values from bot flow",id:"51-insert-field-values-from-bot-flow",level:3},{value:'<a name="update"></a> 5.2 Update field values from bot flow',id:"-52-update-field-values-from-bot-flow",level:3},{value:'<a name="delete"></a>  6. Delete table fields or table',id:"--6-delete-table-fields-or-table",level:2},{value:"7. Mask database columns",id:"7-mask-database-columns",level:2}],c={toc:u};function d(e){var t=e.components,a=(0,l.Z)(e,r);return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Databases can be used to store information in the form of  tables.\nDuring bot conversation, you might need to store a specific information from the user or show data depending on the user input.  Database makes it easy to insert and query data from the database. "),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/pwcKB9z.png",alt:null})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Sample use cases"),(0,o.kt)("ul",{parentName:"blockquote"},(0,o.kt)("li",{parentName:"ul"},"Create a table with different columns - city, pin code, and address columns. Show store address to the user based on the selected city or pin code."),(0,o.kt)("li",{parentName:"ul"},"Store feedback of user in a database table."),(0,o.kt)("li",{parentName:"ul"},"Store products in a table and show product details to the bot user based on the SKU or name selected."))),(0,o.kt)("p",null,"In this article, you will learn how to -"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#create"},"Create a table")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#a-namefetcha-2-fetch-table-data"},"Fetch table data")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#edit"},"Edit table and add associate relations if required")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#insert"},"Insert/update data from bot flows")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#delete"},"Delete table or table fieldst"))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"-1-create-table"},(0,o.kt)("a",{name:"create"})," 1. Create table"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Open the bot and switch to Development or Staging environment.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Navigate to ",(0,o.kt)("strong",{parentName:"p"},"Studio")," > ",(0,o.kt)("strong",{parentName:"p"},"Database"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Create new table"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/9yNPeR1.jpg",alt:null})))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"In ",(0,o.kt)("strong",{parentName:"li"},"Table name"),", name the table in lowercase without spacing."),(0,o.kt)("li",{parentName:"ul"},"In ",(0,o.kt)("strong",{parentName:"li"},"Field name"),",  enter a name for the field you want to insert in lowercase without any space. "),(0,o.kt)("li",{parentName:"ul"},"In ",(0,o.kt)("strong",{parentName:"li"},"Type"),", choose the datatype of the field."),(0,o.kt)("li",{parentName:"ul"},"Check ",(0,o.kt)("strong",{parentName:"li"},"Searchable")," to make the field searchable inside the database node in flows. These fields are available for filtering and summarization in data explorer. ")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"T2 subscribers can have upto five searchable fields within a table. However, there is no limit for T3 subscribers. "))),(0,o.kt)("p",null,"  ",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/eEeZwOi.png",alt:null})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Create table"),". ")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To download the table data, select the table and click ",(0,o.kt)("strong",{parentName:"p"},"Table actions")," > ",(0,o.kt)("strong",{parentName:"p"},"Download"),". ")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"-2-fetch-table-data"},(0,o.kt)("a",{name:"fetch"})," 2. Fetch table data"),(0,o.kt)("p",null,"If there are a number of records created in a table, it becomes difficult scroll through each field when you want to see a specific information. You can easily filter records by fields containing a specific keyword. "),(0,o.kt)("p",null,"To fetch a specific information, select the desired table. In the drop-down box highlighted below, you will see the list of all searchable columns along with ",(0,o.kt)("em",{parentName:"p"},"Inserted date")," and ",(0,o.kt)("em",{parentName:"p"},"Updated date"),".\n",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/XECkfAG.jpg",alt:null})),(0,o.kt)("p",null,"Choose the column in which you want to fetch a specific information, and use the Search box to filter records.\nFor example, the following screenshot says in the table ",(0,o.kt)("inlineCode",{parentName:"p"},"b_two_b_queries"),", get records whose company_name (column) has bites in it.\n",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/55XmW5v.png",alt:null})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"To get the records that were inserted or updated in a specific period, choose Inserted date or Updated date and select your preferred duration as shown here."),(0,o.kt)("p",{parentName:"li"}," . ",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/Hh7oVvL.png",alt:null})),(0,o.kt)("hr",{parentName:"li"}))),(0,o.kt)("h2",{id:"-3-import-data-into-table"},(0,o.kt)("a",{name:"import"})," 3. Import data into table"),(0,o.kt)("p",null,"When you need to insert multiple records into a table, it becomes difficult to add each record manually. You can easily upload multiple entries through a CSV file."),(0,o.kt)("p",null,"To import table data, follow these steps - "),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Studio")," > ",(0,o.kt)("strong",{parentName:"li"},"Database")," screen, click on the table for which you want to import data."),(0,o.kt)("li",{parentName:"ol"},"Create a CSV file with the data you want to upload. ")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"To easily create a CSV file, first download the table (Table actions > Download) and add the records that you want to upload.")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Click on ",(0,o.kt)("img",{src:"https://i.imgur.com/DQdsTtg.png",width:"20"}),"."),(0,o.kt)("li",{parentName:"ol"},"Select the file from your local system and upload it.")),(0,o.kt)("p",null,"You will see a new record(s) created in the table post upload."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"-4-edit-table"},(0,o.kt)("a",{name:"edit"})," 4. Edit table"),(0,o.kt)("p",null,"You can add new columns to the existing table or rename existing fields. You can also add relation associations between tables."),(0,o.kt)("p",null,"To edit a table, follow these steps"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"On the Database screen, select the table to edit and click ",(0,o.kt)("strong",{parentName:"li"},"Table actions")," > ",(0,o.kt)("strong",{parentName:"li"},"Edit table"),"."),(0,o.kt)("li",{parentName:"ol"},"Modify the required columns.\n",(0,o.kt)("img",{parentName:"li",src:"https://i.imgur.com/jjaGBlK.png",alt:null}))),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You cannot modify the datatype or searchability of a column once created.")),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"To set up relations with other table, click ",(0,o.kt)("strong",{parentName:"li"},"Add relations"),".\n",(0,o.kt)("img",{parentName:"li",src:"https://i.imgur.com/oaNF6qH.png",alt:null}),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Column: Choose the column of the current table that you want to map."),(0,o.kt)("li",{parentName:"ul"},"Name: Name the relation."),(0,o.kt)("li",{parentName:"ul"},"Type: Choose the type of association - One to one, One to many, Many to one, and Many to many."),(0,o.kt)("li",{parentName:"ul"},"Related table: Choose the table that you want to associate."),(0,o.kt)("li",{parentName:"ul"},"Related column: Choose the column that you want the current column to associate with."))),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Update"),".")),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"-5-insertupdate-field-values-from-bot-flow"},(0,o.kt)("a",{name:"insert"})," 5. Insert/update field values from bot flow"),(0,o.kt)("h3",{id:"51-insert-field-values-from-bot-flow"},"5.1 Insert field values from bot flow"),(0,o.kt)("p",null,"You can pass field values to the table directly from bot flows. "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Use case: You might need to collect the user's email address, phone number, and interested product, as part of a lead generation flow, ")),(0,o.kt)("p",null,"To push such data into the table, use the Database node and follow these steps -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"In Search type, choose Insert."),(0,o.kt)("li",{parentName:"ol"},"In the in drop-down, choose the destination table (where to insert the value).")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/aCWfB15.png",alt:null})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Add")," Records to select the destination column name.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/vMNDqQ7.png",alt:null})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Map each field with the respective value.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/X3u1Pos.png",alt:null})),(0,o.kt)("h3",{id:"-52-update-field-values-from-bot-flow"},(0,o.kt)("a",{name:"update"})," 5.2 Update field values from bot flow"),(0,o.kt)("p",null,"To update an existing field value of a table -",(0,o.kt)("br",{parentName:"p"}),"\n","Use the Database node and choose ",(0,o.kt)("strong",{parentName:"p"},"Select type")," as ",(0,o.kt)("em",{parentName:"p"},"Update")," along with other configurations."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/PPmnqPl.png",alt:null})),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/lHajFi7.png",alt:null})),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"--6-delete-table-fields-or-table"},(0,o.kt)("a",{name:"delete"}),"  6. Delete table fields or table"),(0,o.kt)("p",null,"On the Database screen, select the table to edit and click ",(0,o.kt)("strong",{parentName:"p"},"Table actions")," and choose the desired option from the list.\n",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/jjaGBlK.png",alt:null})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Truncate"),": Deletes all the data that exists in a specific table without removing the structure of the table."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Drop Table"),": Deletes the entire table structure along with all the records it contains.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Let us know if you have any clever use cases through our ",(0,o.kt)("a",{parentName:"p",href:"https://community.yellow.ai/"},"community"),".")),(0,o.kt)("h2",{id:"7-mask-database-columns"},"7. Mask database columns"),(0,o.kt)("p",null,"The Super Admin of the bot can mask certain database columns. For example, passwords or any PII data stored in plain text. The data of the masked column will be visible as ",(0,o.kt)("inlineCode",{parentName:"p"},"*****")," instead of real values."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The masking of data happens at the application level in the backend. You cannot access it in any other way.")),(0,o.kt)("p",null,"To mask columns, follow these steps -"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("strong",{parentName:"p"},"Table actions")," and choose ",(0,o.kt)("strong",{parentName:"p"},"Mask columns"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/zGiPOCs.png",alt:null}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Choose columns that store sensitive information."),(0,o.kt)("img",{src:"https://i.imgur.com/jZHDSza.png",width:"500"}))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Example: You can see the column named \u2018test\u2019 with ",(0,o.kt)("inlineCode",{parentName:"p"},"****")," instead of real values."),(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/ceC7f7Z.png",alt:null}))))}d.isMDXComponent=!0}}]);