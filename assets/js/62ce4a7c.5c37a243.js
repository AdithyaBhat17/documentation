"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[78580],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return m}});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=n.createContext({}),u=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=u(r),h=o,m=c["".concat(p,".").concat(h)]||c[h]||d[h]||a;return r?n.createElement(m,i(i({ref:t},l),{},{components:r})):n.createElement(m,i({ref:t},l))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=h;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},18842:function(e,t,r){r.r(t),r.d(t,{assets:function(){return l},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var n=r(87462),o=r(63366),a=(r(67294),r(3905)),i=["components"],s={title:"Store conversational data in User 360",sidebar_label:"Store conversational data"},p=void 0,u={unversionedId:"platform_concepts/engagement/cdp/user_data/store_conv_data",id:"platform_concepts/engagement/cdp/user_data/store_conv_data",title:"Store conversational data in User 360",description:"Store user ID through Builder",source:"@site/docs/platform_concepts/engagement/cdp/user_data/store_conv_data.md",sourceDirName:"platform_concepts/engagement/cdp/user_data",slug:"/platform_concepts/engagement/cdp/user_data/store_conv_data",permalink:"/docs/platform_concepts/engagement/cdp/user_data/store_conv_data",draft:!1,tags:[],version:"current",frontMatter:{title:"Store conversational data in User 360",sidebar_label:"Store conversational data"},sidebar:"platform_concepts",previous:{title:"User records creation & unification process",permalink:"/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers"},next:{title:"Personalise conversations with user properties",permalink:"/docs/platform_concepts/engagement/cdp/user_data/personalise_conversations"}},l={},c=[{value:"Store user ID through Builder",id:"store-user-id-through-builder",level:2},{value:"Using Prompt nodes",id:"using-prompt-nodes",level:3},{value:"Using the Store response in option",id:"using-the-store-response-in-option",level:3},{value:"Using the Variable node",id:"using-the-variable-node",level:3},{value:"Automated capturing of location-specific data",id:"automated-capturing-of-location-specific-data",level:2},{value:"Store user properties through Builder",id:"store-user-properties-through-builder",level:2},{value:"Update user properties through Builder",id:"update-user-properties-through-builder",level:2}],d={toc:c};function h(e){var t=e.components,r=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"store-user-id-through-builder"},"Store user ID through Builder"),(0,a.kt)("p",null,"There are three ways in which you can capture the user ID through bot Builder."),(0,a.kt)("h3",{id:"using-prompt-nodes"},"Using Prompt nodes"),(0,a.kt)("p",null,"When capturing user information through ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/prompt-nodes"},"Prompt nodes"),", you can store a specific user response both as a property value and user ID. For example, if mobile number is the unique identifier, you can use the prompt node, Phone and store the user's response in phone property and user ID simultaneously. "),(0,a.kt)("p",null,"To do this: "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Open the Prompt node that you want to set as the user ID.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"In ",(0,a.kt)("strong",{parentName:"p"},"Store response in"),", choose the user property where you want to store the user's response.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Click on ",(0,a.kt)("strong",{parentName:"p"},"Make prompt smarter"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Check Use this as unique id for user."),(0,a.kt)("center",null,(0,a.kt)("img",{src:"https://i.imgur.com/Vq38RIl.png",width:"60%"})))),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"You cannot update a user ID once it is added. If the user ID is captured again in a flow "),(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"it will map to the existing record if it already exists."),(0,a.kt)("li",{parentName:"ul"},"it will create a new user ID if it does not exist. To know about user identification in Builder, see ",(0,a.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers"},"How user records are created through conversations & unified in User 360"),"."))),(0,a.kt)("h3",{id:"using-the-store-response-in-option"},"Using the Store response in option"),(0,a.kt)("p",null,"In ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/prompt-nodes"},"Prompt nodes"),", you can set ",(0,a.kt)("strong",{parentName:"p"},"Store response in")," as ",(0,a.kt)("inlineCode",{parentName:"p"},"userId")," to store that specific user input to user ID."),(0,a.kt)("center",null,(0,a.kt)("img",{src:"https://i.imgur.com/1sgic0u.png",width:"50%"})),(0,a.kt)("h3",{id:"using-the-variable-node"},"Using the Variable node"),(0,a.kt)("p",null,"Alternatively, you can also use the Variable node (under Actions) to store a specific property value as user ID. For more details, see ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes#22-variables"},"Variable node")),(0,a.kt)("center",null,(0,a.kt)("img",{src:"https://i.imgur.com/mAFehuO.png",width:"60%"})),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"automated-capturing-of-location-specific-data"},"Automated capturing of location-specific data"),(0,a.kt)("p",null,"This optimizes your user records with better accuracy and enhances profile completeness, while saving time and effort. By using this information, you can create location-based segments that allow for personalized campaigns and tailored content."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"This is currently supported for web, and WhatsApp bots.")),(0,a.kt)("p",null,"The following are the auto-captured details for each bot channel."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Channel"),(0,a.kt)("th",{parentName:"tr",align:null},"User properties captured"),(0,a.kt)("th",{parentName:"tr",align:null},"Additional details"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"WhatsApp bot"),(0,a.kt)("td",{parentName:"tr",align:null},"Phone number, Country code"),(0,a.kt)("td",{parentName:"tr",align:null},"Captures country code using the phone number. However, the system may not capture the user's name in all cases, as the user might not have provided it, or the name might contain numbers or special characters that fail validation for the ",(0,a.kt)("inlineCode",{parentName:"td"},"firstName")," and ",(0,a.kt)("inlineCode",{parentName:"td"},"lastName")," properties.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Web bot"),(0,a.kt)("td",{parentName:"tr",align:null},"Timezone and country code"),(0,a.kt)("td",{parentName:"tr",align:null},"Uses IP address to capture these details.")))),(0,a.kt)("p",null,"To know how the existing record is affected with this, see ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers#auto-capturing-of-location-specific-information"},"Auto-capturing of location-specific information\n"),"."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"store-user-properties-through-builder"},"Store user properties through Builder"),(0,a.kt)("p",null,"Similar to user ID, you can also store other user properties through the bot Builder. Bots can capture user details and store them in User 360 or other database tables. You can use this to create personalised conversations with bot users based on their previous interactions and preferences."),(0,a.kt)("p",null,"To store user details (such as name, email address, phone number, and any other relevant information) through the bot, use prompt nodes or variable nodes in the bot Builder."),(0,a.kt)("p",null,"Once you have captured the user's details, you can store them in User 360 table or other database tables. This will enable you to access and use the user's information in bot conversations."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("ul",{parentName:"admonition"},(0,a.kt)("li",{parentName:"ul"},"All user properties captured for a record will be mapped to the user as soon as the `userId' is captured during the session."))),(0,a.kt)("p",null,"To store the user\u2019s response in User 360, in ",(0,a.kt)("strong",{parentName:"p"},"Store Response in"),", choose variables only under ",(0,a.kt)("strong",{parentName:"p"},"User properties"),". If a specific user property is not avilable, ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/user_properties#21-add-user-property"},"create a custom property")," and use it."),(0,a.kt)("p",null,"   ",(0,a.kt)("img",{parentName:"p",src:"https://i.imgur.com/h8FfpZE.png",alt:null})),(0,a.kt)("h2",{id:"update-user-properties-through-builder"},"Update user properties through Builder"),(0,a.kt)("p",null,"Once the user is identified, you can update the user properties (other than user ID) using the Prompt or Vaiable nodes."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"You cannot update user properties once captured. If the user ID is captured again in a flow, it will map to the existing record if it already exists, or create a new user ID if it does not exist. To know about user identification in Builder, see ",(0,a.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/data_capture_convers"},"How user records are created through conversations & unified in User 360"),".")),(0,a.kt)("p",null,"To update existing user properties:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Capture the user property that you want to update using the Variable node or Prompt node, as explained in ",(0,a.kt)("a",{parentName:"p",href:"#store-user-id-through-builder"},"Store user ID through builder"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Store them in the respective User properties, as explained in ",(0,a.kt)("a",{parentName:"p",href:"#store-user-properties-through-builder"},"Store user properties through builder"),"."))),(0,a.kt)("p",null,"In Prompt nodes, choose the relevant name under User properties."),(0,a.kt)("center",null," ",(0,a.kt)("img",{src:"https://i.imgur.com/mFz74Ka.png",width:"60%"})),(0,a.kt)("p",null,"In the Variable node, choose the relevant user property or add it manually using the syntax ",(0,a.kt)("inlineCode",{parentName:"p"},"{{user.propertyName}}")),(0,a.kt)("center",null," ",(0,a.kt)("img",{src:"https://i.imgur.com/1MvEa5O.png",width:"60%"})))}h.isMDXComponent=!0}}]);