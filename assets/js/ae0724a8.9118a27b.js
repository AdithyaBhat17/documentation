"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[5348],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=a,f=m["".concat(s,".").concat(u)]||m[u]||d[u]||i;return n?o.createElement(f,r(r({ref:t},c),{},{components:n})):o.createElement(f,r({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:a,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},75562:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return m}});var o=n(87462),a=n(63366),i=(n(67294),n(3905)),r=["components"],l={title:"Mobile SDK FAQs",sidebar_label:"Mobile SDK FAQs"},s=void 0,p={unversionedId:"platform_concepts/mobile/chatbot/mobile-sdk-faq",id:"platform_concepts/mobile/chatbot/mobile-sdk-faq",title:"Mobile SDK FAQs",description:"1. How to change the colour of the bot's close button?",source:"@site/docs/platform_concepts/mobile/chatbot/mobile-sdk-faq.md",sourceDirName:"platform_concepts/mobile/chatbot",slug:"/platform_concepts/mobile/chatbot/mobile-sdk-faq",permalink:"/docs/platform_concepts/mobile/chatbot/mobile-sdk-faq",draft:!1,tags:[],version:"current",frontMatter:{title:"Mobile SDK FAQs",sidebar_label:"Mobile SDK FAQs"},sidebar:"platform_concepts",previous:{title:"Xamarin",permalink:"/docs/platform_concepts/mobile/chatbot/xamarin"}},c={},m=[{value:"1. Verify in demo app",id:"1-verify-in-demo-app",level:4},{value:"2. Verify using firebase test notifications",id:"2-verify-using-firebase-test-notifications",level:4}],d={toc:m};function u(e){var t=e.components,n=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"1. How to change the colour of the bot's close button?")),(0,i.kt)("p",null,"You can change the colour of the close button in ym config. To know more about Close bot, click ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android#close-bot"},"here"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"2. How to change the colour of the status bar?")),(0,i.kt)("p",null,"You can change the colour of the status bar in ym config. To know more about Status bar, click ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android#use-lite-version"},"here"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"3. How to send bot events to the user?")),(0,i.kt)("p",null,"Use the following code snippet to send an event from bot code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'app.sendEvent({\n   code: \'sendIOSEvent\',\n   data: {\n      code: `user_logged_out`,\n      data: JSON.stringify({"actionType": "login"})\n   }\n})\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"4. Where can I find the documentation on Mobile SDK??")),(0,i.kt)("p",null,"Refer to the following documentation links for mobile SDK documentation:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/ios"},"IOS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android/"},"Android")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/cordova/"},"Cordova")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/react-native/"},"React Native")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/flutter/"},"Flutter")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/xamarin/"},"Xamarian"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"5. The push notifications are not working as expected. How to resolve this issue?")),(0,i.kt)("p",null,"There are two ways to debug push notifications:\xa0"),(0,i.kt)("h4",{id:"1-verify-in-demo-app"},"1. Verify in demo app"),(0,i.kt)("p",null,"You must download our demo app for iOS or Android and see if they are able to receive push notifications for these apps. Here are links to demo apps for ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yellowmessenger/YMChatbot-iOS-DemoApp"},"iOS")," and ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/yellowmessenger/YmChatBot-Android-DemoApp"},"android"),".\nIf notifications are working as expected on a demo app, then  you have not configured the app properly to receive push notifications. You must refer to the code of the demo app to configure the push notifications.\nIf notifications are not displaying in the demo app, then you must follow these steps: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Ensure that you have enabled push notifications in the Firebase console. "),(0,i.kt)("li",{parentName:"ul"},"Ensure that you have shared the service key and it is properly configured. "),(0,i.kt)("li",{parentName:"ul"},"Ensure the device token is being passed from the SDK. A lot of times, an empty string gets passed from the SDK.")),(0,i.kt)("h4",{id:"2-verify-using-firebase-test-notifications"},"2. Verify using firebase test notifications"),(0,i.kt)("p",null,"You must see if they are able to receive notifications in their own app from the Firebase notification testing system. This will ensure notifications are properly configured on the app side. ",(0,i.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/cloud-messaging/ios/first-message"},"https://firebase.google.com/docs/cloud-messaging/ios/first-message")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"6. How to map Firebase Server JSON to a Bot ID?")),(0,i.kt)("p",null,"Copy the following code and import to Postman. Enter the service key in the JSON body, replace your BotId in the request, and add an access token in the header against x-auth-token."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"curl --location --request POST 'https://cloud.yellow.ai/api/data/vault/saveBotConfig?bot=x1640006213013' \\\n--header 'x-auth-token: access-token-of-bot-admin ' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"notification\": {\n        \"firebaseConfig\": {\n            \"serviceAccount\": {}// Your Firebase Server json\n        }\n    }\n }\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"7. In Android, can we add a left-to-right view transition/animation or any animation?")),(0,i.kt)("p",null,"Yes, it is possible to add left-to-right view transition/animation. You need to override the activity style by adding the following lines to the ",(0,i.kt)("strong",{parentName:"p"},"themes.xml")," or ",(0,i.kt)("strong",{parentName:"p"},"styles.xml")," files."),(0,i.kt)("p",null,"This is an example of adding slide in left and slide out right transition. You can add your own animation based on your business needs."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'<style name="YmAppTheme.NoActionBar">\n<item name="windowActionBar">false</item>\n<item name="windowNoTitle">true</item>\n<item name="snackbarTextViewStyle">@style/YmSnackbarText</item>\n<item name="android:windowAnimationStyle">@style/WindowAnimationStyle</item>\n</style>\n\n\n<style name="WindowAnimationStyle">\n\n\xa0\xa0\xa0\xa0 <item name="android:activityOpenEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityOpenExitAnimation">@android:anim/slide_out_right</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityCloseEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityCloseExitAnimation">@android:anim/slide_out_right</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:windowEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:windowExitAnimation">@android:anim/slide_out_right</item>\n\n</style>\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"8. How to access the payload in v2 chatbots built on ",(0,i.kt)("a",{parentName:"strong",href:"https://cloud.yellow.ai"},"cloud.yellow.ai")),"?"),(0,i.kt)("p",null,"When payload is sent from mobile SDK, it is always a string of JSON. Ensure that you parse it before accessing the values.\nFollow the steps below:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Add a function node and code to parse the payload.")),(0,i.kt)("p",null,"The following is a sample code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'return new Promise(resolve => {\n          let payload = data.profile.payload\n          if (typeof (payload) == "string") {\n            payload = JSON.parse(payload)\n          }\n          resolve(payload)\n        });\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Save the resolved value from the function node to a variable of type ",(0,i.kt)("inlineCode",{parentName:"li"},"Object")," (for example, ",(0,i.kt)("inlineCode",{parentName:"li"},"payload")," )"),(0,i.kt)("li",{parentName:"ul"},"Then, you can access the values of the variable ( For example, ",(0,i.kt)("inlineCode",{parentName:"li"},"{{{variables.payload.name}}}")," )")),(0,i.kt)("img",{src:"https://i.imgur.com/3fmiI63.png)",alt:"drawing",width:"60%"}))}u.isMDXComponent=!0}}]);