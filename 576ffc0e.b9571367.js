(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{179:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return b})),a.d(t,"default",(function(){return p}));var n=a(3),l=a(7),o=(a(0),a(408)),r=["components"],i={title:"Manage database tables & data",sidebar_label:"Database"},c={unversionedId:"platform_concepts/studio/database",id:"platform_concepts/studio/database",isDocsHomePage:!1,title:"Manage database tables & data",description:"Databases can be used to store information in the form of  tables.",source:"@site/docs/platform_concepts/studio/database.md",slug:"/platform_concepts/studio/database",permalink:"/docs/platform_concepts/studio/database",version:"current",sidebar_label:"Database",sidebar:"platform_concepts",previous:{title:"API Error Alerts and Error Log",permalink:"/docs/platform_concepts/studio/api/api-settings"},next:{title:"Events",permalink:"/docs/platform_concepts/studio/events/event-hub"}},b=[{value:'<a name="create"></a> 1. Create table',id:"1-create-table",children:[]},{value:'<a name="fetch"></a> 2. Fetch table data',id:"2-fetch-table-data",children:[]},{value:'<a name="import"></a> 3. Import data into table',id:"3-import-data-into-table",children:[]},{value:'<a name="edit"></a> 4. Edit table',id:"4-edit-table",children:[]},{value:'<a name="insert"></a> 5. Insert/update field values from bot flow',id:"5-insertupdate-field-values-from-bot-flow",children:[{value:"5.1 Insert field values from bot flow",id:"51-insert-field-values-from-bot-flow",children:[]},{value:'<a name="update"></a> 5.2 Update field values from bot flow',id:"52-update-field-values-from-bot-flow",children:[]}]},{value:'<a name="delete"></a>  6. Delete table fields or table',id:"6-delete-table-fields-or-table",children:[]}],s={toc:b};function p(e){var t=e.components,a=Object(l.a)(e,r);return Object(o.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Databases can be used to store information in the form of  tables.\nDuring bot conversation, you might need to store a specific information from the user or show data depending on the user input.  Database makes it easy to insert and query data from the database. "),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/pwcKB9z.png",alt:null})),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Sample use cases"),Object(o.b)("ul",{parentName:"blockquote"},Object(o.b)("li",{parentName:"ul"},"Create a table with different columns - city, pin code, and address columns. Show store address to the user based on the selected city or pin code."),Object(o.b)("li",{parentName:"ul"},"Store feedback of user in a database table."),Object(o.b)("li",{parentName:"ul"},"Store products in a table and show product details to the bot user based on the SKU or name selected."))),Object(o.b)("p",null,"In this article, you will learn how to -"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#create"},"Create a table")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#a-namefetcha-2-fetch-table-data"},"Fetch table data")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#edit"},"Edit table and add associate relations if required")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#insert"},"Insert/update data from bot flows")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"#delete"},"Delete table or table fieldst"))),Object(o.b)("hr",null),Object(o.b)("h2",{id:"1-create-table"},Object(o.b)("a",{name:"create"})," 1. Create table"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Open the bot and switch to Development or Staging environment.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Navigate to ",Object(o.b)("strong",{parentName:"p"},"Studio")," > ",Object(o.b)("strong",{parentName:"p"},"Database"),".")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click ",Object(o.b)("strong",{parentName:"p"},"Create new table"),"."),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/9yNPeR1.jpg",alt:null})))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"In ",Object(o.b)("strong",{parentName:"li"},"Table name"),", name the table in lowercase without spacing."),Object(o.b)("li",{parentName:"ul"},"In ",Object(o.b)("strong",{parentName:"li"},"Field name"),",  enter a name for the field you want to insert in lowercase without any space. "),Object(o.b)("li",{parentName:"ul"},"In ",Object(o.b)("strong",{parentName:"li"},"Type"),", choose the datatype of the field."),Object(o.b)("li",{parentName:"ul"},"Check ",Object(o.b)("strong",{parentName:"li"},"Searchable")," to make the field searchable inside the database node in flows. These fields are available for filtering and summarization in data explorer. ")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},"T2 subscribers can have upto five searchable fields within a table. However, there is no limit for T3 subscribers. ")))),Object(o.b)("p",null,"  ",Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/eEeZwOi.png",alt:null})),Object(o.b)("ol",{start:4},Object(o.b)("li",{parentName:"ol"},"Click ",Object(o.b)("strong",{parentName:"li"},"Create table"),". ")),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"To download the table data, select the table and click ",Object(o.b)("strong",{parentName:"p"},"Table actions")," > ",Object(o.b)("strong",{parentName:"p"},"Download"),". "))),Object(o.b)("hr",null),Object(o.b)("h2",{id:"2-fetch-table-data"},Object(o.b)("a",{name:"fetch"})," 2. Fetch table data"),Object(o.b)("p",null,"If there are a number of records created in a table, it becomes difficult scroll through each field when you want to see a specific information. You can easily filter records by fields containing a specific keyword. "),Object(o.b)("p",null,"To fetch a specific information, select the desired table. In the drop-down box highlighted below, you will see the list of all searchable columns along with ",Object(o.b)("em",{parentName:"p"},"Inserted date")," and ",Object(o.b)("em",{parentName:"p"},"Updated date"),".\n",Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/XECkfAG.jpg",alt:null})),Object(o.b)("p",null,"Choose the column in which you want to fetch a specific information, and use the Search box to filter records.\nFor example, the following screenshot says in the table ",Object(o.b)("inlineCode",{parentName:"p"},"b_two_b_queries"),", get records whose company_name (column) has bites in it.\n",Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/55XmW5v.png",alt:null})),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"To get the records that were inserted or updated in a specific period, choose Inserted date or Updated date and select your preferred duration as shown here."),Object(o.b)("p",{parentName:"li"}," . ",Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/Hh7oVvL.png",alt:null})),Object(o.b)("hr",{parentName:"li"}))),Object(o.b)("h2",{id:"3-import-data-into-table"},Object(o.b)("a",{name:"import"})," 3. Import data into table"),Object(o.b)("p",null,"When you need to insert multiple records into a table, it becomes difficult to add each record manually. You can easily upload multiple entries through a CSV file."),Object(o.b)("p",null,"To import table data, follow these steps - "),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"On the ",Object(o.b)("strong",{parentName:"li"},"Studio")," > ",Object(o.b)("strong",{parentName:"li"},"Database")," screen, click on the table for which you want to import data."),Object(o.b)("li",{parentName:"ol"},"Create a CSV file with the data you want to upload. ")),Object(o.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"To easily create a CSV file, first download the table (Table actions > Download) and add the records that you want to upload."))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Click on ",Object(o.b)("img",{src:"https://i.imgur.com/DQdsTtg.png",width:"20"}),"."),Object(o.b)("li",{parentName:"ol"},"Select the file from your local system and upload it.")),Object(o.b)("p",null,"You will see a new record(s) created in the table post upload."),Object(o.b)("hr",null),Object(o.b)("h2",{id:"4-edit-table"},Object(o.b)("a",{name:"edit"})," 4. Edit table"),Object(o.b)("p",null,"You can add new columns to the existing table or rename existing fields. You can also add relation associations between tables."),Object(o.b)("p",null,"To edit a table, follow these steps"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"On the Database screen, select the table to edit and click ",Object(o.b)("strong",{parentName:"li"},"Table actions")," > ",Object(o.b)("strong",{parentName:"li"},"Edit table"),"."),Object(o.b)("li",{parentName:"ol"},"Modify the required columns.\n",Object(o.b)("img",{parentName:"li",src:"https://i.imgur.com/jjaGBlK.png",alt:null}))),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"You cannot modify the datatype or searchability of a column once created."))),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"To set up relations with other table, click ",Object(o.b)("strong",{parentName:"li"},"Add relations"),".\n",Object(o.b)("img",{parentName:"li",src:"https://i.imgur.com/oaNF6qH.png",alt:null}),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Column: Choose the column of the current table that you want to map."),Object(o.b)("li",{parentName:"ul"},"Name: Name the relation."),Object(o.b)("li",{parentName:"ul"},"Type: Choose the type of association - One to one, One to many, Many to one, and Many to many."),Object(o.b)("li",{parentName:"ul"},"Related table: Choose the table that you want to associate."),Object(o.b)("li",{parentName:"ul"},"Related column: Choose the column that you want the current column to associate with."))),Object(o.b)("li",{parentName:"ol"},"Click ",Object(o.b)("strong",{parentName:"li"},"Update"),".")),Object(o.b)("hr",null),Object(o.b)("h2",{id:"5-insertupdate-field-values-from-bot-flow"},Object(o.b)("a",{name:"insert"})," 5. Insert/update field values from bot flow"),Object(o.b)("h3",{id:"51-insert-field-values-from-bot-flow"},"5.1 Insert field values from bot flow"),Object(o.b)("p",null,"You can pass field values to the table directly from bot flows. "),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Use case: You might need to collect the user's email address, phone number, and interested product, as part of a lead generation flow, ")),Object(o.b)("p",null,"To push such data into the table, use the Database node and follow these steps -"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"In Search type, choose Insert."),Object(o.b)("li",{parentName:"ol"},"In the in drop-down, choose the destination table (where to insert the value).")),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/aCWfB15.png",alt:null})),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Click ",Object(o.b)("strong",{parentName:"li"},"Add")," Records to select the destination column name.")),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/vMNDqQ7.png",alt:null})),Object(o.b)("ol",{start:4},Object(o.b)("li",{parentName:"ol"},"Map each field with the respective value.")),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/X3u1Pos.png",alt:null})),Object(o.b)("h3",{id:"52-update-field-values-from-bot-flow"},Object(o.b)("a",{name:"update"})," 5.2 Update field values from bot flow"),Object(o.b)("p",null,"To update an existing field value of a table -",Object(o.b)("br",{parentName:"p"}),"\n","Use the Database node and choose ",Object(o.b)("strong",{parentName:"p"},"Select type")," as ",Object(o.b)("em",{parentName:"p"},"Update")," along with other configurations."),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/PPmnqPl.png",alt:null})),Object(o.b)("p",null,Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/lHajFi7.png",alt:null})),Object(o.b)("hr",null),Object(o.b)("h2",{id:"6-delete-table-fields-or-table"},Object(o.b)("a",{name:"delete"}),"  6. Delete table fields or table"),Object(o.b)("p",null,"On the Database screen, select the table to edit and click ",Object(o.b)("strong",{parentName:"p"},"Table actions")," and choose the desired option from the list.\n",Object(o.b)("img",{parentName:"p",src:"https://i.imgur.com/jjaGBlK.png",alt:null})),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"Truncate"),": Deletes all the data that exists in a specific table without removing the structure of the table."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("strong",{parentName:"li"},"Drop Table"),": Deletes the entire table structure along with all the records it contains.")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"Let us know if you have any clever use cases through our ",Object(o.b)("a",{parentName:"p",href:"https://community.yellow.ai/"},"community"),".")))}p.isMDXComponent=!0},408:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var n=a(0),l=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var b=l.a.createContext({}),s=function(e){var t=l.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=s(e.components);return l.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},m=l.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,r=e.parentName,b=c(e,["components","mdxType","originalType","parentName"]),p=s(a),m=n,u=p["".concat(r,".").concat(m)]||p[m]||d[m]||o;return a?l.a.createElement(u,i(i({ref:t},b),{},{components:a})):l.a.createElement(u,i({ref:t},b))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,r=new Array(o);r[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,r[1]=i;for(var b=2;b<o;b++)r[b]=a[b];return l.a.createElement.apply(null,r)}return l.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"}}]);