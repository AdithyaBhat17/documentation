(window.webpackJsonp=window.webpackJsonp||[]).push([[320],{402:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),o=(n(0),n(452)),l=["components"],c={title:"Call forwarding",sidebar_label:"Call forwarding"},i={unversionedId:"cookbooks/voice-as-channel/callforwarding",id:"cookbooks/voice-as-channel/callforwarding",isDocsHomePage:!1,title:"Call forwarding",description:"For the IVR channel, in cases, where the voice bot is unable to understand the user response or the user and wants to escalate certain time-critical issues directly to a support executive we can transfer the same call to an agent. Here, we can transfer the context of the call also so the agent doesn\u2019t have to start the conversation from scratch. This is done by using custom SIP headers where we pass information collected by the bot like name, number, or any other issues-related details to the agent beforehand so that the conversation doesn\u2019t lose context.",source:"@site/docs/cookbooks/voice-as-channel/callforwarding.md",slug:"/cookbooks/voice-as-channel/callforwarding",permalink:"/docs/cookbooks/voice-as-channel/callforwarding",version:"current",sidebar_label:"Call forwarding",sidebar:"cookbooks",previous:{title:"Delays in a conversation",permalink:"/docs/cookbooks/voice-as-channel/understandingdelays"},next:{title:"Call recording",permalink:"/docs/cookbooks/voice-as-channel/callrecording"}},s=[{value:"1. Configure call forwarding for the bot",id:"1-configure-call-forwarding-for-the-bot",children:[]},{value:"2. Use-cases",id:"2-use-cases",children:[]}],b={toc:s};function u(e){var t=e.components,n=Object(r.a)(e,l);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"For the IVR channel, in cases, where the voice bot is unable to understand the user response or the user and wants to escalate certain time-critical issues directly to a support executive we can transfer the same call to an agent. Here, we can transfer the context of the call also so the agent doesn\u2019t have to start the conversation from scratch. This is done by using custom SIP headers where we pass information collected by the bot like name, number, or any other issues-related details to the agent beforehand so that the conversation doesn\u2019t lose context."),Object(o.b)("h2",{id:"1-configure-call-forwarding-for-the-bot"},"1. Configure call forwarding for the bot"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"For forwarding a call, you have to enable the call forward feature on selected nodes where you feel as per the bot logic."),Object(o.b)("li",{parentName:"ol"},"To forward a call, you can use the below-mentioned node level options:")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Call Forward - Boolean"),Object(o.b)("li",{parentName:"ul"},"Number OR SIP extension to forward a call"),Object(o.b)("li",{parentName:"ul"},"Forward stop recording"),Object(o.b)("li",{parentName:"ul"},"Custom SIP headers"),Object(o.b)("li",{parentName:"ul"},"Custom CLI")),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Fields"),Object(o.b)("th",{parentName:"tr",align:null},"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("strong",{parentName:"td"},"Call forward")),Object(o.b)("td",{parentName:"tr",align:null},"When this is enabled you can enter a number to forward or the SIP. It is used to enable call forwarding to an agent in any specific step. You can either forward the call to an agent's number or forward it to some SIP extension.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("strong",{parentName:"td"},"Number to forward")),Object(o.b)("td",{parentName:"tr",align:null},"This textbox accepts the number of the call to be forwarded to ex: Number (+919XXXXXXXXX).")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("strong",{parentName:"td"},"SIP extension")),Object(o.b)("td",{parentName:"tr",align:null},"Extension to initiate SIP (Session Initiation Protocol) transfer.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("strong",{parentName:"td"},"Caller line identity")),Object(o.b)("td",{parentName:"tr",align:null},"This field accepts ",Object(o.b)("strong",{parentName:"td"},"custom caller ID")," which is sent while forwarding the call to an agent. Note, that this functionality is not supported by all the carriers.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("strong",{parentName:"td"},"Custom SIP header")),Object(o.b)("td",{parentName:"tr",align:null},"This can be used as an additional parameter that can be passed to an agent while transferring the call to an Agent to pass along bot collected information. You can pass a key-value pair in JSON format which will get passed in the SIP header.")))),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"An example of a Custom SIP header:")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"[{\u201ckey\u201d:\u201cUser-to-User\u201d, \u201cvalue\u201d:\u201cname=david&product=heater&query=not turning off&priority=high&number=12345\u201d}]")),Object(o.b)("h2",{id:"2-use-cases"},"2. Use-cases"),Object(o.b)("p",null,"Call forwarding can be used in the following ways while building a voice bot:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Business requirements specifically know when and where to transfer the call as part of the conversation.",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"The components which can be used to build such a flow are Question/Text node and Call forward Node Level Options."),Object(o.b)("li",{parentName:"ul"},"Let\u2019s say the bot has collected all the required basic information like name, number, address, and policy number for your insurance. Since at this stage the bot logic could now channel this conversation to an agent to better judge the case, we could use a Text node (saying, \u201cThank you for providing us with all the details. Transferring your call to support executive for faster resolution\u201d) with all the options properly set as mentioned above.")))),Object(o.b)("img",{src:"https://lh4.googleusercontent.com/fSUkWcaujQVEQEcNJSfQRx0OHSJesyifMyX2IUFhp-PxuZb4IReimKQm_FUWk5jNkhr8c6EA-AQg8xuFivhF-AeXqVZWSQGv1F1Iug7Ysk4hCRTjA6Qgj2SkRfdr5IKyEtEHGCPqAalhPBCEFn0JqhQzMBN0bx0Rcdyofq_QfilKFI5Al2XYIb3WUw",alt:"drawing",width:"60%"}),Object(o.b)("img",{src:"https://lh4.googleusercontent.com/09bqp0NR2haSwBWqv2algNR2P23LJwmxcVHXcECGwnIfZR0wvt8U68IWEiTq_DK4vjSadNvdj-9NzJCOmjQ_B0zLpQJy1RYVrc3_rS5ijXCgVkOD_Guf4_vvc73Bwlh1tpNtuSnKXr1guHn7qHNf81p3TnQ7ZM2fFAtyT5G5CJtxfPhv-m4CEnpxrA",alt:"drawing",width:"60%"}),Object(o.b)("ol",{start:2},Object(o.b)("li",{parentName:"ol"},"Bot requires to support on request Agent Transfer from the user while conversation.",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"The components which can be used to build such a flow are Intent detection >  ",Object(o.b)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/journeys"},"Separate flows")," (as per user request).  "),Object(o.b)("li",{parentName:"ul"},"Apart from the cases where the bot transfers the call to an agent, which are pre-meditated for time-critical use cases business requirements could be of transferring the call directly to an Agent as and when the user requests.    "),Object(o.b)("li",{parentName:"ul"},"In such cases, upon detecting the user intention of \u201cTalk to Customer Support\u201d at any point in the conversation, we could have an altogether separate journey that could be triggered via intent detection.  ")))),Object(o.b)("img",{src:"https://lh4.googleusercontent.com/L2bA4jJBsCtet-AU3e6QbR2LvWU9IOGPGLL5DHQTpCvD7SEvU89qBJoVuvxKVEbPk7WnlYNxQXVoVcadJ9R9SQe4gKvVE8H6ixXErgA3-mIbzgoCnNsz5qcmz6kplwvWp__Ck20G9xqhsWybxJvHJKx566wpbPpFW2bFkcFBCzatyD2c8KC2EPj8_Q",alt:"drawing",width:"60%"}),Object(o.b)("img",{src:"https://lh4.googleusercontent.com/CQudCk90GcVBaTzI5B15T7PRJsg5lV8d3SVbi70nUehlUAODLi8F0iv0JLlzG_8ahZ1jejq1oWiHMS8gvQf5blo9ifZ9sVaZsVS5aot5pLk09lfIlDE-VpqpqUV4UThTOuViyZohcz3elHxAozsSzYEUo2uoCYh8NTS0ZuYh0kb4XeHOxnP1EWEn1g",alt:"drawing",width:"60%"}),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"Bot is required to transfer to agents (as a fallback mechanism) if it isn\u2019t able to understand the user response multiple times.",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"The components which can be used to build such a flow are separate custom flows."),Object(o.b)("li",{parentName:"ul"},"Apart from the intent detection, one more use case could be where the voice bot for some reason isn\u2019t able to understand the user response/query (even after multiple re-tries) and hence we want to transfer the call to an agent. For such cases, the ideal flow is where the bot tries to understand the user response 2/3 times (repeat limit can also be configured) and post that fallback mechanism like agent transfer (or call disconnect) needs to be configured. For this, the bot developer needs to create a custom journey using execute flow for a specific business use case.")))))}u.isMDXComponent=!0},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},h=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=b(n),h=a,p=u["".concat(l,".").concat(h)]||u[h]||d[h]||o;return n?r.a.createElement(p,c(c({ref:t},s),{},{components:n})):r.a.createElement(p,c({ref:t},s))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=h;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:a,l[1]=c;for(var s=2;s<o;s++)l[s]=n[s];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}h.displayName="MDXCreateElement"}}]);