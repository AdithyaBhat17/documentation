(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{248:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(7),o=(n(0),n(470)),i=["components"],c={title:"Chat widget events",sidebar_label:"Chat widget events"},l={unversionedId:"platform_concepts/channelConfiguration/event-widget",id:"platform_concepts/channelConfiguration/event-widget",isDocsHomePage:!1,title:"Chat widget events",description:"Yellow.ai\xa0offers a wide range of options to customize features for its web widget. However, sometimes, our clients need even more flexibility in crafting the widget\u2019s design, and functionality as per their use cases.",source:"@site/docs/platform_concepts/channelConfiguration/event-widget.md",slug:"/platform_concepts/channelConfiguration/event-widget",permalink:"/docs/platform_concepts/channelConfiguration/event-widget",version:"current",sidebar_label:"Chat widget events",sidebar:"platform_concepts",previous:{title:"Customize Chat bot using functions",permalink:"/docs/platform_concepts/channelConfiguration/fuction-widgets"},next:{title:"Install chrome extension",permalink:"/docs/platform_concepts/channelConfiguration/chrome-extension"}},s=[{value:"1.1 Send event to bot",id:"11-send-event-to-bot",children:[]},{value:"1.2 Listen to a bot event",id:"12-listen-to-a-bot-event",children:[]},{value:"1.3 Available events",id:"13-available-events",children:[]}],b={toc:s};function u(e){var t=e.components,n=Object(r.a)(e,i);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Yellow.ai\xa0offers a wide range of options to customize features for its web widget. However, sometimes, our clients need even more flexibility in crafting the widget\u2019s design, and functionality as per their use cases. "),Object(o.b)("p",null,"You can use certain tricks to customize your web widget to suit your needs. This section helps you with different ways to customize your chat widget\u2019s look and feel,  functionality, and capture bot events."),Object(o.b)("p",null,"When your bot is operational, it generates various events. You can use them to capture those occurrences and trigger a flow or automation workflow."),Object(o.b)("h3",{id:"11-send-event-to-bot"},"1.1 Send event to bot"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"// find the yellow.ai widget iframe\nconst ymIframe = document.getElementById('ymIframe');\n// event_name should be a valid name supported by the widget.\nconst message = JSON.stringify({code: 'event_name', data: {...}});\n// send a cross-site message using \n// window.postMessage(message, targetOrigin, transfer) API.\nymIframe.contentWindow?.postMessage(message, window.location.origin);\n")),Object(o.b)("h3",{id:"12-listen-to-a-bot-event"},"1.2 Listen to a bot event"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'<script type="text/javascript">\n         window.addEventListener(\'message\', function(eventData) {\n                            // make sure to verify origin to prevent XSS attacks.\n                            // https://blog.yeswehack.com/yeswerhackers/introduction-postmessage-vulnerabilities/\n                            // if (event.origin !== <your_origin>) throw new Error(\'Message not allowed");\n            console.log(eventData,"eventData");\n         })\n<\/script>\n')),Object(o.b)("h3",{id:"13-available-events"},"1.3 Available events"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Event"),Object(o.b)("th",{parentName:"tr",align:null},"Functionality"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym-bot-opened"),Object(o.b)("td",{parentName:"tr",align:null},"Bot opened")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym-bot-closed"),Object(o.b)("td",{parentName:"tr",align:null},"Bot closed")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym_event_quick_reply"),Object(o.b)("td",{parentName:"tr",align:null},"Quick Reply clicked")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym_event_image_clicked"),Object(o.b)("td",{parentName:"tr",align:null},"Image opened in preview")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym_event_card_action"),Object(o.b)("td",{parentName:"tr",align:null},"Card action button clicked")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym-bot-loaded-on-page-reload"),Object(o.b)("td",{parentName:"tr",align:null},"When the refresh context is false, the bot will receive events as soon as the page reloads")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"ym_home"),Object(o.b)("td",{parentName:"tr",align:null},"Home button clicked")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"message-received"),Object(o.b)("td",{parentName:"tr",align:null},"New message received by user that is, sent by the bot")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},"page-url-based-trigger"),Object(o.b)("td",{parentName:"tr",align:null},"Whenever a notification is sent in the bot (for electron apps)")))))}u.isMDXComponent=!0},470:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),b=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=b(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=b(n),p=a,m=u["".concat(i,".").concat(p)]||u[p]||d[p]||o;return n?r.a.createElement(m,c(c({ref:t},s),{},{components:n})):r.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);