(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{251:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return l}));var o=n(3),a=n(7),r=(n(0),n(265)),i={title:"API Management",sidebar_label:"Receiving data from an API"},c={unversionedId:"platform_concepts/studio/api-management/receive-data",id:"platform_concepts/studio/api-management/receive-data",isDocsHomePage:!1,title:"API Management",description:"How to access data from an API/Response?",source:"@site/docs/platform_concepts/studio/api-management/receive-data.md",slug:"/platform_concepts/studio/api-management/receive-data",permalink:"/docs/platform_concepts/studio/api-management/receive-data",version:"current",sidebar_label:"Receiving data from an API",sidebar:"platform_concepts",previous:{title:"API Management",permalink:"/docs/platform_concepts/studio/api-management/send-data"},next:{title:"Adding Contextual Responses",permalink:"/docs/platform_concepts/studio/context-management/add-contextual-response"}},s=[{value:"How to access data from an API/Response?",id:"how-to-access-data-from-an-apiresponse",children:[]},{value:"How to access transformation Function in API actions node",id:"how-to-access-transformation-function-in-api-actions-node",children:[]}],p={toc:s};function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h3",{id:"how-to-access-data-from-an-apiresponse"},"How to access data from an API/Response?"),Object(r.b)("p",null,"To retrieve the API response and to display it to the user, please follow the below steps."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Add a Prompt/Message node after the actions node.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select the Variable where you stored API Response.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Using the dot notation, access the value of API response."))),Object(r.b)("p",null,Object(r.b)("img",Object(o.a)({parentName:"p"},{src:"https://cdn.yellowmessenger.com/pM8aYXXUTfPf1623906957904.gif",alt:"API Response"}))),Object(r.b)("p",null,"Finally, when a user messages the bot, the id would be displayed to the user."),Object(r.b)("h3",{id:"how-to-access-transformation-function-in-api-actions-node"},"How to access transformation Function in API actions node"),Object(r.b)("p",null,"Transformation Function can be used when you wish to modify/manipulate the API response in order to present the API response in a more meaningful format to the user."),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Add the a function in the transformation function")),Object(r.b)("ol",{start:2},Object(r.b)("li",{parentName:"ol"},"In the transformation function, you could access the API response in ymLib.args.\nYou could write your own logic in javascript to fetch only the fields you wish to have in the response of API.")),Object(r.b)("ol",{start:3},Object(r.b)("li",{parentName:"ol"},"After your logic, please return the value so that would be saved in a variable. You could use the variable in Prompt or Message node to send that to user.\n",Object(r.b)("img",Object(o.a)({parentName:"li"},{src:"https://cdn.yellowmessenger.com/AcpS8JuDUAbu1623865522897.png",alt:"API Response"})))),Object(r.b)("p",null,"A sample transformation function to modify the information which we get from shopify API."),Object(r.b)("p",null,"Another example transformation function here. "),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{}),'return new Promise(resolve => {\n    // userdetals api => {name:"Ravi", age:34}\n    ymLib.logger.log((ymLib.args.apiResponse, "response"));\n    return resolve(ymLib.args.apiResponse.name);\n});\n\n')))}l.isMDXComponent=!0},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var o=n(0),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=a.a.createContext({}),l=function(e){var t=a.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=l(e.components);return a.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),d=o,b=u["".concat(i,".").concat(d)]||u[d]||m[d]||r;return n?a.a.createElement(b,c(c({ref:t},p),{},{components:n})):a.a.createElement(b,c({ref:t},p))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,i[1]=c;for(var p=2;p<r;p++)i[p]=n[p];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);